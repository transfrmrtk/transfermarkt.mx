var marketValueDevelopmentGraphIntegrated=function(){"use strict";var Px=Object.defineProperty;var Gd=it=>{throw TypeError(it)};var Rx=(it,Ge,pt)=>Ge in it?Px(it,Ge,{enumerable:!0,configurable:!0,writable:!0,value:pt}):it[Ge]=pt;var vt=(it,Ge,pt)=>Rx(it,typeof Ge!="symbol"?Ge+"":Ge,pt),ql=(it,Ge,pt)=>Ge.has(it)||Gd("Cannot "+pt);var W=(it,Ge,pt)=>(ql(it,Ge,"read from private field"),pt?pt.call(it):Ge.get(it)),He=(it,Ge,pt)=>Ge.has(it)?Gd("Cannot add the same private member more than once"):Ge instanceof WeakSet?Ge.add(it):Ge.set(it,pt),Ce=(it,Ge,pt,so)=>(ql(it,Ge,"write to private field"),so?so.call(it,pt):Ge.set(it,pt),pt),gt=(it,Ge,pt)=>(ql(it,Ge,"access private method"),pt);var cd,Qi,Zi,xr,za,Ji,ea,vi,ta,Ha,Ya,pn,Xl,js,Gl,An,tn,Va,zn,pi,Hn,mn,Vt,Yn,Tr,mi,Sr,gi,cr,hs,ds,kt,Qd,Zd,zs,Hs,Ql,Er,ra,Wa,vs,Jd,fr,gn;typeof window<"u"&&((cd=window.__svelte??(window.__svelte={})).v??(cd.v=new Set)).add("5");let Ge=!1,pt=!1;function so(){Ge=!0}so();const uo=1,lo=2,Zl=4,ev=8,tv=16,nv=1,rv=2,iv=4,av=8,ov=16,Jl=1,sv=2,Ys="[",ca="[!",co="]",Ai={},St=Symbol(),Ae=Symbol("filename"),uv="http://www.w3.org/1999/xhtml",lv="http://www.w3.org/2000/svg",ec=!0;var fo=Array.isArray,cv=Array.prototype.indexOf,Vs=Array.from,ho=Object.keys,on=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,tc=Object.getOwnPropertyDescriptors,fv=Object.prototype,hv=Array.prototype,Ws=Object.getPrototypeOf,nc=Object.isExtensible;function fa(e){return typeof e=="function"}const Nr=()=>{};function dv(e){return e()}function qs(e){for(var t=0;t<e.length;t++)e[t]()}function rc(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}function vv(e,t,n=!1){return e===void 0?n?t():t:e}const Nt=2,Xs=4,vo=8,Ur=16,Gn=32,vr=64,Gs=128,sn=256,po=512,yt=1024,qt=2048,$n=4096,xn=8192,Lr=16384,Qs=32768,ha=65536,mo=1<<17,pv=1<<18,Br=1<<19,ic=1<<20,go=1<<21,da=1<<22,Kr=1<<23,Tn=Symbol("$state"),Zs=Symbol("legacy props"),mv=Symbol(""),ac=Symbol("proxy path"),va=new class extends Error{constructor(){super(...arguments);vt(this,"name","StaleReactionError");vt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},oc=1,yo=3,jr=8,gv=11;function sc(e){{const t=new Error(`lifecycle_outside_component
\`${e}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}}function yv(){{const e=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw e.name="Svelte error",e}}function _v(e){{const t=new Error(`store_invalid_shape
\`${e}\` is not a store with a \`subscribe\` method
https://svelte.dev/e/store_invalid_shape`);throw t.name="Svelte error",t}}function wv(){{const e=new Error("svelte_element_invalid_this_value\nThe `this` prop on `<svelte:element>` must be a string, if defined\nhttps://svelte.dev/e/svelte_element_invalid_this_value");throw e.name="Svelte error",e}}function bv(){{const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}}function xv(e,t){{const n=new Error(`component_api_changed
Calling \`${e}\` on a component instance (of ${t}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw n.name="Svelte error",n}}function Tv(e,t){{const n=new Error(`component_api_invalid_new
Attempted to instantiate ${e} with \`new ${t}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw n.name="Svelte error",n}}function Sv(){{const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}}function Ev(e){{const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}}function kv(){{const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}}function Cv(e){{const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}}function Av(){{const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}}function Mv(){{const e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}}function Dv(e){{const t=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}}function $v(e){{const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}}function Pv(){{const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}}function Rv(){{const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}}function Iv(){{const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}}function Ov(){{const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}}var pr="font-weight: bold",mr="font-weight: normal";function Fv(e){console.warn(`%c[svelte] await_reactivity_loss
%cDetected reactivity loss when reading \`${e}\`. This happens when state is read in an async function after an earlier \`await\`
https://svelte.dev/e/await_reactivity_loss`,pr,mr)}function Nv(e,t){console.warn(`%c[svelte] event_handler_invalid
%c${e} should be a function. Did you mean to ${t}?
https://svelte.dev/e/event_handler_invalid`,pr,mr)}function Uv(e,t,n){console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${n}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,pr,mr)}function _o(e){console.warn(`%c[svelte] hydration_mismatch
%cHydration failed because the initial UI does not match what was rendered on the server
https://svelte.dev/e/hydration_mismatch`,pr,mr)}function Lv(){console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,pr,mr)}function pa(e){console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,pr,mr)}function Bv(){console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,pr,mr)}function Kv(){console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",pr,mr)}let ke=!1;function Xt(e){ke=e}let Pe;function _t(e){if(e===null)throw _o(),Ai;return Pe=e}function zr(){return _t(On(Pe))}function Me(e){if(ke){if(On(Pe)!==null)throw _o(),Ai;Pe=e}}function Js(e=1){if(ke){for(var t=e,n=Pe;t--;)n=On(n);Pe=n}}function wo(e=!0){for(var t=0,n=Pe;;){if(n.nodeType===jr){var r=n.data;if(r===co){if(t===0)return n;t-=1}else(r===Ys||r===ca)&&(t+=1)}var i=On(n);e&&n.remove(),n=i}}function uc(e){if(!e||e.nodeType!==jr)throw _o(),Ai;return e.data}function lc(e){return e===this.v}function cc(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function fc(e){return!cc(e,this.v)}var jv="font-weight: bold",zv="font-weight: normal";function Hv(e){console.warn(`%c[svelte] dynamic_void_element_content
%c\`<svelte:element this="${e}">\` is a void element — it cannot have content
https://svelte.dev/e/dynamic_void_element_content`,jv,zv)}function hc(e){let t=Error();const n=t.stack;if(!n)return null;const r=n.split(`
`),i=[`
`];for(let s=0;s<r.length;s++){const u=r[s];if(u!=="Error"){if(u.includes("validate_each_keys"))return null;u.includes("svelte/src/internal")||i.push(u)}}return i.length===1?null:(on(t,"stack",{value:i.join(`
`)}),on(t,"name",{value:`${e}Error`}),t)}function Pn(e,t){return e.label=t,dc(e.v,t),e}function dc(e,t){var n;return(n=e==null?void 0:e[ac])==null||n.call(e,t),e}let Ye=null;function Mi(e){Ye=e}let Qn=null;function vc(e){Qn=e}function $e(e,t,n,r,i,s){const u=Qn;Qn={type:t,file:n[Ae],line:r,column:i,parent:u,...s};try{return e()}finally{Qn=u}}let Di=null;function bo(e){Di=e}function $t(e,t=!1,n){Ye={p:Ye,c:null,e:null,s:e,x:null,l:Ge&&!t?{s:null,u:null,$:[]}:null},Ye.function=n,Di=n}function Pt(e){var t=Ye,n=t.e;if(n!==null){t.e=null;for(var r of n)Fc(r)}return e!==void 0&&(t.x=e),Ye=t.p,Di=(Ye==null?void 0:Ye.function)??null,e??{}}function ma(){return!Ge||Ye!==null&&Ye.l===null}let Hr=[];function pc(){var e=Hr;Hr=[],qs(e)}function Yr(e){if(Hr.length===0&&!ga){var t=Hr;queueMicrotask(()=>{t===Hr&&pc()})}Hr.push(e)}function Yv(){for(;Hr.length>0;)pc()}const eu=new WeakMap;function mc(e){var t=Ie;if(t===null)return Be.f|=Kr,e;if(e instanceof Error&&!eu.has(e)&&eu.set(e,Vv(e,t)),(t.f&Qs)===0){if((t.f&Gs)===0)throw!t.parent&&e instanceof Error&&gc(e),e;t.b.error(e)}else $i(e,t)}function $i(e,t){for(;t!==null;){if((t.f&Gs)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&gc(e),e}function Vv(e,t){var u,l,f;const n=Dn(e,"message");if(!(n&&!n.configurable)){for(var r=su?"  ":"	",i=`
${r}in ${((u=t.fn)==null?void 0:u.name)||"<unknown>"}`,s=t.ctx;s!==null;)i+=`
${r}in ${(l=s.function)==null?void 0:l[Ae].split("/").pop()}`,s=s.p;return{message:e.message+`
${i}
`,stack:(f=e.stack)==null?void 0:f.split(`
`).filter(d=>!d.includes("svelte/src/internal")).join(`
`)}}}function gc(e){const t=eu.get(e);t&&(on(e,"message",{value:t.message}),on(e,"stack",{value:t.stack}))}const xo=new Set;let lt=null,tu=new Set,Rn=[],To=null,nu=!1,ga=!1;const na=class na{constructor(){He(this,pn);vt(this,"current",new Map);He(this,Qi,new Map);He(this,Zi,new Set);He(this,xr,0);He(this,za,null);He(this,Ji,[]);He(this,ea,[]);He(this,vi,[]);He(this,ta,[]);He(this,Ha,[]);He(this,Ya,[]);vt(this,"skipped_effects",new Set)}process(t){var s;Rn=[];var n=na.apply(this);for(const u of t)gt(this,pn,Xl).call(this,u);if(W(this,xr)===0){gt(this,pn,Gl).call(this);var r=W(this,ea),i=W(this,vi);Ce(this,ea,[]),Ce(this,vi,[]),Ce(this,ta,[]),lt=null,_c(r),_c(i),(s=W(this,za))==null||s.resolve()}else gt(this,pn,js).call(this,W(this,ea)),gt(this,pn,js).call(this,W(this,vi)),gt(this,pn,js).call(this,W(this,ta));n();for(const u of W(this,Ji))Jr(u);Ce(this,Ji,[])}capture(t,n){W(this,Qi).has(t)||W(this,Qi).set(t,n),this.current.set(t,t.v)}activate(){lt=this}deactivate(){lt=null;for(const t of tu)if(tu.delete(t),t(),lt!==null)break}flush(){if(Rn.length>0){if(this.activate(),yc(),lt!==null&&lt!==this)return}else W(this,xr)===0&&gt(this,pn,Gl).call(this);this.deactivate()}increment(){Ce(this,xr,W(this,xr)+1)}decrement(){if(Ce(this,xr,W(this,xr)-1),W(this,xr)===0){for(const t of W(this,Ha))Et(t,qt),Vr(t);for(const t of W(this,Ya))Et(t,$n),Vr(t);this.flush()}else this.deactivate()}add_callback(t){W(this,Zi).add(t)}settled(){return(W(this,za)??Ce(this,za,rc())).promise}static ensure(){if(lt===null){const t=lt=new na;xo.add(lt),ga||na.enqueue(()=>{lt===t&&t.flush()})}return lt}static enqueue(t){Yr(t)}static apply(t){return Nr}};Qi=new WeakMap,Zi=new WeakMap,xr=new WeakMap,za=new WeakMap,Ji=new WeakMap,ea=new WeakMap,vi=new WeakMap,ta=new WeakMap,Ha=new WeakMap,Ya=new WeakMap,pn=new WeakSet,Xl=function(t){var d;t.f^=yt;for(var n=t.first;n!==null;){var r=n.f,i=(r&(Gn|vr))!==0,s=i&&(r&yt)!==0,u=s||(r&xn)!==0||this.skipped_effects.has(n);if(!u&&n.fn!==null){i?n.f^=yt:(r&Xs)!==0?W(this,vi).push(n):(r&yt)===0&&((r&da)!==0&&((d=n.b)!=null&&d.is_pending())?W(this,Ji).push(n):Fi(n)&&((n.f&Ur)!==0&&W(this,ta).push(n),Jr(n)));var l=n.first;if(l!==null){n=l;continue}}var f=n.parent;for(n=n.next;n===null&&f!==null;)n=f.next,f=f.parent}},js=function(t){for(const n of t)((n.f&qt)!==0?W(this,Ha):W(this,Ya)).push(n),Et(n,yt);t.length=0},Gl=function(){var t;for(const n of W(this,Zi))n();if(W(this,Zi).clear(),xo.size>1){W(this,Qi).clear();let n=!0;for(const r of xo){if(r===this){n=!1;continue}for(const[i,s]of this.current){if(r.current.has(i))if(n)r.current.set(i,s);else continue;wc(i)}if(Rn.length>0){lt=r;const i=na.apply(r);for(const s of Rn)gt(t=r,pn,Xl).call(t,s);Rn=[],i()}}lt=null}xo.delete(this)};let In=na;function le(e){var t=ga;ga=!0;try{for(var n;;){if(Yv(),Rn.length===0&&(lt==null||lt.flush(),Rn.length===0))return To=null,n;yc()}}finally{ga=t}}function yc(){var e=Oi;nu=!0;try{var t=0;for(jc(!0);Rn.length>0;){var n=In.ensure();if(t++>1e3){if(ec){var r=new Map;for(const s of n.current.keys())for(const[u,l]of s.updated??[]){var i=r.get(u);i||(i={error:l.error,count:0},r.set(u,i)),i.count+=l.count}for(const s of r.values())console.error(s.error)}Wv()}n.process(Rn),yr.clear()}}finally{nu=!1,jc(e),To=null}}function Wv(){try{Av()}catch(e){on(e,"stack",{value:""}),$i(e,To)}}let Zn=null;function _c(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Lr|xn))===0&&Fi(r)&&(Zn=[],Jr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Lc(r):r.fn=null),(Zn==null?void 0:Zn.length)>0)){yr.clear();for(const i of Zn)Jr(i);Zn=[]}}Zn=null}}function wc(e){if(e.reactions!==null)for(const t of e.reactions){const n=t.f;(n&Nt)!==0?wc(t):(n&(da|Ur))!==0&&(Et(t,qt),Vr(t))}}function Vr(e){for(var t=To=e;t.parent!==null;){t=t.parent;var n=t.f;if(nu&&t===Ie&&(n&Ur)!==0)return;if((n&(vr|Gn))!==0){if((n&yt)===0)return;t.f^=yt}}Rn.push(t)}function qv(e){let t=0,n=Wr(0),r;return Pn(n,"createSubscriber version"),()=>{fp()&&(C(n),ba(()=>(t===0&&(r=ve(()=>e(()=>wa(n)))),t+=1,()=>{Yr(()=>{t-=1,t===0&&(r==null||r(),r=void 0,wa(n))})})))}}var Xv=ha|Br|Gs;function Gv(e,t,n){new Qv(e,t,n)}class Qv{constructor(t,n,r){He(this,kt);vt(this,"parent");He(this,An,!1);He(this,tn);He(this,Va,ke?Pe:null);He(this,zn);He(this,pi);He(this,Hn);He(this,mn,null);He(this,Vt,null);He(this,Yn,null);He(this,Tr,null);He(this,mi,0);He(this,Sr,0);He(this,gi,!1);He(this,cr,null);He(this,hs,()=>{W(this,cr)&&Ri(W(this,cr),W(this,mi))});He(this,ds,qv(()=>(Ce(this,cr,Wr(W(this,mi))),Pn(W(this,cr),"$effect.pending()"),()=>{Ce(this,cr,null)})));Ce(this,tn,t),Ce(this,zn,n),Ce(this,pi,r),this.parent=Ie.b,Ce(this,An,!!W(this,zn).pending),Ce(this,Hn,So(()=>{if(Ie.b=this,ke){const i=W(this,Va);zr(),i.nodeType===jr&&i.data===ca?gt(this,kt,Zd).call(this):gt(this,kt,Qd).call(this)}else{try{Ce(this,mn,Qt(()=>r(W(this,tn))))}catch(i){this.error(i)}W(this,Sr)>0?gt(this,kt,Hs).call(this):Ce(this,An,!1)}},Xv)),ke&&Ce(this,tn,Pe)}is_pending(){return W(this,An)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!W(this,zn).pending}update_pending_count(t){gt(this,kt,Ql).call(this,t),Ce(this,mi,W(this,mi)+t),tu.add(W(this,hs))}get_effect_pending(){return W(this,ds).call(this),C(W(this,cr))}error(t){var n=W(this,zn).onerror;let r=W(this,zn).failed;if(W(this,gi)||!n&&!r)throw t;W(this,mn)&&(Lt(W(this,mn)),Ce(this,mn,null)),W(this,Vt)&&(Lt(W(this,Vt)),Ce(this,Vt,null)),W(this,Yn)&&(Lt(W(this,Yn)),Ce(this,Yn,null)),ke&&(_t(W(this,Va)),Js(),_t(wo()));var i=!1,s=!1;const u=()=>{if(i){Kv();return}i=!0,s&&Ov(),In.ensure(),Ce(this,mi,0),W(this,Yn)!==null&&Gr(W(this,Yn),()=>{Ce(this,Yn,null)}),Ce(this,An,this.has_pending_snippet()),Ce(this,mn,gt(this,kt,zs).call(this,()=>(Ce(this,gi,!1),Qt(()=>W(this,pi).call(this,W(this,tn)))))),W(this,Sr)>0?gt(this,kt,Hs).call(this):Ce(this,An,!1)};var l=Be;try{Bt(null),s=!0,n==null||n(t,u),s=!1}catch(f){$i(f,W(this,Hn)&&W(this,Hn).parent)}finally{Bt(l)}r&&Yr(()=>{Ce(this,Yn,gt(this,kt,zs).call(this,()=>{Ce(this,gi,!0);try{return Qt(()=>{r(W(this,tn),()=>t,()=>u)})}catch(f){return $i(f,W(this,Hn).parent),null}finally{Ce(this,gi,!1)}}))})}}An=new WeakMap,tn=new WeakMap,Va=new WeakMap,zn=new WeakMap,pi=new WeakMap,Hn=new WeakMap,mn=new WeakMap,Vt=new WeakMap,Yn=new WeakMap,Tr=new WeakMap,mi=new WeakMap,Sr=new WeakMap,gi=new WeakMap,cr=new WeakMap,hs=new WeakMap,ds=new WeakMap,kt=new WeakSet,Qd=function(){try{Ce(this,mn,Qt(()=>W(this,pi).call(this,W(this,tn))))}catch(t){this.error(t)}Ce(this,An,!1)},Zd=function(){const t=W(this,zn).pending;t&&(Ce(this,Vt,Qt(()=>t(W(this,tn)))),In.enqueue(()=>{Ce(this,mn,gt(this,kt,zs).call(this,()=>(In.ensure(),Qt(()=>W(this,pi).call(this,W(this,tn)))))),W(this,Sr)>0?gt(this,kt,Hs).call(this):(Gr(W(this,Vt),()=>{Ce(this,Vt,null)}),Ce(this,An,!1))}))},zs=function(t){var n=Ie,r=Be,i=Ye;Fn(W(this,Hn)),Bt(W(this,Hn)),Mi(W(this,Hn).ctx);try{return t()}catch(s){return mc(s),null}finally{Fn(n),Bt(r),Mi(i)}},Hs=function(){const t=W(this,zn).pending;W(this,mn)!==null&&(Ce(this,Tr,document.createDocumentFragment()),Zv(W(this,mn),W(this,Tr))),W(this,Vt)===null&&Ce(this,Vt,Qt(()=>t(W(this,tn))))},Ql=function(t){var n;if(!this.has_pending_snippet()){this.parent&&gt(n=this.parent,kt,Ql).call(n,t);return}Ce(this,Sr,W(this,Sr)+t),W(this,Sr)===0&&(Ce(this,An,!1),W(this,Vt)&&Gr(W(this,Vt),()=>{Ce(this,Vt,null)}),W(this,Tr)&&(W(this,tn).before(W(this,Tr)),Ce(this,Tr,null)),Yr(()=>{In.ensure().flush()}))};function Zv(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:On(n);t.append(n),n=i}}function Jv(e,t,n){const r=ma()?ya:_a;if(t.length===0){n(e.map(r));return}var i=lt,s=Ie,u=ep(),l=ke;Promise.all(t.map(f=>rp(f))).then(f=>{i==null||i.activate(),u();try{n([...e.map(r),...f])}catch(d){(s.f&Lr)===0&&$i(d,s)}l&&Xt(!1),i==null||i.deactivate(),bc()}).catch(f=>{$i(f,s)})}function ep(){var e=Ie,t=Be,n=Ye,r=lt,i=ke;if(i)var s=Pe;return function(){Fn(e),Bt(t),Mi(n),r==null||r.activate(),i&&(Xt(!0),_t(s)),ru(null)}}async function tp(e){var t=gr,n=await e;return()=>(ru(t),n)}function bc(){Fn(null),Bt(null),Mi(null),ru(null)}let gr=null;function ru(e){gr=e}const np=new Set;function ya(e){var t=Nt|qt,n=Be!==null&&(Be.f&Nt)!==0?Be:null;return Ie===null||n!==null&&(n.f&sn)!==0?t|=sn:Ie.f|=Br,{ctx:Ye,deps:null,effects:null,equals:lc,f:t,fn:e,reactions:null,rv:0,v:St,wv:0,parent:n??Ie,ac:null}}function rp(e,t){let n=Ie;n===null&&bv();var r=n.b,i=void 0,s=Wr(St),u=!Be,l=new Map;return pp(()=>{var g;gr=Ie;var f=rc();i=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject)}catch(_){f.reject(_)}gr=null;var d=lt,m=r.is_pending();u&&(r.update_pending_count(1),m||(d.increment(),(g=l.get(d))==null||g.reject(va),l.set(d,f)));const p=(_,w=void 0)=>{gr=null,m||d.activate(),w?w!==va&&(s.f|=Kr,Ri(s,w)):((s.f&Kr)!==0&&(s.f^=Kr),Ri(s,_)),u&&(r.update_pending_count(-1),m||d.decrement()),bc()};f.promise.then(p,_=>p(null,_||"unknown"))}),cu(()=>{for(const f of l.values())f.reject(va)}),s.f|=da,new Promise(f=>{function d(m){function p(){m===i?f(s):d(i)}m.then(p,p)}d(i)})}function xc(e){const t=ya(e);return Hc(t),t}function _a(e){const t=ya(e);return t.equals=fc,t}function Tc(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Lt(t[n])}}let iu=[];function ip(e){for(var t=e.parent;t!==null;){if((t.f&Nt)===0)return t;t=t.parent}return null}function au(e){var t,n=Ie;Fn(ip(e));{let r=Pi;Ec(new Set);try{iu.includes(e)&&Sv(),iu.push(e),Tc(e),t=Xc(e)}finally{Fn(n),Ec(r),iu.pop()}}return t}function Sc(e){var t=au(e);if(e.equals(t)||(e.v=t,e.wv=Wc()),!Qr){var n=(br||(e.f&sn)!==0)&&e.deps!==null?$n:yt;Et(e,n)}}let Pi=new Set;const yr=new Map;function Ec(e){Pi=e}let ou=!1;function ap(){ou=!0}function Wr(e,t){var n={f:0,v:e,reactions:null,equals:lc,rv:0,wv:0};return n}function _r(e,t){const n=Wr(e);return Hc(n),n}function Fe(e,t=!1,n=!0){var i;const r=Wr(e);return t||(r.equals=fc),Ge&&n&&Ye!==null&&Ye.l!==null&&((i=Ye.l).s??(i.s=[])).push(r),r}function kc(e,t){return _e(e,ve(()=>C(e))),t}function _e(e,t,n=!1){Be!==null&&(!ln||(Be.f&mo)!==0)&&ma()&&(Be.f&(Nt|Ur|da|mo))!==0&&!(Rt!=null&&Rt.includes(e))&&Iv();let r=n?Ii(t):t;return dc(r,e.label),Ri(e,r)}function Ri(e,t){if(!e.equals(t)){var n=e.v;Qr?yr.set(e,t):yr.set(e,n),e.v=t;var r=In.ensure();r.capture(e,n);{if(Ie!==null){const i=hc("UpdatedAt");if(i!==null){e.updated??(e.updated=new Map);let s=e.updated.get(i.stack);s||(s={error:i,count:0},e.updated.set(i.stack,s)),s.count++}}Ie!==null&&(e.set_during_effect=!0)}(e.f&Nt)!==0&&((e.f&qt)!==0&&au(e),Et(e,(e.f&sn)===0?yt:$n)),e.wv=Wc(),Ac(e,qt),ma()&&Ie!==null&&(Ie.f&yt)!==0&&(Ie.f&(Gn|vr))===0&&(cn===null?yp([e]):cn.push(e)),Pi.size>0&&!ou&&Cc()}return t}function Cc(){ou=!1;const e=Array.from(Pi);for(const t of e)(t.f&yt)!==0&&Et(t,$n),Fi(t)&&Jr(t);Pi.clear()}function wa(e){_e(e,e.v+1)}function Ac(e,t){var n=e.reactions;if(n!==null)for(var r=ma(),i=n.length,s=0;s<i;s++){var u=n[s],l=u.f;if(!(!r&&u===Ie)){if((l&mo)!==0){Pi.add(u);continue}var f=(l&qt)===0;f&&Et(u,t),(l&Nt)!==0?Ac(u,$n):f&&((l&Ur)!==0&&Zn!==null&&Zn.push(u),Vr(u))}}}const op=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Ii(e){if(typeof e!="object"||e===null||Tn in e)return e;const t=Ws(e);if(t!==fv&&t!==hv)return e;var n=new Map,r=fo(e),i=_r(0),s=Zr,u=m=>{if(Zr===s)return m();var p=Be,g=Zr;Bt(null),Vc(s);var _=m();return Bt(p),Vc(g),_};r&&(n.set("length",_r(e.length)),e=up(e));var l="";let f=!1;function d(m){if(!f){f=!0,l=m,Pn(i,`${l} version`);for(const[p,g]of n)Pn(g,qr(l,p));f=!1}}return new Proxy(e,{defineProperty(m,p,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&Pv();var _=n.get(p);return _===void 0?_=u(()=>{var w=_r(g.value);return n.set(p,w),typeof p=="string"&&Pn(w,qr(l,p)),w}):_e(_,g.value,!0),!0},deleteProperty(m,p){var g=n.get(p);if(g===void 0){if(p in m){const _=u(()=>_r(St));n.set(p,_),wa(i),Pn(_,qr(l,p))}}else _e(g,St),wa(i);return!0},get(m,p,g){var E;if(p===Tn)return e;if(p===ac)return d;var _=n.get(p),w=p in m;if(_===void 0&&(!w||(E=Dn(m,p))!=null&&E.writable)&&(_=u(()=>{var A=Ii(w?m[p]:St),N=_r(A);return Pn(N,qr(l,p)),N}),n.set(p,_)),_!==void 0){var S=C(_);return S===St?void 0:S}return Reflect.get(m,p,g)},getOwnPropertyDescriptor(m,p){var g=Reflect.getOwnPropertyDescriptor(m,p);if(g&&"value"in g){var _=n.get(p);_&&(g.value=C(_))}else if(g===void 0){var w=n.get(p),S=w==null?void 0:w.v;if(w!==void 0&&S!==St)return{enumerable:!0,configurable:!0,value:S,writable:!0}}return g},has(m,p){var S;if(p===Tn)return!0;var g=n.get(p),_=g!==void 0&&g.v!==St||Reflect.has(m,p);if(g!==void 0||Ie!==null&&(!_||(S=Dn(m,p))!=null&&S.writable)){g===void 0&&(g=u(()=>{var E=_?Ii(m[p]):St,A=_r(E);return Pn(A,qr(l,p)),A}),n.set(p,g));var w=C(g);if(w===St)return!1}return _},set(m,p,g,_){var R;var w=n.get(p),S=p in m;if(r&&p==="length")for(var E=g;E<w.v;E+=1){var A=n.get(E+"");A!==void 0?_e(A,St):E in m&&(A=u(()=>_r(St)),n.set(E+"",A),Pn(A,qr(l,E)))}if(w===void 0)(!S||(R=Dn(m,p))!=null&&R.writable)&&(w=u(()=>_r(void 0)),Pn(w,qr(l,p)),_e(w,Ii(g)),n.set(p,w));else{S=w.v!==St;var N=u(()=>Ii(g));_e(w,N)}var I=Reflect.getOwnPropertyDescriptor(m,p);if(I!=null&&I.set&&I.set.call(_,g),!S){if(r&&typeof p=="string"){var j=n.get("length"),q=Number(p);Number.isInteger(q)&&q>=j.v&&_e(j,q+1)}wa(i)}return!0},ownKeys(m){C(i);var p=Reflect.ownKeys(m).filter(w=>{var S=n.get(w);return S===void 0||S.v!==St});for(var[g,_]of n)_.v!==St&&!(g in m)&&p.push(g);return p},setPrototypeOf(){Rv()}})}function qr(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:op.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function Xr(e){try{if(e!==null&&typeof e=="object"&&Tn in e)return e[Tn]}catch{}return e}const sp=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function up(e){return new Proxy(e,{get(t,n,r){var i=Reflect.get(t,n,r);return sp.has(n)?function(...s){ap();var u=i.apply(this,s);return Cc(),u}:i}})}function lp(){const e=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:n,lastIndexOf:r,includes:i}=e;e.indexOf=function(s,u){const l=n.call(this,s,u);if(l===-1){for(let f=u??0;f<this.length;f+=1)if(Xr(this[f])===s){pa("array.indexOf(...)");break}}return l},e.lastIndexOf=function(s,u){const l=r.call(this,s,u??this.length-1);if(l===-1){for(let f=0;f<=(u??this.length-1);f+=1)if(Xr(this[f])===s){pa("array.lastIndexOf(...)");break}}return l},e.includes=function(s,u){const l=i.call(this,s,u);if(!l){for(let f=0;f<this.length;f+=1)if(Xr(this[f])===s){pa("array.includes(...)");break}}return l},Array.__svelte_cleanup=()=>{e.indexOf=n,e.lastIndexOf=r,e.includes=i}}function Ut(e,t,n=!0){try{e===t!=(Xr(e)===Xr(t))&&pa(n?"===":"!==")}catch{}return e===t===n}function Mc(e,t,n=!0){return e==t!=(Xr(e)==Xr(t))&&pa(n?"==":"!="),e==t===n}var Dc,su,$c,Pc;function uu(){if(Dc===void 0){Dc=window,su=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;$c=Dn(t,"firstChild").get,Pc=Dn(t,"nextSibling").get,nc(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),nc(n)&&(n.__t=void 0),e.__svelte_meta=null,lp()}}function un(e=""){return document.createTextNode(e)}function Gt(e){return $c.call(e)}function On(e){return Pc.call(e)}function Re(e,t){if(!ke)return Gt(e);var n=Gt(Pe);if(n===null)n=Pe.appendChild(un());else if(t&&n.nodeType!==yo){var r=un();return n==null||n.before(r),_t(r),r}return _t(n),n}function Jn(e,t=!1){if(!ke){var n=Gt(e);return n instanceof Comment&&n.data===""?On(n):n}if(t&&(Pe==null?void 0:Pe.nodeType)!==yo){var r=un();return Pe==null||Pe.before(r),_t(r),r}return Pe}function Ne(e,t=1,n=!1){let r=ke?Pe:e;for(var i;t--;)i=r,r=On(r);if(!ke)return r;if(n&&(r==null?void 0:r.nodeType)!==yo){var s=un();return r===null?i==null||i.after(s):r.before(s),_t(s),s}return _t(r),r}function Rc(e){e.textContent=""}function Ic(){return!1}function lu(e){var t=Be,n=Ie;Bt(null),Fn(null);try{return e()}finally{Bt(t),Fn(n)}}function Oc(e){Ie===null&&Be===null&&Cv(e),Be!==null&&(Be.f&sn)!==0&&Ie===null&&kv(),Qr&&Ev(e)}function cp(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Sn(e,t,n,r=!0){for(var i=Ie;i!==null&&(i.f&mo)!==0;)i=i.parent;i!==null&&(i.f&xn)!==0&&(e|=xn);var s={ctx:Ye,deps:null,nodes_start:null,nodes_end:null,f:e|qt,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(s.component_function=Di,n)try{Jr(s),s.f|=Qs}catch(f){throw Lt(s),f}else t!==null&&Vr(s);if(r){var u=s;if(n&&u.deps===null&&u.teardown===null&&u.nodes_start===null&&u.first===u.last&&(u.f&Br)===0&&(u=u.first),u!==null&&(u.parent=i,i!==null&&cp(u,i),Be!==null&&(Be.f&Nt)!==0&&(e&vr)===0)){var l=Be;(l.effects??(l.effects=[])).push(u)}}return s}function fp(){return Be!==null&&!ln}function cu(e){const t=Sn(vo,null,!1);return Et(t,yt),t.teardown=e,t}function fu(e){Oc("$effect"),on(e,"name",{value:"$effect"});var t=Ie.f,n=!Be&&(t&Gn)!==0&&(t&Qs)===0;if(n){var r=Ye;(r.e??(r.e=[])).push(e)}else return Fc(e)}function Fc(e){return Sn(Xs|ic,e,!1)}function hp(e){return Oc("$effect.pre"),on(e,"name",{value:"$effect.pre"}),Sn(vo|ic,e,!0)}function dp(e){In.ensure();const t=Sn(vr|Br,e,!0);return()=>{Lt(t)}}function vp(e){In.ensure();const t=Sn(vr|Br,e,!0);return(n={})=>new Promise(r=>{n.outro?Gr(t,()=>{Lt(t),r(void 0)}):(Lt(t),r(void 0))})}function hu(e){return Sn(Xs,e,!1)}function st(e,t){var n=Ye,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=ba(()=>{e(),!r.ran&&(r.ran=!0,ve(t))})}function wr(){var e=Ye;ba(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&yt)!==0&&Et(n,$n),Fi(n)&&Jr(n),t.ran=!1}})}function pp(e){return Sn(da|Br,e,!0)}function ba(e,t=0){return Sn(vo|t,e,!0)}function at(e,t=[],n=[]){Jv(t,n,r=>{Sn(vo,()=>e(...r.map(C)),!0)})}function So(e,t=0){var n=Sn(Ur|t,e,!0);return n.dev_stack=Qn,n}function Qt(e,t=!0){return Sn(Gn|Br,e,!0,t)}function Nc(e){var t=e.teardown;if(t!==null){const n=Qr,r=Be;zc(!0),Bt(null);try{t.call(null)}finally{zc(n),Bt(r)}}}function Uc(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&lu(()=>{i.abort(va)});var r=n.next;(n.f&vr)!==0?n.parent=null:Lt(n,t),n=r}}function mp(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Gn)===0&&Lt(t),t=n}}function Lt(e,t=!0){var n=!1;(t||(e.f&pv)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(gp(e.nodes_start,e.nodes_end),n=!0),Uc(e,t&&!n),ko(e,0),Et(e,Lr);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Nc(e);var i=e.parent;i!==null&&i.first!==null&&Lc(e),e.component_function=null,e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function gp(e,t){for(;e!==null;){var n=e===t?null:On(e);e.remove(),e=n}}function Lc(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Gr(e,t){var n=[];du(e,n,!0),Bc(n,()=>{Lt(e),t&&t()})}function Bc(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function du(e,t,n){if((e.f&xn)===0){if(e.f^=xn,e.transitions!==null)for(const u of e.transitions)(u.is_global||n)&&t.push(u);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&ha)!==0||(r.f&Gn)!==0;du(r,t,s?n:!1),r=i}}}function Eo(e){Kc(e,!0)}function Kc(e,t){if((e.f&xn)!==0){e.f^=xn,(e.f&yt)===0&&(Et(e,qt),Vr(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&ha)!==0||(n.f&Gn)!==0;Kc(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Oi=!1;function jc(e){Oi=e}let Qr=!1;function zc(e){Qr=e}let Be=null,ln=!1;function Bt(e){Be=e}let Ie=null;function Fn(e){Ie=e}let Rt=null;function Hc(e){Be!==null&&(Rt===null?Rt=[e]:Rt.push(e))}let It=null,Zt=0,cn=null;function yp(e){cn=e}let Yc=1,xa=0,Zr=xa;function Vc(e){Zr=e}let br=!1;function Wc(){return++Yc}function Fi(e){var p;var t=e.f;if((t&qt)!==0)return!0;if((t&$n)!==0){var n=e.deps,r=(t&sn)!==0;if(n!==null){var i,s,u=(t&po)!==0,l=r&&Ie!==null&&!br,f=n.length;if((u||l)&&(Ie===null||(Ie.f&Lr)===0)){var d=e,m=d.parent;for(i=0;i<f;i++)s=n[i],(u||!((p=s==null?void 0:s.reactions)!=null&&p.includes(d)))&&(s.reactions??(s.reactions=[])).push(d);u&&(d.f^=po),l&&m!==null&&(m.f&sn)===0&&(d.f^=sn)}for(i=0;i<f;i++)if(s=n[i],Fi(s)&&Sc(s),s.wv>e.wv)return!0}(!r||Ie!==null&&!br)&&Et(e,yt)}return!1}function qc(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Rt!=null&&Rt.includes(e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Nt)!==0?qc(s,t,!1):t===s&&(n?Et(s,qt):(s.f&yt)!==0&&Et(s,$n),Vr(s))}}function Xc(e){var S;var t=It,n=Zt,r=cn,i=Be,s=br,u=Rt,l=Ye,f=ln,d=Zr,m=e.f;It=null,Zt=0,cn=null,br=(m&sn)!==0&&(ln||!Oi||Be===null),Be=(m&(Gn|vr))===0?e:null,Rt=null,Mi(e.ctx),ln=!1,Zr=++xa,e.ac!==null&&(lu(()=>{e.ac.abort(va)}),e.ac=null);try{e.f|=go;var p=e.fn,g=p(),_=e.deps;if(It!==null){var w;if(ko(e,Zt),_!==null&&Zt>0)for(_.length=Zt+It.length,w=0;w<It.length;w++)_[Zt+w]=It[w];else e.deps=_=It;if(!br||(m&Nt)!==0&&e.reactions!==null)for(w=Zt;w<_.length;w++)((S=_[w]).reactions??(S.reactions=[])).push(e)}else _!==null&&Zt<_.length&&(ko(e,Zt),_.length=Zt);if(ma()&&cn!==null&&!ln&&_!==null&&(e.f&(Nt|$n|qt))===0)for(w=0;w<cn.length;w++)qc(cn[w],e);return i!==null&&i!==e&&(xa++,cn!==null&&(r===null?r=cn:r.push(...cn))),(e.f&Kr)!==0&&(e.f^=Kr),g}catch(E){return mc(E)}finally{e.f^=go,It=t,Zt=n,cn=r,Be=i,br=s,Rt=u,Mi(l),ln=f,Zr=d}}function _p(e,t){let n=t.reactions;if(n!==null){var r=cv.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&Nt)!==0&&(It===null||!It.includes(t))&&(Et(t,$n),(t.f&(sn|po))===0&&(t.f^=po),Tc(t),ko(t,0))}function ko(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)_p(e,n[r])}function Jr(e){var t=e.f;if((t&Lr)===0){Et(e,yt);var n=Ie,r=Oi;Ie=e,Oi=!0;{var i=Di;bo(e.component_function);var s=Qn;vc(e.dev_stack??Qn)}try{(t&Ur)!==0?mp(e):Uc(e),Nc(e);var u=Xc(e);e.teardown=typeof u=="function"?u:null,e.wv=Yc;var l;ec&&pt&&(e.f&qt)!==0&&e.deps}finally{Oi=r,Ie=n,bo(i),vc(s)}}}function C(e){var g;var t=e.f,n=(t&Nt)!==0;if(Be!==null&&!ln){var r=Ie!==null&&(Ie.f&Lr)!==0;if(!r&&!(Rt!=null&&Rt.includes(e))){var i=Be.deps;if((Be.f&go)!==0)e.rv<xa&&(e.rv=xa,It===null&&i!==null&&i[Zt]===e?Zt++:It===null?It=[e]:(!br||!It.includes(e))&&It.push(e));else{(Be.deps??(Be.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Be]:s.includes(Be)||s.push(Be)}}}else if(n&&e.deps===null&&e.effects===null){var u=e,l=u.parent;l!==null&&(l.f&sn)===0&&(u.f^=sn)}{if(gr){var f=(gr.f&go)!==0,d=(g=gr.deps)==null?void 0:g.includes(e);if(!f&&!ln&&!d){Fv(e.label);var m=hc("TracedAt");m&&console.warn(m)}}np.delete(e)}if(Qr){if(yr.has(e))return yr.get(e);if(n){u=e;var p=u.v;return((u.f&yt)===0&&u.reactions!==null||Gc(u))&&(p=au(u)),yr.set(u,p),p}}else n&&(u=e,Fi(u)&&Sc(u));if((e.f&Kr)!==0)throw e.v;return e.v}function Gc(e){if(e.v===St)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(yr.has(t)||(t.f&Nt)!==0&&Gc(t))return!0;return!1}function ve(e){var t=ln;try{return ln=!0,e()}finally{ln=t}}const wp=-7169;function Et(e,t){e.f=e.f&wp|t}function ee(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Tn in e)vu(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Tn in n&&vu(n)}}}function vu(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{vu(e[r],t)}catch{}const n=Ws(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=tc(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const bp=new Set,Qc=new Set;function xp(e,t,n,r={}){function i(s){if(r.capture||Ta.call(t,s),!s.cancelBubble)return lu(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yr(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ei(e,t,n,r,i){var s={capture:r,passive:i},u=xp(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&cu(()=>{t.removeEventListener(e,u,s)})}let Zc=null;function Ta(e){var N;var t=this,n=t.ownerDocument,r=e.type,i=((N=e.composedPath)==null?void 0:N.call(e))||[],s=i[0]||e.target;Zc=e;var u=0,l=Zc===e&&e.__root;if(l){var f=i.indexOf(l);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var d=i.indexOf(t);if(d===-1)return;f<=d&&(u=f)}if(s=i[u]||e.target,s!==t){on(e,"currentTarget",{configurable:!0,get(){return s||n}});var m=Be,p=Ie;Bt(null),Fn(null);try{for(var g,_=[];s!==null;){var w=s.assignedSlot||s.parentNode||s.host||null;try{var S=s["__"+r];if(S!=null&&(!s.disabled||e.target===s))if(fo(S)){var[E,...A]=S;E.apply(s,[e,...A])}else S.call(s,e)}catch(I){g?_.push(I):g=I}if(e.cancelBubble||w===t||w===null)break;s=w}if(g){for(let I of _)queueMicrotask(()=>{throw I});throw g}}finally{e.__root=t,delete e.currentTarget,Bt(m),Fn(p)}}}function Jc(e,t,n,r,i,s=!1,u=!1){var d,m;let l,f;try{l=e()}catch(p){f=p}if(typeof l!="function"&&(s||l!=null||f)){const p=r==null?void 0:r[Ae],g=i?` at ${p}:${i[0]}:${i[1]}`:` in ${p}`,_=((d=n[0])==null?void 0:d.eventPhase)<Event.BUBBLING_PHASE?"capture":"",S=`\`${((m=n[0])==null?void 0:m.type)+_}\` handler${g}`;if(Nv(S,u?"remove the trailing `()`":"add a leading `() =>`"),f)throw f}l==null||l.apply(t,n)}function ef(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function fn(e,t){var n=Ie;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function hn(e,t){var n=(t&Jl)!==0,r=(t&sv)!==0,i,s=!e.startsWith("<!>");return()=>{if(ke)return fn(Pe,null),Pe;i===void 0&&(i=ef(s?e:"<!>"+e),n||(i=Gt(i)));var u=r||su?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=Gt(u),f=u.lastChild;fn(l,f)}else fn(u,u);return u}}function Tp(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&Jl)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,u;return()=>{if(ke)return fn(Pe,null),Pe;if(!u){var l=ef(s),f=Gt(l);if(i)for(u=document.createDocumentFragment();Gt(f);)u.appendChild(Gt(f));else u=Gt(f)}var d=u.cloneNode(!0);if(i){var m=Gt(d),p=d.lastChild;fn(m,p)}else fn(d,d);return d}}function Jt(e,t){return Tp(e,t,"svg")}function tf(e=""){if(!ke){var t=un(e+"");return fn(t,t),t}var n=Pe;return n.nodeType!==yo&&(n.before(n=un()),_t(n)),fn(n,n),n}function Co(){if(ke)return fn(Pe,null),Pe;var e=document.createDocumentFragment(),t=document.createComment(""),n=un();return e.append(t,n),fn(t,n),e}function We(e,t){if(ke){Ie.nodes_end=Pe,zr();return}e!==null&&e.before(t)}const Sp=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function Ep(e){return Sp.includes(e)||e.toLowerCase()==="!doctype"}const kp=["touchstart","touchmove"];function Cp(e){return kp.includes(e)}const Ap=["textarea","script","style","title"];function Mp(e){return Ap.includes(e)}function ft(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function nf(e,t){return rf(e,t)}function Dp(e,t){uu(),t.intro=t.intro??!1;const n=t.target,r=ke,i=Pe;try{for(var s=Gt(n);s&&(s.nodeType!==jr||s.data!==Ys);)s=On(s);if(!s)throw Ai;Xt(!0),_t(s);const u=rf(e,{...t,anchor:s});return Xt(!1),u}catch(u){if(u instanceof Error&&u.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw u;return u!==Ai&&console.warn("Failed to hydrate: ",u),t.recover===!1&&Mv(),uu(),Rc(n),Xt(!1),nf(e,t)}finally{Xt(r),_t(i)}}const Ni=new Map;function rf(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:u=!0}){uu();var l=new Set,f=p=>{for(var g=0;g<p.length;g++){var _=p[g];if(!l.has(_)){l.add(_);var w=Cp(_);t.addEventListener(_,Ta,{passive:w});var S=Ni.get(_);S===void 0?(document.addEventListener(_,Ta,{passive:w}),Ni.set(_,1)):Ni.set(_,S+1)}}};f(Vs(bp)),Qc.add(f);var d=void 0,m=vp(()=>{var p=n??t.appendChild(un());return Gv(p,{pending:()=>{}},g=>{if(s){$t({});var _=Ye;_.c=s}if(i&&(r.$$events=i),ke&&fn(g,null),d=e(g,r)||{},ke&&(Ie.nodes_end=Pe,Pe===null||Pe.nodeType!==jr||Pe.data!==co))throw _o(),Ai;s&&Pt()}),()=>{var w;for(var g of l){t.removeEventListener(g,Ta);var _=Ni.get(g);--_===0?(document.removeEventListener(g,Ta),Ni.delete(g)):Ni.set(g,_)}Qc.delete(f),p!==n&&((w=p.parentNode)==null||w.removeChild(p))}});return pu.set(d,m),d}let pu=new WeakMap;function $p(e,t){const n=pu.get(e);return n?(pu.delete(e),n(t)):(Tn in e?Bv():Lv(),Promise.resolve())}function Pp(e){const t=e();t&&Ep(t)&&Hv(t)}function Rp(e){const t=e();t&&!(typeof t=="string")&&wv()}function af(e,t){e!=null&&typeof e.subscribe!="function"&&_v(t)}function Ip(e){return e.toString=()=>(yv(),""),e}function Op(e,t){const n=(r,...i)=>{var s=Di;bo(e);try{return t(r,...i)}finally{bo(s)}};return Ip(n),n}{let e=function(t){if(!(t in globalThis)){let n;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(n!==void 0)return n;$v(t)},set:r=>{n=r}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function Fp(e){Ye===null&&sc("onMount"),Ge&&Ye.l!==null?Up(Ye).m.push(e):fu(()=>{const t=ve(e);if(typeof t=="function")return t})}function Np(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function of(){const e=Ye;return e===null&&sc("createEventDispatcher"),(t,n,r)=>{var s;const i=(s=e.s.$$events)==null?void 0:s[t];if(i){const u=fo(i)?i.slice():[i],l=Np(t,n,r);for(const f of u)f.call(e.x,l);return!l.defaultPrevented}return!0}}function Up(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}var sf=new Map;function Lp(e,t){var n=sf.get(e);n||(n=new Set,sf.set(e,n)),n.add(t)}function tt(e,t,n){return(...r)=>{const i=e(...r);var s=ke?i:i.nodeType===gv?i.firstChild:i;return uf(s,t,n),i}}function Bp(e,t,n){e.__svelte_meta={parent:Qn,loc:{file:t,line:n[0],column:n[1]}},n[2]&&uf(e.firstChild,t,n[2])}function uf(e,t,n){for(var r=0,i=0;e&&r<n.length;){if(ke&&e.nodeType===jr){var s=e;s.data===Ys||s.data===ca?i+=1:s.data[0]===co&&(i-=1)}i===0&&e.nodeType===oc&&Bp(e,t,n[r++]),e=e.nextSibling}}function Kt(e){e&&Tv(e[Ae]??"a component",e.name)}function jt(){const e=Ye==null?void 0:Ye.function;function t(n){xv(n,e[Ae])}return{$destroy:()=>t("$destroy()"),$on:()=>t("$on(...)"),$set:()=>t("$set(...)")}}function Ct(e,t,n=!1){ke&&zr();var r=e,i=null,s=null,u=St,l=n?ha:0,f=!1;const d=(_,w=!0)=>{f=!0,g(w,_)};var m=null;function p(){m!==null&&(m.lastChild.remove(),r.before(m),m=null);var _=u?i:s,w=u?s:i;_&&Eo(_),w&&Gr(w,()=>{u?s=null:i=null})}const g=(_,w)=>{if(u===(u=_))return;let S=!1;if(ke){const q=uc(r)===ca;!!u===q&&(r=wo(),_t(r),Xt(!1),S=!0)}var E=Ic(),A=r;if(E&&(m=document.createDocumentFragment(),m.append(A=un())),u?i??(i=w&&Qt(()=>w(A))):s??(s=w&&Qt(()=>w(A))),E){var N=lt,I=u?i:s,j=u?s:i;I&&N.skipped_effects.delete(I),j&&N.skipped_effects.add(j),N.add_callback(p)}else p();S&&Xt(!0)};So(()=>{f=!1,t(d),f||g(null,null)},l),ke&&(r=Pe)}function Ao(e,t){return t}function Kp(e,t,n){for(var r=e.items,i=[],s=t.length,u=0;u<s;u++)du(t[u].e,i,!0);var l=s>0&&i.length===0&&n!==null;if(l){var f=n.parentNode;Rc(f),f.append(n),r.clear(),Nn(e,t[0].prev,t[s-1].next)}Bc(i,()=>{for(var d=0;d<s;d++){var m=t[d];l||(r.delete(m.k),Nn(e,m.prev,m.next)),Lt(m.e,!l)}})}function Mo(e,t,n,r,i,s=null){var u=e,l={flags:t,items:new Map,first:null},f=(t&Zl)!==0;if(f){var d=e;u=ke?_t(Gt(d)):d.appendChild(un())}ke&&zr();var m=null,p=!1,g=new Map,_=_a(()=>{var A=n();return fo(A)?A:A==null?[]:Vs(A)}),w,S;function E(){jp(S,w,l,g,u,i,t,r,n),s!==null&&(w.length===0?m?Eo(m):m=Qt(()=>s(u)):m!==null&&Gr(m,()=>{m=null}))}So(()=>{S??(S=Ie),w=C(_);var A=w.length;if(p&&A===0)return;p=A===0;let N=!1;if(ke){var I=uc(u)===ca;I!==(A===0)&&(u=wo(),_t(u),Xt(!1),N=!0)}if(ke){for(var j=null,q,R=0;R<A;R++){if(Pe.nodeType===jr&&Pe.data===co){u=Pe,N=!0,Xt(!1);break}var L=w[R],J=r(L,R);q=mu(Pe,l,j,null,L,J,R,i,t,n),l.items.set(J,q),j=q}A>0&&_t(wo())}if(ke)A===0&&s&&(m=Qt(()=>s(u)));else if(Ic()){var O=new Set,te=lt;for(R=0;R<A;R+=1){L=w[R],J=r(L,R);var X=l.items.get(J)??g.get(J);X?(t&(uo|lo))!==0&&lf(X,L,R,t):(q=mu(null,l,null,null,L,J,R,i,t,n,!0),g.set(J,q)),O.add(J)}for(const[oe,B]of l.items)O.has(oe)||te.skipped_effects.add(B.e);te.add_callback(E)}else E();N&&Xt(!0),C(_)}),ke&&(u=Pe)}function jp(e,t,n,r,i,s,u,l,f){var Te,Qe,Ze,nn;var d=(u&ev)!==0,m=(u&(uo|lo))!==0,p=t.length,g=n.items,_=n.first,w=_,S,E=null,A,N=[],I=[],j,q,R,L;if(d)for(L=0;L<p;L+=1)j=t[L],q=l(j,L),R=g.get(q),R!==void 0&&((Te=R.a)==null||Te.measure(),(A??(A=new Set)).add(R));for(L=0;L<p;L+=1){if(j=t[L],q=l(j,L),R=g.get(q),R===void 0){var J=r.get(q);if(J!==void 0){r.delete(q),g.set(q,J);var O=E?E.next:w;Nn(n,E,J),Nn(n,J,O),gu(J,O,i),E=J}else{var te=w?w.e.nodes_start:i;E=mu(te,n,E,E===null?n.first:E.next,j,q,L,s,u,f)}g.set(q,E),N=[],I=[],w=E.next;continue}if(m&&lf(R,j,L,u),(R.e.f&xn)!==0&&(Eo(R.e),d&&((Qe=R.a)==null||Qe.unfix(),(A??(A=new Set)).delete(R))),R!==w){if(S!==void 0&&S.has(R)){if(N.length<I.length){var X=I[0],oe;E=X.prev;var B=N[0],ce=N[N.length-1];for(oe=0;oe<N.length;oe+=1)gu(N[oe],X,i);for(oe=0;oe<I.length;oe+=1)S.delete(I[oe]);Nn(n,B.prev,ce.next),Nn(n,E,B),Nn(n,ce,X),w=X,E=ce,L-=1,N=[],I=[]}else S.delete(R),gu(R,w,i),Nn(n,R.prev,R.next),Nn(n,R,E===null?n.first:E.next),Nn(n,E,R),E=R;continue}for(N=[],I=[];w!==null&&w.k!==q;)(w.e.f&xn)===0&&(S??(S=new Set)).add(w),I.push(w),w=w.next;if(w===null)continue;R=w}N.push(R),E=R,w=R.next}if(w!==null||S!==void 0){for(var pe=S===void 0?[]:Vs(S);w!==null;)(w.e.f&xn)===0&&pe.push(w),w=w.next;var ge=pe.length;if(ge>0){var we=(u&Zl)!==0&&p===0?i:null;if(d){for(L=0;L<ge;L+=1)(Ze=pe[L].a)==null||Ze.measure();for(L=0;L<ge;L+=1)(nn=pe[L].a)==null||nn.fix()}Kp(n,pe,we)}}d&&Yr(()=>{var yn;if(A!==void 0)for(R of A)(yn=R.a)==null||yn.apply()}),e.first=n.first&&n.first.e,e.last=E&&E.e;for(var Ee of r.values())Lt(Ee.e);r.clear()}function lf(e,t,n,r){(r&uo)!==0&&Ri(e.v,t),(r&lo)!==0?Ri(e.i,n):e.i=n}function mu(e,t,n,r,i,s,u,l,f,d,m){var p=(f&uo)!==0,g=(f&tv)===0,_=p?g?Fe(i,!1,!1):Wr(i):i,w=(f&lo)===0?u:Wr(u);p&&(_.trace=()=>{var A=typeof w=="number"?u:w.v;d()[A]});var S={i:w,v:_,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var E=document.createDocumentFragment();E.append(e=un())}return S.e=Qt(()=>l(e,_,w,d),ke),S.e.prev=n&&n.e,S.e.next=r&&r.e,n===null?m||(t.first=S):(n.next=S,n.e.next=S.e),r!==null&&(r.prev=S,r.e.prev=S.e),S}finally{}}function gu(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var u=On(s);i.before(s),s=u}}function Nn(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function zp(e,t,n,r,i){var l;ke&&zr();var s=(l=t.$$slots)==null?void 0:l[n],u=!1;s===!0&&(s=t.children,u=!0),s===void 0||s(e,u?()=>r:r)}function Hp(e,t,n,r,i,s){let u=ke;ke&&zr();var l=s&&(Ye==null?void 0:Ye.function[Ae]),f,d,m=null;ke&&Pe.nodeType===oc&&(m=Pe,zr());var p=ke?Pe:e,g;So(()=>{const _=t()||null;var w=_==="svg"?lv:null;_!==f&&(g&&(_===null?Gr(g,()=>{g=null,d=null}):_===d?Eo(g):Lt(g)),_&&_!==d&&(g=Qt(()=>{if(m=ke?m:w?document.createElementNS(w,_):document.createElement(_),s&&(m.__svelte_meta={parent:Qn,loc:{file:l,line:s[0],column:s[1]}}),fn(m,m),r){ke&&Mp(_)&&m.append(document.createComment(""));var S=ke?Gt(m):m.appendChild(un());ke&&(S===null?Xt(!1):_t(S)),r(m,S)}Ie.nodes_end=m,p.before(m)})),f=_,f&&(d=f))},ha),u&&(Xt(!0),_t(p))}function Un(e,t){hu(()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,r.appendChild(i),Lp(t.hash,i)}})}function cf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=cf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Yp(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=cf(e))&&(r&&(r+=" "),r+=t);return r}function Vp(e){return typeof e=="object"?Yp(e):e??""}function Wp(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function qp(e,t){return e==null?null:String(e)}function ff(e,t,n,r,i,s){var u=e.__className;if(ke||u!==n||u===void 0){var l=Wp(n,r);(!ke||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l)),e.__className=n}return s}function yu(e,t,n,r){var i=e.__style;if(ke||i!==t){var s=qp(t);(!ke||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}return r}const Xp=Symbol("is custom element"),Gp=Symbol("is html");function be(e,t,n,r){var i=Zp(e);if(ke&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){em(e,t,n??"");return}i[t]!==(i[t]=n)&&(t==="loading"&&(e[mv]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Jp(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Qp(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function Zp(e){return e.__attributes??(e.__attributes={[Xp]:e.nodeName.includes("-"),[Gp]:e.namespaceURI===uv})}var hf=new Map;function Jp(e){var t=e.getAttribute("is")||e.nodeName,n=hf.get(t);if(n)return n;hf.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=tc(i);for(var u in r)r[u].set&&n.push(u);i=Ws(i)}return n}function em(e,t,n){t==="srcset"&&tm(e,n)||_u(e.getAttribute(t)??"",n)||Uv(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(n))}function _u(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function df(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function tm(e,t){var n=df(e.srcset),r=df(t);return r.length===n.length&&r.every(([i,s],u)=>s===n[u][1]&&(_u(n[u][0],i)||_u(i,n[u][0])))}const nm=()=>performance.now(),Ln={tick:e=>requestAnimationFrame(e),now:()=>nm(),tasks:new Set};function vf(){const e=Ln.now();Ln.tasks.forEach(t=>{t.c(e)||(Ln.tasks.delete(t),t.f())}),Ln.tasks.size!==0&&Ln.tick(vf)}function rm(e){let t;return Ln.tasks.size===0&&Ln.tick(vf),{promise:new Promise(n=>{Ln.tasks.add(t={c:e,f:n})}),abort(){Ln.tasks.delete(t)}}}const ps=class ps{constructor(t){He(this,vs);He(this,Er,new WeakMap);He(this,ra);He(this,Wa);Ce(this,Wa,t)}observe(t,n){var r=W(this,Er).get(t)||new Set;return r.add(n),W(this,Er).set(t,r),gt(this,vs,Jd).call(this).observe(t,W(this,Wa)),()=>{var i=W(this,Er).get(t);i.delete(n),i.size===0&&(W(this,Er).delete(t),W(this,ra).unobserve(t))}}};Er=new WeakMap,ra=new WeakMap,Wa=new WeakMap,vs=new WeakSet,Jd=function(){return W(this,ra)??Ce(this,ra,new ResizeObserver(t=>{for(var n of t){ps.entries.set(n.target,n);for(var r of W(this,Er).get(n.target)||[])r(n)}}))},vt(ps,"entries",new WeakMap);let wu=ps;var im=new wu({box:"border-box"});function am(e,t,n){var r=im.observe(e,()=>n(e[t]));hu(()=>(ve(()=>n(e[t])),r))}function pf(e,t){return e===t||(e==null?void 0:e[Tn])===t}function bu(e={},t,n,r){return hu(()=>{var i,s;return ba(()=>{i=s,s=[],ve(()=>{e!==n(...s)&&(t(e,...s),i&&pf(n(...i),e)&&t(null,...i))})}),()=>{Yr(()=>{s&&pf(n(...s),e)&&t(null,...s)})}}),e}function Bn(e=!1){const t=Ye,n=t.l.u;if(!n)return;let r=()=>ee(t.s);if(e){let i=0,s={};const u=ya(()=>{let l=!1;const f=t.s;for(const d in f)f[d]!==s[d]&&(s[d]=f[d],l=!0);return l&&i++,i});r=()=>C(u)}n.b.length&&hp(()=>{mf(t,r),qs(n.b)}),fu(()=>{const i=ve(()=>n.m.map(dv));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&fu(()=>{mf(t,r),qs(n.a)})}function mf(e,t){if(e.l.s)for(const n of e.l.s)C(n);t()}function gf(e,t,n){if(e==null)return t(void 0),Nr;const r=ve(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Ui=[];function om(e,t=Nr){let n=null;const r=new Set;function i(l){if(cc(e,l)&&(e=l,n)){const f=!Ui.length;for(const d of r)d[1](),Ui.push(d,e);if(f){for(let d=0;d<Ui.length;d+=2)Ui[d][0](Ui[d+1]);Ui.length=0}}}function s(l){i(l(e))}function u(l,f=Nr){const d=[l,f];return r.add(d),r.size===1&&(n=t(i,s)||Nr),l(e),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:u}}function sm(e){let t;return gf(e,n=>t=n)(),t}let Do=!1,xu=Symbol();function yf(e,t,n){const r=n[t]??(n[t]={store:null,source:Fe(void 0),unsubscribe:Nr});if(r.source.label=t,r.store!==e&&!(xu in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Nr;else{var i=!0;r.unsubscribe=gf(e,s=>{i?r.source.v=s:_e(r.source,s)}),i=!1}return e&&xu in n?sm(e):C(r.source)}function um(){const e={};function t(){cu(()=>{for(var n in e)e[n].unsubscribe();on(e,xu,{enumerable:!1,value:!0})})}return[e,t]}function lm(e){var t=Do;try{return Do=!1,[e(),Do]}finally{Do=t}}const cm={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(fa(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];fa(i)&&(i=i());const s=Dn(i,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(fa(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Dn(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Tn||t===Zs)return!1;for(let n of e.props)if(fa(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(fa(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function er(...e){return new Proxy({props:e},cm)}function de(e,t,n,r){var I;var i=!Ge||(n&rv)!==0,s=(n&av)!==0,u=(n&ov)!==0,l=r,f=!0,d=()=>(f&&(f=!1,l=u?ve(r):r),l),m;if(s){var p=Tn in e||Zs in e;m=((I=Dn(e,t))==null?void 0:I.set)??(p&&t in e?j=>e[t]=j:void 0)}var g,_=!1;s?[g,_]=lm(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=d(),m&&(i&&Dv(t),m(g)));var w;if(i?w=()=>{var j=e[t];return j===void 0?d():(f=!0,j)}:w=()=>{var j=e[t];return j!==void 0&&(l=void 0),j===void 0?l:j},i&&(n&iv)===0)return w;if(m){var S=e.$$legacy;return function(j,q){return arguments.length>0?((!i||!q||S||_)&&m(q?w():j),j):w()}}var E=!1,A=((n&nv)!==0?ya:_a)(()=>(E=!1,w()));A.label=t,s&&C(A);var N=Ie;return function(j,q){if(arguments.length>0){const R=q?C(A):i&&s?Ii(j):j;return _e(A,R),E=!0,l!==void 0&&(l=R),j}return Qr&&E||(N.f&Lr)!==0?A.v:C(A)}}function fm(e){return new hm(e)}class hm{constructor(t){He(this,fr);He(this,gn);var s;var n=new Map,r=(u,l)=>{var f=Fe(l,!1,!1);return n.set(u,f),f};const i=new Proxy({...t.props||{},$$events:{}},{get(u,l){return C(n.get(l)??r(l,Reflect.get(u,l)))},has(u,l){return l===Zs?!0:(C(n.get(l)??r(l,Reflect.get(u,l))),Reflect.has(u,l))},set(u,l,f){return _e(n.get(l)??r(l,f),f),Reflect.set(u,l,f)}});Ce(this,gn,(t.hydrate?Dp:nf)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((s=t==null?void 0:t.props)!=null&&s.$$host)||t.sync===!1)&&le(),Ce(this,fr,i.$$events);for(const u of Object.keys(W(this,gn)))u==="$set"||u==="$destroy"||u==="$on"||on(this,u,{get(){return W(this,gn)[u]},set(l){W(this,gn)[u]=l},enumerable:!0});W(this,gn).$set=u=>{Object.assign(i,u)},W(this,gn).$destroy=()=>{$p(W(this,gn))}}$set(t){W(this,gn).$set(t)}$on(t,n){W(this,fr)[t]=W(this,fr)[t]||[];const r=(...i)=>n.call(this,...i);return W(this,fr)[t].push(r),()=>{W(this,fr)[t]=W(this,fr)[t].filter(i=>i!==r)}}$destroy(){W(this,gn).$destroy()}}fr=new WeakMap,gn=new WeakMap;let _f;typeof HTMLElement=="function"&&(_f=class extends HTMLElement{constructor(t,n,r){super();vt(this,"$$ctor");vt(this,"$$s");vt(this,"$$c");vt(this,"$$cn",!1);vt(this,"$$d",{});vt(this,"$$r",!1);vt(this,"$$p_d",{});vt(this,"$$l",{});vt(this,"$$l_u",new Map);vt(this,"$$me");this.$$ctor=t,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(t,n,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){const i=this.$$c.$on(t,n);this.$$l_u.set(n,i)}super.addEventListener(t,n,r)}removeEventListener(t,n,r){if(super.removeEventListener(t,n,r),this.$$c){const i=this.$$l_u.get(n);i&&(i(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(i){return s=>{const u=document.createElement("slot");i!=="default"&&(u.name=i),We(s,u)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},r=dm(this);for(const i of this.$$s)i in r&&(i==="default"&&!this.$$d.children?(this.$$d.children=t(i),n.default=!0):n[i]=t(i));for(const i of this.attributes){const s=this.$$g_p(i.name);s in this.$$d||(this.$$d[s]=$o(s,i.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=fm({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=dp(()=>{ba(()=>{var i;this.$$r=!0;for(const s of ho(this.$$c)){if(!((i=this.$$p_d[s])!=null&&i.reflect))continue;this.$$d[s]=this.$$c[s];const u=$o(s,this.$$d[s],this.$$p_d,"toAttribute");u==null?this.removeAttribute(this.$$p_d[s].attribute||s):this.setAttribute(this.$$p_d[s].attribute||s,u)}this.$$r=!1})});for(const i in this.$$l)for(const s of this.$$l[i]){const u=this.$$c.$on(i,s);this.$$l_u.set(s,u)}this.$$l={}}}attributeChangedCallback(t,n,r){var i;this.$$r||(t=this.$$g_p(t),this.$$d[t]=$o(t,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return ho(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function $o(e,t,n,r){var s;const i=(s=n[e])==null?void 0:s.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!r||!n[e])return t;if(r==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function dm(e){const t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}function zt(e,t,n,r,i,s){let u=class extends _f{constructor(){super(e,n,i),this.$$p_d=t}static get observedAttributes(){return ho(t).map(l=>(t[l].attribute||l).toLowerCase())}};return ho(t).forEach(l=>{on(u.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(f){var p;f=$o(l,f,t),this.$$d[l]=f;var d=this.$$c;if(d){var m=(p=Dn(d,l))==null?void 0:p.get;m?d[l]=f:d.$set({[l]:f})}}})}),r.forEach(l=>{on(u.prototype,l,{get(){var f;return(f=this.$$c)==null?void 0:f[l]}})}),e.element=u,u}Po[Ae]="src/lib/components/ContentBoxHeadline.svelte";const vm={hash:"svelte-1r2dsxy",code:`/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
.content-box-headline.svelte-1r2dsxy {
  background-color: #00193f;
  color: white;
  display: block;
  font-family: 'Oswald-VF', 'Oswald-fallback', sans-serif;
  font-size: 1rem;
  font-variation-settings: "wght" 400;
  font-weight: initial;
  line-height: 1.625rem;
  margin: 0;
  padding: 0 0.5rem !important;
  scroll-margin-top: 5rem;
  text-transform: uppercase;
}`};function Po(e,t){Kt(new.target),$t(t,!1,Po),Un(e,vm);let n=de(t,"elementType",12,"div"),r=de(t,"headline",12,"");var i={get elementType(){return n()},set elementType(l){n(l),le()},get headline(){return r()},set headline(l){r(l),le()},...jt()},s=Co(),u=Jn(s);return Pp(n),Rp(n),Hp(u,n,!1,(l,f)=>{ff(l,0,"content-box-headline svelte-1r2dsxy");var d=tf();at(()=>ft(d,r())),We(f,d)},void 0,[6,0]),We(e,s),Pt(i)}zt(Po,{elementType:{},headline:{}},[],[],!0),Sa[Ae]="src/lib/components/ContentBoxSubHeadline.svelte";var pm=tt(hn('<div class="content-box-subheadline"> </div>'),Sa[Ae],[[5,0]]);function Sa(e,t){Kt(new.target),$t(t,!1,Sa);let n=de(t,"headline",12,"");var r={get headline(){return n()},set headline(u){n(u),le()},...jt()},i=pm(),s=Re(i,!0);return Me(i),at(()=>ft(s,n())),We(e,i),Pt(r)}zt(Sa,{headline:{}},[],[],!0);function wf(e){return Object.prototype.toString.call(e)==="[object Date]"}function mm(e){return e}function Tu(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,s)=>Tu(e[s],i));return i=>r.map(s=>s(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(wf(e)&&wf(t)){const s=e.getTime(),l=t.getTime()-s;return f=>new Date(s+f*l)}const r=Object.keys(t),i={};return r.forEach(s=>{i[s]=Tu(e[s],t[s])}),s=>{const u={};return r.forEach(l=>{u[l]=i[l](s)}),u}}if(n==="number"){const r=t-e;return i=>e+i*r}return()=>t}function bf(e,t={}){const n=om(e);let r,i=e;function s(u,l){if(i=u,e==null)return n.set(e=u),Promise.resolve();let f=r,d=!1,{delay:m=0,duration:p=400,easing:g=mm,interpolate:_=Tu}={...t,...l};if(p===0)return f&&(f.abort(),f=null),n.set(e=i),Promise.resolve();const w=Ln.now()+m;let S;return r=rm(E=>{if(E<w)return!0;d||(S=_(e,u),typeof p=="function"&&(p=p(e,u)),d=!0),f&&(f.abort(),f=null);const A=E-w;return A>p?(n.set(e=u),!1):(n.set(e=S(g(A/p))),!0)}),r.promise}return{set:s,update:(u,l)=>s(u(i,e),l),subscribe:n.subscribe}}function Ro(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gm(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Su(e){let t,n,r;e.length!==2?(t=Ro,n=(l,f)=>Ro(e(l),f),r=(l,f)=>e(l)-f):(t=e===Ro||e===gm?e:ym,n=e,r=e);function i(l,f,d=0,m=l.length){if(d<m){if(t(f,f)!==0)return m;do{const p=d+m>>>1;n(l[p],f)<0?d=p+1:m=p}while(d<m)}return d}function s(l,f,d=0,m=l.length){if(d<m){if(t(f,f)!==0)return m;do{const p=d+m>>>1;n(l[p],f)<=0?d=p+1:m=p}while(d<m)}return d}function u(l,f,d=0,m=l.length){const p=i(l,f,d,m-1);return p>d&&r(l[p-1],f)>-r(l[p],f)?p-1:p}return{left:i,center:u,right:s}}function ym(){return 0}function _m(e){return e===null?NaN:+e}const wm=Su(Ro).right;Su(_m).center;const bm=Math.sqrt(50),xm=Math.sqrt(10),Tm=Math.sqrt(2);function Io(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),u=s>=bm?10:s>=xm?5:s>=Tm?2:1;let l,f,d;return i<0?(d=Math.pow(10,-i)/u,l=Math.round(e*d),f=Math.round(t*d),l/d<e&&++l,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*u,l=Math.round(e/d),f=Math.round(t/d),l*d<e&&++l,f*d>t&&--f),f<l&&.5<=n&&n<2?Io(e,t,n*2):[l,f,d]}function Sm(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,u]=r?Io(t,e,n):Io(e,t,n);if(!(s>=i))return[];const l=s-i+1,f=new Array(l);if(r)if(u<0)for(let d=0;d<l;++d)f[d]=(s-d)/-u;else for(let d=0;d<l;++d)f[d]=(s-d)*u;else if(u<0)for(let d=0;d<l;++d)f[d]=(i+d)/-u;else for(let d=0;d<l;++d)f[d]=(i+d)*u;return f}function Eu(e,t,n){return t=+t,e=+e,n=+n,Io(e,t,n)[2]}function ku(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Eu(t,e,n):Eu(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Em(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}var km={value:()=>{}};function xf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Oo(n)}function Oo(e){this._=e}function Cm(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Oo.prototype=xf.prototype={constructor:Oo,on:function(e,t){var n=this._,r=Cm(e+"",n),i,s=-1,u=r.length;if(arguments.length<2){for(;++s<u;)if((i=(e=r[s]).type)&&(i=Am(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<u;)if(i=(e=r[s]).type)n[i]=Tf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Tf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Oo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Am(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Tf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=km,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Cu="http://www.w3.org/1999/xhtml";const Sf={svg:"http://www.w3.org/2000/svg",xhtml:Cu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Sf.hasOwnProperty(t)?{space:Sf[t],local:e}:e}function Mm(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Cu&&t.documentElement.namespaceURI===Cu?t.createElement(e):t.createElementNS(n,e)}}function Dm(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ef(e){var t=Fo(e);return(t.local?Dm:Mm)(t)}function $m(){}function Au(e){return e==null?$m:function(){return this.querySelector(e)}}function Pm(e){typeof e!="function"&&(e=Au(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],u=s.length,l=r[i]=new Array(u),f,d,m=0;m<u;++m)(f=s[m])&&(d=e.call(f,f.__data__,m,s))&&("__data__"in f&&(d.__data__=f.__data__),l[m]=d);return new En(r,this._parents)}function Rm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Im(){return[]}function kf(e){return e==null?Im:function(){return this.querySelectorAll(e)}}function Om(e){return function(){return Rm(e.apply(this,arguments))}}function Fm(e){typeof e=="function"?e=Om(e):e=kf(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var u=t[s],l=u.length,f,d=0;d<l;++d)(f=u[d])&&(r.push(e.call(f,f.__data__,d,u)),i.push(f));return new En(r,i)}function Cf(e){return function(){return this.matches(e)}}function Af(e){return function(t){return t.matches(e)}}var Nm=Array.prototype.find;function Um(e){return function(){return Nm.call(this.children,e)}}function Lm(){return this.firstElementChild}function Bm(e){return this.select(e==null?Lm:Um(typeof e=="function"?e:Af(e)))}var Km=Array.prototype.filter;function jm(){return Array.from(this.children)}function zm(e){return function(){return Km.call(this.children,e)}}function Hm(e){return this.selectAll(e==null?jm:zm(typeof e=="function"?e:Af(e)))}function Ym(e){typeof e!="function"&&(e=Cf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],u=s.length,l=r[i]=[],f,d=0;d<u;++d)(f=s[d])&&e.call(f,f.__data__,d,s)&&l.push(f);return new En(r,this._parents)}function Mf(e){return new Array(e.length)}function Vm(){return new En(this._enter||this._groups.map(Mf),this._parents)}function No(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}No.prototype={constructor:No,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Wm(e){return function(){return e}}function qm(e,t,n,r,i,s){for(var u=0,l,f=t.length,d=s.length;u<d;++u)(l=t[u])?(l.__data__=s[u],r[u]=l):n[u]=new No(e,s[u]);for(;u<f;++u)(l=t[u])&&(i[u]=l)}function Xm(e,t,n,r,i,s,u){var l,f,d=new Map,m=t.length,p=s.length,g=new Array(m),_;for(l=0;l<m;++l)(f=t[l])&&(g[l]=_=u.call(f,f.__data__,l,t)+"",d.has(_)?i[l]=f:d.set(_,f));for(l=0;l<p;++l)_=u.call(e,s[l],l,s)+"",(f=d.get(_))?(r[l]=f,f.__data__=s[l],d.delete(_)):n[l]=new No(e,s[l]);for(l=0;l<m;++l)(f=t[l])&&d.get(g[l])===f&&(i[l]=f)}function Gm(e){return e.__data__}function Qm(e,t){if(!arguments.length)return Array.from(this,Gm);var n=t?Xm:qm,r=this._parents,i=this._groups;typeof e!="function"&&(e=Wm(e));for(var s=i.length,u=new Array(s),l=new Array(s),f=new Array(s),d=0;d<s;++d){var m=r[d],p=i[d],g=p.length,_=Zm(e.call(m,m&&m.__data__,d,r)),w=_.length,S=l[d]=new Array(w),E=u[d]=new Array(w),A=f[d]=new Array(g);n(m,p,S,E,A,_,t);for(var N=0,I=0,j,q;N<w;++N)if(j=S[N]){for(N>=I&&(I=N+1);!(q=E[I])&&++I<w;);j._next=q||null}}return u=new En(u,r),u._enter=l,u._exit=f,u}function Zm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jm(){return new En(this._exit||this._groups.map(Mf),this._parents)}function eg(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function tg(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,u=Math.min(i,s),l=new Array(i),f=0;f<u;++f)for(var d=n[f],m=r[f],p=d.length,g=l[f]=new Array(p),_,w=0;w<p;++w)(_=d[w]||m[w])&&(g[w]=_);for(;f<i;++f)l[f]=n[f];return new En(l,this._parents)}function ng(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],u;--i>=0;)(u=r[i])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function rg(e){e||(e=ig);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var u=n[s],l=u.length,f=i[s]=new Array(l),d,m=0;m<l;++m)(d=u[m])&&(f[m]=d);f.sort(t)}return new En(i,this._parents).order()}function ig(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ag(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function og(){return Array.from(this)}function sg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var u=r[i];if(u)return u}return null}function ug(){let e=0;for(const t of this)++e;return e}function lg(){return!this.node()}function cg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,u=i.length,l;s<u;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}function fg(e){return function(){this.removeAttribute(e)}}function hg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dg(e,t){return function(){this.setAttribute(e,t)}}function vg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function mg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gg(e,t){var n=Fo(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hg:fg:typeof t=="function"?n.local?mg:pg:n.local?vg:dg)(n,t))}function Df(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yg(e){return function(){this.style.removeProperty(e)}}function _g(e,t,n){return function(){this.style.setProperty(e,t,n)}}function wg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bg(e,t,n){return arguments.length>1?this.each((t==null?yg:typeof t=="function"?wg:_g)(e,t,n??"")):Li(this.node(),e)}function Li(e,t){return e.style.getPropertyValue(t)||Df(e).getComputedStyle(e,null).getPropertyValue(t)}function xg(e){return function(){delete this[e]}}function Tg(e,t){return function(){this[e]=t}}function Sg(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Eg(e,t){return arguments.length>1?this.each((t==null?xg:typeof t=="function"?Sg:Tg)(e,t)):this.node()[e]}function $f(e){return e.trim().split(/^|\s+/)}function Mu(e){return e.classList||new Pf(e)}function Pf(e){this._node=e,this._names=$f(e.getAttribute("class")||"")}Pf.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rf(e,t){for(var n=Mu(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function If(e,t){for(var n=Mu(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function kg(e){return function(){Rf(this,e)}}function Cg(e){return function(){If(this,e)}}function Ag(e,t){return function(){(t.apply(this,arguments)?Rf:If)(this,e)}}function Mg(e,t){var n=$f(e+"");if(arguments.length<2){for(var r=Mu(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ag:t?kg:Cg)(n,t))}function Dg(){this.textContent=""}function $g(e){return function(){this.textContent=e}}function Pg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rg(e){return arguments.length?this.each(e==null?Dg:(typeof e=="function"?Pg:$g)(e)):this.node().textContent}function Ig(){this.innerHTML=""}function Og(e){return function(){this.innerHTML=e}}function Fg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ng(e){return arguments.length?this.each(e==null?Ig:(typeof e=="function"?Fg:Og)(e)):this.node().innerHTML}function Ug(){this.nextSibling&&this.parentNode.appendChild(this)}function Lg(){return this.each(Ug)}function Bg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kg(){return this.each(Bg)}function jg(e){var t=typeof e=="function"?e:Ef(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function zg(){return null}function Hg(e,t){var n=typeof e=="function"?e:Ef(e),r=t==null?zg:typeof t=="function"?t:Au(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Yg(){var e=this.parentNode;e&&e.removeChild(this)}function Vg(){return this.each(Yg)}function Wg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qg(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xg(e){return this.select(e?qg:Wg)}function Gg(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Qg(e){return function(t){e.call(this,t,this.__data__)}}function Zg(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Jg(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function ey(e,t,n){return function(){var r=this.__on,i,s=Qg(t);if(r){for(var u=0,l=r.length;u<l;++u)if((i=r[u]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ty(e,t,n){var r=Zg(e+""),i,s=r.length,u;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,d=l.length,m;f<d;++f)for(i=0,m=l[f];i<s;++i)if((u=r[i]).type===m.type&&u.name===m.name)return m.value}return}for(l=t?ey:Jg,i=0;i<s;++i)this.each(l(r[i],t,n));return this}function Of(e,t,n){var r=Df(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ny(e,t){return function(){return Of(this,e,t)}}function ry(e,t){return function(){return Of(this,e,t.apply(this,arguments))}}function iy(e,t){return this.each((typeof t=="function"?ry:ny)(e,t))}function*ay(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,u;i<s;++i)(u=r[i])&&(yield u)}var oy=[null];function En(e,t){this._groups=e,this._parents=t}function Ea(){return new En([[document.documentElement]],oy)}function sy(){return this}En.prototype=Ea.prototype={constructor:En,select:Pm,selectAll:Fm,selectChild:Bm,selectChildren:Hm,filter:Ym,data:Qm,enter:Vm,exit:Jm,join:eg,merge:tg,selection:sy,order:ng,sort:rg,call:ag,nodes:og,node:sg,size:ug,empty:lg,each:cg,attr:gg,style:bg,property:Eg,classed:Mg,text:Rg,html:Ng,raise:Lg,lower:Kg,append:jg,insert:Hg,remove:Vg,clone:Xg,datum:Gg,on:ty,dispatch:iy,[Symbol.iterator]:ay};function Du(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ff(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ka(){}var Ca=.7,Uo=1/Ca,Bi="\\s*([+-]?\\d+)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uy=/^#([0-9a-f]{3,8})$/,ly=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),cy=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),fy=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${Aa}\\)$`),hy=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${Aa}\\)$`),dy=new RegExp(`^hsl\\(${Aa},${Kn},${Kn}\\)$`),vy=new RegExp(`^hsla\\(${Aa},${Kn},${Kn},${Aa}\\)$`),Nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Du(ka,ti,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uf,formatHex:Uf,formatHex8:py,formatHsl:my,formatRgb:Lf,toString:Lf});function Uf(){return this.rgb().formatHex()}function py(){return this.rgb().formatHex8()}function my(){return Hf(this).formatHsl()}function Lf(){return this.rgb().formatRgb()}function ti(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uy.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bf(t):n===3?new Ht(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Lo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Lo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ly.exec(e))?new Ht(t[1],t[2],t[3],1):(t=cy.exec(e))?new Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fy.exec(e))?Lo(t[1],t[2],t[3],t[4]):(t=hy.exec(e))?Lo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dy.exec(e))?zf(t[1],t[2]/100,t[3]/100,1):(t=vy.exec(e))?zf(t[1],t[2]/100,t[3]/100,t[4]):Nf.hasOwnProperty(e)?Bf(Nf[e]):e==="transparent"?new Ht(NaN,NaN,NaN,0):null}function Bf(e){return new Ht(e>>16&255,e>>8&255,e&255,1)}function Lo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ht(e,t,n,r)}function gy(e){return e instanceof ka||(e=ti(e)),e?(e=e.rgb(),new Ht(e.r,e.g,e.b,e.opacity)):new Ht}function $u(e,t,n,r){return arguments.length===1?gy(e):new Ht(e,t,n,r??1)}function Ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Du(Ht,$u,Ff(ka,{brighter(e){return e=e==null?Uo:Math.pow(Uo,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ca:Math.pow(Ca,e),new Ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ht(ni(this.r),ni(this.g),ni(this.b),Bo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kf,formatHex:Kf,formatHex8:yy,formatRgb:jf,toString:jf}));function Kf(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}`}function yy(){return`#${ri(this.r)}${ri(this.g)}${ri(this.b)}${ri((isNaN(this.opacity)?1:this.opacity)*255)}`}function jf(){const e=Bo(this.opacity);return`${e===1?"rgb(":"rgba("}${ni(this.r)}, ${ni(this.g)}, ${ni(this.b)}${e===1?")":`, ${e})`}`}function Bo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ri(e){return e=ni(e),(e<16?"0":"")+e.toString(16)}function zf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,n,r)}function Hf(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof ka||(e=ti(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),u=NaN,l=s-i,f=(s+i)/2;return l?(t===s?u=(n-r)/l+(n<r)*6:n===s?u=(r-t)/l+2:u=(t-n)/l+4,l/=f<.5?s+i:2-s-i,u*=60):l=f>0&&f<1?0:u,new kn(u,l,f,e.opacity)}function _y(e,t,n,r){return arguments.length===1?Hf(e):new kn(e,t,n,r??1)}function kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Du(kn,_y,Ff(ka,{brighter(e){return e=e==null?Uo:Math.pow(Uo,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ca:Math.pow(Ca,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ht(Pu(e>=240?e-240:e+120,i,r),Pu(e,i,r),Pu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new kn(Yf(this.h),Ko(this.s),Ko(this.l),Bo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bo(this.opacity);return`${e===1?"hsl(":"hsla("}${Yf(this.h)}, ${Ko(this.s)*100}%, ${Ko(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yf(e){return e=(e||0)%360,e<0?e+360:e}function Ko(e){return Math.max(0,Math.min(1,e||0))}function Pu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ru=e=>()=>e;function wy(e,t){return function(n){return e+n*t}}function by(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xy(e){return(e=+e)==1?Vf:function(t,n){return n-t?by(t,n,e):Ru(isNaN(t)?n:t)}}function Vf(e,t){var n=t-e;return n?wy(e,n):Ru(isNaN(e)?t:e)}const jo=function e(t){var n=xy(t);function r(i,s){var u=n((i=$u(i)).r,(s=$u(s)).r),l=n(i.g,s.g),f=n(i.b,s.b),d=Vf(i.opacity,s.opacity);return function(m){return i.r=u(m),i.g=l(m),i.b=f(m),i.opacity=d(m),i+""}}return r.gamma=e,r}(1);function Ty(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Sy(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ey(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)i[u]=Fu(e[u],t[u]);for(;u<n;++u)s[u]=t[u];return function(l){for(u=0;u<r;++u)s[u]=i[u](l);return s}}function ky(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cy(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Fu(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Iu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ou=new RegExp(Iu.source,"g");function Ay(e){return function(){return e}}function My(e){return function(t){return e(t)+""}}function Wf(e,t){var n=Iu.lastIndex=Ou.lastIndex=0,r,i,s,u=-1,l=[],f=[];for(e=e+"",t=t+"";(r=Iu.exec(e))&&(i=Ou.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[u]?l[u]+=s:l[++u]=s),(r=r[0])===(i=i[0])?l[u]?l[u]+=i:l[++u]=i:(l[++u]=null,f.push({i:u,x:dn(r,i)})),n=Ou.lastIndex;return n<t.length&&(s=t.slice(n),l[u]?l[u]+=s:l[++u]=s),l.length<2?f[0]?My(f[0].x):Ay(t):(t=f.length,function(d){for(var m=0,p;m<t;++m)l[(p=f[m]).i]=p.x(d);return l.join("")})}function Fu(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ru(t):(n==="number"?dn:n==="string"?(r=ti(t))?(t=r,jo):Wf:t instanceof ti?jo:t instanceof Date?ky:Sy(t)?Ty:Array.isArray(t)?Ey:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cy:dn)(e,t)}function Dy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var qf=180/Math.PI,Nu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xf(e,t,n,r,i,s){var u,l,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,f/=l),e*r<t*n&&(e=-e,t=-t,f=-f,u=-u),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*qf,skewX:Math.atan(f)*qf,scaleX:u,scaleY:l}}var zo;function $y(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Nu:Xf(t.a,t.b,t.c,t.d,t.e,t.f)}function Py(e){return e==null||(zo||(zo=document.createElementNS("http://www.w3.org/2000/svg","g")),zo.setAttribute("transform",e),!(e=zo.transform.baseVal.consolidate()))?Nu:(e=e.matrix,Xf(e.a,e.b,e.c,e.d,e.e,e.f))}function Gf(e,t,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,m,p,g,_,w){if(d!==p||m!==g){var S=_.push("translate(",null,t,null,n);w.push({i:S-4,x:dn(d,p)},{i:S-2,x:dn(m,g)})}else(p||g)&&_.push("translate("+p+t+g+n)}function u(d,m,p,g){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),g.push({i:p.push(i(p)+"rotate(",null,r)-2,x:dn(d,m)})):m&&p.push(i(p)+"rotate("+m+r)}function l(d,m,p,g){d!==m?g.push({i:p.push(i(p)+"skewX(",null,r)-2,x:dn(d,m)}):m&&p.push(i(p)+"skewX("+m+r)}function f(d,m,p,g,_,w){if(d!==p||m!==g){var S=_.push(i(_)+"scale(",null,",",null,")");w.push({i:S-4,x:dn(d,p)},{i:S-2,x:dn(m,g)})}else(p!==1||g!==1)&&_.push(i(_)+"scale("+p+","+g+")")}return function(d,m){var p=[],g=[];return d=e(d),m=e(m),s(d.translateX,d.translateY,m.translateX,m.translateY,p,g),u(d.rotate,m.rotate,p,g),l(d.skewX,m.skewX,p,g),f(d.scaleX,d.scaleY,m.scaleX,m.scaleY,p,g),d=m=null,function(_){for(var w=-1,S=g.length,E;++w<S;)p[(E=g[w]).i]=E.x(_);return p.join("")}}}var Ry=Gf($y,"px, ","px)","deg)"),Iy=Gf(Py,", ",")",")"),Ki=0,Ma=0,Da=0,Qf=1e3,Ho,$a,Yo=0,ii=0,Vo=0,Pa=typeof performance=="object"&&performance.now?performance:Date,Zf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Uu(){return ii||(Zf(Oy),ii=Pa.now()+Vo)}function Oy(){ii=0}function Wo(){this._call=this._time=this._next=null}Wo.prototype=Jf.prototype={constructor:Wo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Uu():+n)+(t==null?0:+t),!this._next&&$a!==this&&($a?$a._next=this:Ho=this,$a=this),this._call=e,this._time=n,Lu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lu())}};function Jf(e,t,n){var r=new Wo;return r.restart(e,t,n),r}function Fy(){Uu(),++Ki;for(var e=Ho,t;e;)(t=ii-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ki}function eh(){ii=(Yo=Pa.now())+Vo,Ki=Ma=0;try{Fy()}finally{Ki=0,Uy(),ii=0}}function Ny(){var e=Pa.now(),t=e-Yo;t>Qf&&(Vo-=t,Yo=e)}function Uy(){for(var e,t=Ho,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ho=n);$a=e,Lu(r)}function Lu(e){if(!Ki){Ma&&(Ma=clearTimeout(Ma));var t=e-ii;t>24?(e<1/0&&(Ma=setTimeout(eh,e-Pa.now()-Vo)),Da&&(Da=clearInterval(Da))):(Da||(Yo=Pa.now(),Da=setInterval(Ny,Qf)),Ki=1,Zf(eh))}}function th(e,t,n){var r=new Wo;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Ly=xf("start","end","cancel","interrupt"),By=[],nh=0,rh=1,Bu=2,qo=3,ih=4,Ku=5,Xo=6;function Go(e,t,n,r,i,s){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;Ky(e,n,{name:t,index:r,group:i,on:Ly,tween:By,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:nh})}function ju(e,t){var n=Cn(e,t);if(n.state>nh)throw new Error("too late; already scheduled");return n}function jn(e,t){var n=Cn(e,t);if(n.state>qo)throw new Error("too late; already running");return n}function Cn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ky(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Jf(s,0,n.time);function s(d){n.state=rh,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var m,p,g,_;if(n.state!==rh)return f();for(m in r)if(_=r[m],_.name===n.name){if(_.state===qo)return th(u);_.state===ih?(_.state=Xo,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[m]):+m<t&&(_.state=Xo,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[m])}if(th(function(){n.state===qo&&(n.state=ih,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=Bu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bu){for(n.state=qo,i=new Array(g=n.tween.length),m=0,p=-1;m<g;++m)(_=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=_);i.length=p+1}}function l(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=Ku,1),p=-1,g=i.length;++p<g;)i[p].call(e,m);n.state===Ku&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=Xo,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function jy(e,t){var n=e.__transition,r,i,s=!0,u;if(n){t=t==null?null:t+"";for(u in n){if((r=n[u]).name!==t){s=!1;continue}i=r.state>Bu&&r.state<Ku,r.state=Xo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[u]}s&&delete e.__transition}}function zy(e){return this.each(function(){jy(this,e)})}function Hy(e,t){var n,r;return function(){var i=jn(this,e),s=i.tween;if(s!==n){r=n=s;for(var u=0,l=r.length;u<l;++u)if(r[u].name===t){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function Yy(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=jn(this,e),u=s.tween;if(u!==r){i=(r=u).slice();for(var l={name:t,value:n},f=0,d=i.length;f<d;++f)if(i[f].name===t){i[f]=l;break}f===d&&i.push(l)}s.tween=i}}function Vy(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Cn(this.node(),n).tween,i=0,s=r.length,u;i<s;++i)if((u=r[i]).name===e)return u.value;return null}return this.each((t==null?Hy:Yy)(n,e,t))}function zu(e,t,n){var r=e._id;return e.each(function(){var i=jn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Cn(i,r).value[t]}}function ah(e,t){var n;return(typeof t=="number"?dn:t instanceof ti?jo:(n=ti(t))?(t=n,jo):Wf)(e,t)}function Wy(e){return function(){this.removeAttribute(e)}}function qy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xy(e,t,n){var r,i=n+"",s;return function(){var u=this.getAttribute(e);return u===i?null:u===r?s:s=t(r=u,n)}}function Gy(e,t,n){var r,i=n+"",s;return function(){var u=this.getAttributeNS(e.space,e.local);return u===i?null:u===r?s:s=t(r=u,n)}}function Qy(e,t,n){var r,i,s;return function(){var u,l=n(this),f;return l==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=l+"",u===f?null:u===r&&f===i?s:(i=f,s=t(r=u,l)))}}function Zy(e,t,n){var r,i,s;return function(){var u,l=n(this),f;return l==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=l+"",u===f?null:u===r&&f===i?s:(i=f,s=t(r=u,l)))}}function Jy(e,t){var n=Fo(e),r=n==="transform"?Iy:ah;return this.attrTween(e,typeof t=="function"?(n.local?Zy:Qy)(n,r,zu(this,"attr."+e,t)):t==null?(n.local?qy:Wy)(n):(n.local?Gy:Xy)(n,r,t))}function e0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function t0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function n0(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&t0(e,s)),n}return i._value=t,i}function r0(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&e0(e,s)),n}return i._value=t,i}function i0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Fo(e);return this.tween(n,(r.local?n0:r0)(r,t))}function a0(e,t){return function(){ju(this,e).delay=+t.apply(this,arguments)}}function o0(e,t){return t=+t,function(){ju(this,e).delay=t}}function s0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?a0:o0)(t,e)):Cn(this.node(),t).delay}function u0(e,t){return function(){jn(this,e).duration=+t.apply(this,arguments)}}function l0(e,t){return t=+t,function(){jn(this,e).duration=t}}function c0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?u0:l0)(t,e)):Cn(this.node(),t).duration}function f0(e,t){if(typeof t!="function")throw new Error;return function(){jn(this,e).ease=t}}function h0(e){var t=this._id;return arguments.length?this.each(f0(t,e)):Cn(this.node(),t).ease}function d0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;jn(this,e).ease=n}}function v0(e){if(typeof e!="function")throw new Error;return this.each(d0(this._id,e))}function p0(e){typeof e!="function"&&(e=Cf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],u=s.length,l=r[i]=[],f,d=0;d<u;++d)(f=s[d])&&e.call(f,f.__data__,d,s)&&l.push(f);return new tr(r,this._parents,this._name,this._id)}function m0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),u=new Array(r),l=0;l<s;++l)for(var f=t[l],d=n[l],m=f.length,p=u[l]=new Array(m),g,_=0;_<m;++_)(g=f[_]||d[_])&&(p[_]=g);for(;l<r;++l)u[l]=t[l];return new tr(u,this._parents,this._name,this._id)}function g0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function y0(e,t,n){var r,i,s=g0(t)?ju:jn;return function(){var u=s(this,e),l=u.on;l!==r&&(i=(r=l).copy()).on(t,n),u.on=i}}function _0(e,t){var n=this._id;return arguments.length<2?Cn(this.node(),n).on.on(e):this.each(y0(n,e,t))}function w0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function b0(){return this.on("end.remove",w0(this._id))}function x0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Au(e));for(var r=this._groups,i=r.length,s=new Array(i),u=0;u<i;++u)for(var l=r[u],f=l.length,d=s[u]=new Array(f),m,p,g=0;g<f;++g)(m=l[g])&&(p=e.call(m,m.__data__,g,l))&&("__data__"in m&&(p.__data__=m.__data__),d[g]=p,Go(d[g],t,n,g,d,Cn(m,n)));return new tr(s,this._parents,t,n)}function T0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=kf(e));for(var r=this._groups,i=r.length,s=[],u=[],l=0;l<i;++l)for(var f=r[l],d=f.length,m,p=0;p<d;++p)if(m=f[p]){for(var g=e.call(m,m.__data__,p,f),_,w=Cn(m,n),S=0,E=g.length;S<E;++S)(_=g[S])&&Go(_,t,n,S,g,w);s.push(g),u.push(m)}return new tr(s,u,t,n)}var S0=Ea.prototype.constructor;function E0(){return new S0(this._groups,this._parents)}function k0(e,t){var n,r,i;return function(){var s=Li(this,e),u=(this.style.removeProperty(e),Li(this,e));return s===u?null:s===n&&u===r?i:i=t(n=s,r=u)}}function oh(e){return function(){this.style.removeProperty(e)}}function C0(e,t,n){var r,i=n+"",s;return function(){var u=Li(this,e);return u===i?null:u===r?s:s=t(r=u,n)}}function A0(e,t,n){var r,i,s;return function(){var u=Li(this,e),l=n(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(e),Li(this,e))),u===f?null:u===r&&f===i?s:(i=f,s=t(r=u,l))}}function M0(e,t){var n,r,i,s="style."+t,u="end."+s,l;return function(){var f=jn(this,e),d=f.on,m=f.value[s]==null?l||(l=oh(t)):void 0;(d!==n||i!==m)&&(r=(n=d).copy()).on(u,i=m),f.on=r}}function D0(e,t,n){var r=(e+="")=="transform"?Ry:ah;return t==null?this.styleTween(e,k0(e,r)).on("end.style."+e,oh(e)):typeof t=="function"?this.styleTween(e,A0(e,r,zu(this,"style."+e,t))).each(M0(this._id,e)):this.styleTween(e,C0(e,r,t),n).on("end.style."+e,null)}function $0(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function P0(e,t,n){var r,i;function s(){var u=t.apply(this,arguments);return u!==i&&(r=(i=u)&&$0(e,u,n)),r}return s._value=t,s}function R0(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,P0(e,t,n??""))}function I0(e){return function(){this.textContent=e}}function O0(e){return function(){var t=e(this);this.textContent=t??""}}function F0(e){return this.tween("text",typeof e=="function"?O0(zu(this,"text",e)):I0(e==null?"":e+""))}function N0(e){return function(t){this.textContent=e.call(this,t)}}function U0(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&N0(i)),t}return r._value=e,r}function L0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,U0(e))}function B0(){for(var e=this._name,t=this._id,n=sh(),r=this._groups,i=r.length,s=0;s<i;++s)for(var u=r[s],l=u.length,f,d=0;d<l;++d)if(f=u[d]){var m=Cn(f,t);Go(f,e,n,d,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new tr(r,this._parents,e,n)}function K0(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,u){var l={value:u},f={value:function(){--i===0&&s()}};n.each(function(){var d=jn(this,r),m=d.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(f)),d.on=t}),i===0&&s()})}var j0=0;function tr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function sh(){return++j0}var nr=Ea.prototype;tr.prototype={constructor:tr,select:x0,selectAll:T0,selectChild:nr.selectChild,selectChildren:nr.selectChildren,filter:p0,merge:m0,selection:E0,transition:B0,call:nr.call,nodes:nr.nodes,node:nr.node,size:nr.size,empty:nr.empty,each:nr.each,on:_0,attr:Jy,attrTween:i0,style:D0,styleTween:R0,text:F0,textTween:L0,remove:b0,tween:Vy,delay:s0,duration:c0,ease:h0,easeVarying:v0,end:K0,[Symbol.iterator]:nr[Symbol.iterator]};function z0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var H0={time:null,delay:0,duration:250,ease:z0};function Y0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function V0(e){var t,n;e instanceof tr?(t=e._id,e=e._name):(t=sh(),(n=H0).time=Uu(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var u=r[s],l=u.length,f,d=0;d<l;++d)(f=u[d])&&Go(f,e,t,d,u,n||Y0(f,t));return new tr(r,this._parents,e,t)}Ea.prototype.interrupt=zy,Ea.prototype.transition=V0;const Hu=Math.PI,Yu=2*Hu,ai=1e-6,W0=Yu-ai;function uh(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function q0(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uh;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let X0=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uh:q0(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,u){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+u}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let u=this._x1,l=this._y1,f=r-t,d=i-n,m=u-t,p=l-n,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>ai)if(!(Math.abs(p*f-d*m)>ai)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-u,w=i-l,S=f*f+d*d,E=_*_+w*w,A=Math.sqrt(S),N=Math.sqrt(g),I=s*Math.tan((Hu-Math.acos((S+g-E)/(2*A*N)))/2),j=I/N,q=I/A;Math.abs(j-1)>ai&&this._append`L${t+j*m},${n+j*p}`,this._append`A${s},${s},0,0,${+(p*_>m*w)},${this._x1=t+q*f},${this._y1=n+q*d}`}}arc(t,n,r,i,s,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),f=r*Math.sin(i),d=t+l,m=n+f,p=1^u,g=u?i-s:s-i;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>ai||Math.abs(this._y1-m)>ai)&&this._append`L${d},${m}`,r&&(g<0&&(g=g%Yu+Yu),g>W0?this._append`A${r},${r},0,1,${p},${t-l},${n-f}A${r},${r},0,1,${p},${this._x1=d},${this._y1=m}`:g>ai&&this._append`A${r},${r},0,${+(g>=Hu)},${p},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};const rr=11102230246251565e-32,At=134217729,G0=(3+8*rr)*rr;function Vu(e,t,n,r,i){let s,u,l,f,d=t[0],m=r[0],p=0,g=0;m>d==m>-d?(s=d,d=t[++p]):(s=m,m=r[++g]);let _=0;if(p<e&&g<n)for(m>d==m>-d?(u=d+s,l=s-(u-d),d=t[++p]):(u=m+s,l=s-(u-m),m=r[++g]),s=u,l!==0&&(i[_++]=l);p<e&&g<n;)m>d==m>-d?(u=s+d,f=u-s,l=s-(u-f)+(d-f),d=t[++p]):(u=s+m,f=u-s,l=s-(u-f)+(m-f),m=r[++g]),s=u,l!==0&&(i[_++]=l);for(;p<e;)u=s+d,f=u-s,l=s-(u-f)+(d-f),d=t[++p],s=u,l!==0&&(i[_++]=l);for(;g<n;)u=s+m,f=u-s,l=s-(u-f)+(m-f),m=r[++g],s=u,l!==0&&(i[_++]=l);return(s!==0||_===0)&&(i[_++]=s),_}function Q0(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Ra(e){return new Float64Array(e)}const Z0=(3+16*rr)*rr,J0=(2+12*rr)*rr,e_=(9+64*rr)*rr*rr,ji=Ra(4),lh=Ra(8),ch=Ra(12),fh=Ra(16),Ot=Ra(4);function t_(e,t,n,r,i,s,u){let l,f,d,m,p,g,_,w,S,E,A,N,I,j,q,R,L,J;const O=e-i,te=n-i,X=t-s,oe=r-s;j=O*oe,g=At*O,_=g-(g-O),w=O-_,g=At*oe,S=g-(g-oe),E=oe-S,q=w*E-(j-_*S-w*S-_*E),R=X*te,g=At*X,_=g-(g-X),w=X-_,g=At*te,S=g-(g-te),E=te-S,L=w*E-(R-_*S-w*S-_*E),A=q-L,p=q-A,ji[0]=q-(A+p)+(p-L),N=j+A,p=N-j,I=j-(N-p)+(A-p),A=I-R,p=I-A,ji[1]=I-(A+p)+(p-R),J=N+A,p=J-N,ji[2]=N-(J-p)+(A-p),ji[3]=J;let B=Q0(4,ji),ce=J0*u;if(B>=ce||-B>=ce||(p=e-O,l=e-(O+p)+(p-i),p=n-te,d=n-(te+p)+(p-i),p=t-X,f=t-(X+p)+(p-s),p=r-oe,m=r-(oe+p)+(p-s),l===0&&f===0&&d===0&&m===0)||(ce=e_*u+G0*Math.abs(B),B+=O*m+oe*l-(X*d+te*f),B>=ce||-B>=ce))return B;j=l*oe,g=At*l,_=g-(g-l),w=l-_,g=At*oe,S=g-(g-oe),E=oe-S,q=w*E-(j-_*S-w*S-_*E),R=f*te,g=At*f,_=g-(g-f),w=f-_,g=At*te,S=g-(g-te),E=te-S,L=w*E-(R-_*S-w*S-_*E),A=q-L,p=q-A,Ot[0]=q-(A+p)+(p-L),N=j+A,p=N-j,I=j-(N-p)+(A-p),A=I-R,p=I-A,Ot[1]=I-(A+p)+(p-R),J=N+A,p=J-N,Ot[2]=N-(J-p)+(A-p),Ot[3]=J;const pe=Vu(4,ji,4,Ot,lh);j=O*m,g=At*O,_=g-(g-O),w=O-_,g=At*m,S=g-(g-m),E=m-S,q=w*E-(j-_*S-w*S-_*E),R=X*d,g=At*X,_=g-(g-X),w=X-_,g=At*d,S=g-(g-d),E=d-S,L=w*E-(R-_*S-w*S-_*E),A=q-L,p=q-A,Ot[0]=q-(A+p)+(p-L),N=j+A,p=N-j,I=j-(N-p)+(A-p),A=I-R,p=I-A,Ot[1]=I-(A+p)+(p-R),J=N+A,p=J-N,Ot[2]=N-(J-p)+(A-p),Ot[3]=J;const ge=Vu(pe,lh,4,Ot,ch);j=l*m,g=At*l,_=g-(g-l),w=l-_,g=At*m,S=g-(g-m),E=m-S,q=w*E-(j-_*S-w*S-_*E),R=f*d,g=At*f,_=g-(g-f),w=f-_,g=At*d,S=g-(g-d),E=d-S,L=w*E-(R-_*S-w*S-_*E),A=q-L,p=q-A,Ot[0]=q-(A+p)+(p-L),N=j+A,p=N-j,I=j-(N-p)+(A-p),A=I-R,p=I-A,Ot[1]=I-(A+p)+(p-R),J=N+A,p=J-N,Ot[2]=N-(J-p)+(A-p),Ot[3]=J;const we=Vu(ge,ch,4,Ot,fh);return fh[we-1]}function Qo(e,t,n,r,i,s){const u=(t-s)*(n-i),l=(e-i)*(r-s),f=u-l,d=Math.abs(u+l);return Math.abs(f)>=Z0*d?f:-t_(e,t,n,r,i,s,d)}const hh=Math.pow(2,-52),Zo=new Uint32Array(512);class Jo{static from(t,n=o_,r=s_){const i=t.length,s=new Float64Array(i*2);for(let u=0;u<i;u++){const l=t[u];s[2*u]=n(l),s[2*u+1]=r(l)}return new Jo(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,u=t.length>>1;let l=1/0,f=1/0,d=-1/0,m=-1/0;for(let O=0;O<u;O++){const te=t[2*O],X=t[2*O+1];te<l&&(l=te),X<f&&(f=X),te>d&&(d=te),X>m&&(m=X),this._ids[O]=O}const p=(l+d)/2,g=(f+m)/2;let _,w,S;for(let O=0,te=1/0;O<u;O++){const X=Wu(p,g,t[2*O],t[2*O+1]);X<te&&(_=O,te=X)}const E=t[2*_],A=t[2*_+1];for(let O=0,te=1/0;O<u;O++){if(O===_)continue;const X=Wu(E,A,t[2*O],t[2*O+1]);X<te&&X>0&&(w=O,te=X)}let N=t[2*w],I=t[2*w+1],j=1/0;for(let O=0;O<u;O++){if(O===_||O===w)continue;const te=i_(E,A,N,I,t[2*O],t[2*O+1]);te<j&&(S=O,j=te)}let q=t[2*S],R=t[2*S+1];if(j===1/0){for(let X=0;X<u;X++)this._dists[X]=t[2*X]-t[0]||t[2*X+1]-t[1];zi(this._ids,this._dists,0,u-1);const O=new Uint32Array(u);let te=0;for(let X=0,oe=-1/0;X<u;X++){const B=this._ids[X],ce=this._dists[B];ce>oe&&(O[te++]=B,oe=ce)}this.hull=O.subarray(0,te),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Qo(E,A,N,I,q,R)<0){const O=w,te=N,X=I;w=S,N=q,I=R,S=O,q=te,R=X}const L=a_(E,A,N,I,q,R);this._cx=L.x,this._cy=L.y;for(let O=0;O<u;O++)this._dists[O]=Wu(t[2*O],t[2*O+1],L.x,L.y);zi(this._ids,this._dists,0,u-1),this._hullStart=_;let J=3;r[_]=n[S]=w,r[w]=n[_]=S,r[S]=n[w]=_,i[_]=0,i[w]=1,i[S]=2,s.fill(-1),s[this._hashKey(E,A)]=_,s[this._hashKey(N,I)]=w,s[this._hashKey(q,R)]=S,this.trianglesLen=0,this._addTriangle(_,w,S,-1,-1,-1);for(let O=0,te,X;O<this._ids.length;O++){const oe=this._ids[O],B=t[2*oe],ce=t[2*oe+1];if(O>0&&Math.abs(B-te)<=hh&&Math.abs(ce-X)<=hh||(te=B,X=ce,oe===_||oe===w||oe===S))continue;let pe=0;for(let Qe=0,Ze=this._hashKey(B,ce);Qe<this._hashSize&&(pe=s[(Ze+Qe)%this._hashSize],!(pe!==-1&&pe!==r[pe]));Qe++);pe=n[pe];let ge=pe,we;for(;we=r[ge],Qo(B,ce,t[2*ge],t[2*ge+1],t[2*we],t[2*we+1])>=0;)if(ge=we,ge===pe){ge=-1;break}if(ge===-1)continue;let Ee=this._addTriangle(ge,oe,r[ge],-1,-1,i[ge]);i[oe]=this._legalize(Ee+2),i[ge]=Ee,J++;let Te=r[ge];for(;we=r[Te],Qo(B,ce,t[2*Te],t[2*Te+1],t[2*we],t[2*we+1])<0;)Ee=this._addTriangle(Te,oe,we,i[oe],-1,i[Te]),i[oe]=this._legalize(Ee+2),r[Te]=Te,J--,Te=we;if(ge===pe)for(;we=n[ge],Qo(B,ce,t[2*we],t[2*we+1],t[2*ge],t[2*ge+1])<0;)Ee=this._addTriangle(we,oe,ge,-1,i[ge],i[we]),this._legalize(Ee+2),i[we]=Ee,r[ge]=ge,J--,ge=we;this._hullStart=n[oe]=ge,r[ge]=n[Te]=oe,r[oe]=Te,s[this._hashKey(B,ce)]=oe,s[this._hashKey(t[2*ge],t[2*ge+1])]=ge}this.hull=new Uint32Array(J);for(let O=0,te=this._hullStart;O<J;O++)this.hull[O]=te,te=r[te];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(n_(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,u=0;for(;;){const l=r[t],f=t-t%3;if(u=f+(t+2)%3,l===-1){if(s===0)break;t=Zo[--s];continue}const d=l-l%3,m=f+(t+1)%3,p=d+(l+2)%3,g=n[u],_=n[t],w=n[m],S=n[p];if(r_(i[2*g],i[2*g+1],i[2*_],i[2*_+1],i[2*w],i[2*w+1],i[2*S],i[2*S+1])){n[t]=S,n[l]=g;const A=r[p];if(A===-1){let I=this._hullStart;do{if(this._hullTri[I]===p){this._hullTri[I]=t;break}I=this._hullPrev[I]}while(I!==this._hullStart)}this._link(t,A),this._link(l,r[u]),this._link(u,p);const N=d+(l+1)%3;s<Zo.length&&(Zo[s++]=N)}else{if(s===0)break;t=Zo[--s]}}return u}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,u){const l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=n,this._triangles[l+2]=r,this._link(l,i),this._link(l+1,s),this._link(l+2,u),this.trianglesLen+=3,l}}function n_(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Wu(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function r_(e,t,n,r,i,s,u,l){const f=e-u,d=t-l,m=n-u,p=r-l,g=i-u,_=s-l,w=f*f+d*d,S=m*m+p*p,E=g*g+_*_;return f*(p*E-S*_)-d*(m*E-S*g)+w*(m*_-p*g)<0}function i_(e,t,n,r,i,s){const u=n-e,l=r-t,f=i-e,d=s-t,m=u*u+l*l,p=f*f+d*d,g=.5/(u*d-l*f),_=(d*m-l*p)*g,w=(u*p-f*m)*g;return _*_+w*w}function a_(e,t,n,r,i,s){const u=n-e,l=r-t,f=i-e,d=s-t,m=u*u+l*l,p=f*f+d*d,g=.5/(u*d-l*f),_=e+(d*m-l*p)*g,w=t+(u*p-f*m)*g;return{x:_,y:w}}function zi(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],u=t[s];let l=i-1;for(;l>=n&&t[e[l]]>u;)e[l+1]=e[l--];e[l+1]=s}else{const i=n+r>>1;let s=n+1,u=r;Ia(e,i,s),t[e[n]]>t[e[r]]&&Ia(e,n,r),t[e[s]]>t[e[r]]&&Ia(e,s,r),t[e[n]]>t[e[s]]&&Ia(e,n,s);const l=e[s],f=t[l];for(;;){do s++;while(t[e[s]]<f);do u--;while(t[e[u]]>f);if(u<s)break;Ia(e,s,u)}e[n+1]=e[u],e[u]=l,r-s+1>=u-n?(zi(e,t,s,r),zi(e,t,n,u-1)):(zi(e,t,n,u-1),zi(e,t,s,r))}}function Ia(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function o_(e){return e[0]}function s_(e){return e[1]}const dh=1e-6;class oi{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>dh||Math.abs(this._y1-s)>dh)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class qu{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class u_{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,u;const l=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let S=0,E=0,A=r.length,N,I;S<A;S+=3,E+=2){const j=r[S]*2,q=r[S+1]*2,R=r[S+2]*2,L=t[j],J=t[j+1],O=t[q],te=t[q+1],X=t[R],oe=t[R+1],B=O-L,ce=te-J,pe=X-L,ge=oe-J,we=(B*ge-ce*pe)*2;if(Math.abs(we)<1e-9){if(s===void 0){s=u=0;for(const Te of n)s+=t[Te*2],u+=t[Te*2+1];s/=n.length,u/=n.length}const Ee=1e9*Math.sign((s-L)*ge-(u-J)*pe);N=(L+X)/2-Ee*ge,I=(J+oe)/2+Ee*pe}else{const Ee=1/we,Te=B*B+ce*ce,Qe=pe*pe+ge*ge;N=L+(ge*Te-ce*Qe)*Ee,I=J+(B*Qe-pe*Te)*Ee}l[E]=N,l[E+1]=I}let f=n[n.length-1],d,m=f*4,p,g=t[2*f],_,w=t[2*f+1];i.fill(0);for(let S=0;S<n.length;++S)f=n[S],d=m,p=g,_=w,m=f*4,g=t[2*f],w=t[2*f+1],i[d+2]=i[m]=_-w,i[d+3]=i[m+1]=g-p}render(t){const n=t==null?t=new oi:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:u,vectors:l}=this;if(s.length<=1)return null;for(let m=0,p=r.length;m<p;++m){const g=r[m];if(g<m)continue;const _=Math.floor(m/3)*2,w=Math.floor(g/3)*2,S=u[_],E=u[_+1],A=u[w],N=u[w+1];this._renderSegment(S,E,A,N,t)}let f,d=s[s.length-1];for(let m=0;m<s.length;++m){f=d,d=s[m];const p=Math.floor(i[d]/3)*2,g=u[p],_=u[p+1],w=f*4,S=this._project(g,_,l[w+2],l[w+3]);S&&this._renderSegment(g,_,S[0],S[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new oi:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new oi:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let u=2;u<s;u+=2)(i[u]!==i[u-2]||i[u+1]!==i[u-1])&&n.lineTo(i[u],i[u+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new qu;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let u;const l=this._regioncode(t,n),f=this._regioncode(r,i);l===0&&f===0?(s.moveTo(t,n),s.lineTo(r,i)):(u=this._clipSegment(t,n,r,i,l,f))&&(s.moveTo(u[0],u[1]),s.lineTo(u[2],u[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,u=n.length;s<u;s+=2)for(let l=0,f=i.length;l<f;l+=2)if(n[s]===i[l]&&n[s+1]===i[l+1]&&n[(s+2)%u]===i[(l+f-2)%f]&&n[(s+3)%u]===i[(l+f-1)%f]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,u=r[t];if(u===-1)return null;const l=[];let f=u;do{const d=Math.floor(f/3);if(l.push(n[d*2],n[d*2+1]),f=f%3===2?f-2:f+1,s[f]!==t)break;f=i[f]}while(f!==u&&f!==-1);return l}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,u,l=n[r-2],f=n[r-1],d,m=this._regioncode(l,f),p,g=0;for(let _=0;_<r;_+=2)if(s=l,u=f,l=n[_],f=n[_+1],d=m,m=this._regioncode(l,f),d===0&&m===0)p=g,g=0,i?i.push(l,f):i=[l,f];else{let w,S,E,A,N;if(d===0){if((w=this._clipSegment(s,u,l,f,d,m))===null)continue;[S,E,A,N]=w}else{if((w=this._clipSegment(l,f,s,u,m,d))===null)continue;[A,N,S,E]=w,p=g,g=this._edgecode(S,E),p&&g&&this._edge(t,p,g,i,i.length),i?i.push(S,E):i=[S,E]}p=g,g=this._edgecode(A,N),p&&g&&this._edge(t,p,g,i,i.length),i?i.push(A,N):i=[A,N]}if(i)p=g,g=this._edgecode(i[0],i[1]),p&&g&&this._edge(t,p,g,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,u){const l=s<u;for(l&&([t,n,r,i,s,u]=[r,i,t,n,u,s]);;){if(s===0&&u===0)return l?[r,i,t,n]:[t,n,r,i];if(s&u)return null;let f,d,m=s||u;m&8?(f=t+(r-t)*(this.ymax-n)/(i-n),d=this.ymax):m&4?(f=t+(r-t)*(this.ymin-n)/(i-n),d=this.ymin):m&2?(d=n+(i-n)*(this.xmax-t)/(r-t),f=this.xmax):(d=n+(i-n)*(this.xmin-t)/(r-t),f=this.xmin),s?(t=f,n=d,s=this._regioncode(t,n)):(r=f,i=d,u=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,u){let l=Array.from(n),f;if((f=this._project(l[0],l[1],r,i))&&l.unshift(f[0],f[1]),(f=this._project(l[l.length-2],l[l.length-1],s,u))&&l.push(f[0],f[1]),l=this._clipFinite(t,l))for(let d=0,m=l.length,p,g=this._edgecode(l[m-2],l[m-1]);d<m;d+=2)p=g,g=this._edgecode(l[d],l[d+1]),p&&g&&(d=this._edge(t,p,g,l,d),m=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,n,r,i,s){for(;n!==r;){let u,l;switch(n){case 5:n=4;continue;case 4:n=6,u=this.xmax,l=this.ymin;break;case 6:n=2;continue;case 2:n=10,u=this.xmax,l=this.ymax;break;case 10:n=8;continue;case 8:n=9,u=this.xmin,l=this.ymax;break;case 9:n=1;continue;case 1:n=5,u=this.xmin,l=this.ymin;break}(i[s]!==u||i[s+1]!==l)&&this.contains(t,u,l)&&(i.splice(s,0,u,l),s+=2)}return s}_project(t,n,r,i){let s=1/0,u,l,f;if(i<0){if(n<=this.ymin)return null;(u=(this.ymin-n)/i)<s&&(f=this.ymin,l=t+(s=u)*r)}else if(i>0){if(n>=this.ymax)return null;(u=(this.ymax-n)/i)<s&&(f=this.ymax,l=t+(s=u)*r)}if(r>0){if(t>=this.xmax)return null;(u=(this.xmax-t)/r)<s&&(l=this.xmax,f=n+(s=u)*i)}else if(r<0){if(t<=this.xmin)return null;(u=(this.xmin-t)/r)<s&&(l=this.xmin,f=n+(s=u)*i)}return[l,f]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}}const l_=2*Math.PI,Hi=Math.pow;function c_(e){return e[0]}function f_(e){return e[1]}function h_(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],u=2*t[r+2];if((n[u]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[u+1]-n[i+1])>1e-10)return!1}return!0}function d_(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Xu{static from(t,n=c_,r=f_,i){return new Xu("length"in t?v_(t,n,r,i):Float64Array.from(p_(t,n,r,i)))}constructor(t){this._delaunator=new Jo(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&h_(t)){this.collinear=Int32Array.from({length:n.length/2},(g,_)=>_).sort((g,_)=>n[2*g]-n[2*_]||n[2*g+1]-n[2*_+1]);const f=this.collinear[0],d=this.collinear[this.collinear.length-1],m=[n[2*f],n[2*f+1],n[2*d],n[2*d+1]],p=1e-8*Math.hypot(m[3]-m[1],m[2]-m[0]);for(let g=0,_=n.length/2;g<_;++g){const w=d_(n[2*g],n[2*g+1],p);n[2*g]=w[0],n[2*g+1]=w[1]}this._delaunator=new Jo(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,u=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let f=0,d=r.length;f<d;++f){const m=s[f%3===2?f-2:f+1];(r[f]===-1||u[m]===-1)&&(u[m]=f)}for(let f=0,d=i.length;f<d;++f)l[i[f]]=f;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],u[i[0]]=1,i.length===2&&(u[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new u_(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:u,collinear:l}=this;if(l){const p=l.indexOf(t);p>0&&(yield l[p-1]),p<l.length-1&&(yield l[p+1]);return}const f=n[t];if(f===-1)return;let d=f,m=-1;do{if(yield m=u[d],d=d%3===2?d-2:d+1,u[d]!==t)return;if(d=s[d],d===-1){const p=r[(i[t]+1)%r.length];p!==m&&(yield p);return}}while(d!==f)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:u,halfedges:l,triangles:f,points:d}=this;if(i[t]===-1||!d.length)return(t+1)%(d.length>>1);let m=t,p=Hi(n-d[t*2],2)+Hi(r-d[t*2+1],2);const g=i[t];let _=g;do{let w=f[_];const S=Hi(n-d[w*2],2)+Hi(r-d[w*2+1],2);if(S<p&&(p=S,m=w),_=_%3===2?_-2:_+1,f[_]!==t)break;if(_=l[_],_===-1){if(_=s[(u[t]+1)%s.length],_!==w&&Hi(n-d[_*2],2)+Hi(r-d[_*2+1],2)<p)return _;break}}while(_!==g);return m}render(t){const n=t==null?t=new oi:void 0,{points:r,halfedges:i,triangles:s}=this;for(let u=0,l=i.length;u<l;++u){const f=i[u];if(f<u)continue;const d=s[u]*2,m=s[f]*2;t.moveTo(r[d],r[d+1]),t.lineTo(r[m],r[m+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new oi:void 0,{points:i}=this;for(let s=0,u=i.length;s<u;s+=2){const l=i[s],f=i[s+1];t.moveTo(l+n,f),t.arc(l,f,n,0,l_)}return r&&r.value()}renderHull(t){const n=t==null?t=new oi:void 0,{hull:r,points:i}=this,s=r[0]*2,u=r.length;t.moveTo(i[s],i[s+1]);for(let l=1;l<u;++l){const f=2*r[l];t.lineTo(i[f],i[f+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new qu;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new oi:void 0,{points:i,triangles:s}=this,u=s[t*=3]*2,l=s[t+1]*2,f=s[t+2]*2;return n.moveTo(i[u],i[u+1]),n.lineTo(i[l],i[l+1]),n.lineTo(i[f],i[f+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new qu;return this.renderTriangle(t,n),n.value()}}function v_(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let u=0;u<i;++u){const l=e[u];s[u*2]=t.call(r,l,u,e),s[u*2+1]=n.call(r,l,u,e)}return s}function*p_(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}function m_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function es(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Yi(e){return e=es(Math.abs(e)),e?e[1]:NaN}function g_(e,t){return function(n,r){for(var i=n.length,s=[],u=0,l=e[0],f=0;i>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),s.push(n.substring(i-=l,i+l)),!((f+=l+1)>r));)l=e[u=(u+1)%e.length];return s.reverse().join(t)}}function y_(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var __=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ts(e){if(!(t=__.exec(e)))throw new Error("invalid format: "+e);var t;return new Gu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ts.prototype=Gu.prototype;function Gu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w_(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var vh;function b_(e,t){var n=es(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(vh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+es(e,Math.max(0,t+s-1))[0]}function ph(e,t){var n=es(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mh={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:m_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ph(e*100,t),r:ph,s:b_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gh(e){return e}var yh=Array.prototype.map,_h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function x_(e){var t=e.grouping===void 0||e.thousands===void 0?gh:g_(yh.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?gh:y_(yh.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(p){p=ts(p);var g=p.fill,_=p.align,w=p.sign,S=p.symbol,E=p.zero,A=p.width,N=p.comma,I=p.precision,j=p.trim,q=p.type;q==="n"?(N=!0,q="g"):mh[q]||(I===void 0&&(I=12),j=!0,q="g"),(E||g==="0"&&_==="=")&&(E=!0,g="0",_="=");var R=S==="$"?n:S==="#"&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",L=S==="$"?r:/[%p]/.test(q)?u:"",J=mh[q],O=/[defgprs%]/.test(q);I=I===void 0?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function te(X){var oe=R,B=L,ce,pe,ge;if(q==="c")B=J(X)+B,X="";else{X=+X;var we=X<0||1/X<0;if(X=isNaN(X)?f:J(Math.abs(X),I),j&&(X=w_(X)),we&&+X==0&&w!=="+"&&(we=!1),oe=(we?w==="("?w:l:w==="-"||w==="("?"":w)+oe,B=(q==="s"?_h[8+vh/3]:"")+B+(we&&w==="("?")":""),O){for(ce=-1,pe=X.length;++ce<pe;)if(ge=X.charCodeAt(ce),48>ge||ge>57){B=(ge===46?i+X.slice(ce+1):X.slice(ce))+B,X=X.slice(0,ce);break}}}N&&!E&&(X=t(X,1/0));var Ee=oe.length+X.length+B.length,Te=Ee<A?new Array(A-Ee+1).join(g):"";switch(N&&E&&(X=t(Te+X,Te.length?A-B.length:1/0),Te=""),_){case"<":X=oe+X+B+Te;break;case"=":X=oe+Te+X+B;break;case"^":X=Te.slice(0,Ee=Te.length>>1)+oe+X+B+Te.slice(Ee);break;default:X=Te+oe+X+B;break}return s(X)}return te.toString=function(){return p+""},te}function m(p,g){var _=d((p=ts(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Yi(g)/3)))*3,S=Math.pow(10,-w),E=_h[8+w/3];return function(A){return _(S*A)+E}}return{format:d,formatPrefix:m}}var ns,Qu,wh;T_({thousands:",",grouping:[3],currency:["$",""]});function T_(e){return ns=x_(e),Qu=ns.format,wh=ns.formatPrefix,ns}function S_(e){return Math.max(0,-Yi(Math.abs(e)))}function E_(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yi(t)/3)))*3-Yi(Math.abs(e)))}function k_(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yi(t)-Yi(e))+1}function bh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function C_(e){return function(){return e}}function A_(e){return+e}var xh=[0,1];function Vi(e){return e}function Zu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:C_(isNaN(t)?NaN:.5)}function M_(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function D_(e,t,n){var r=e[0],i=e[1],s=t[0],u=t[1];return i<r?(r=Zu(i,r),s=n(u,s)):(r=Zu(r,i),s=n(s,u)),function(l){return s(r(l))}}function $_(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)i[u]=Zu(e[u],e[u+1]),s[u]=n(t[u],t[u+1]);return function(l){var f=wm(e,l,1,r)-1;return s[f](i[f](l))}}function Th(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function P_(){var e=xh,t=xh,n=Fu,r,i,s,u=Vi,l,f,d;function m(){var g=Math.min(e.length,t.length);return u!==Vi&&(u=M_(e[0],e[g-1])),l=g>2?$_:D_,f=d=null,p}function p(g){return g==null||isNaN(g=+g)?s:(f||(f=l(e.map(r),t,n)))(r(u(g)))}return p.invert=function(g){return u(i((d||(d=l(t,e.map(r),dn)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,A_),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=Dy,m()},p.clamp=function(g){return arguments.length?(u=g?!0:Vi,m()):u!==Vi},p.interpolate=function(g){return arguments.length?(n=g,m()):n},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,_){return r=g,i=_,m()}}function Sh(){return P_()(Vi,Vi)}function R_(e,t,n,r){var i=ku(e,t,n),s;switch(r=ts(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=E_(i,u))&&(r.precision=s),wh(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=k_(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=S_(i))&&(r.precision=s-(r.type==="%")*2);break}}return Qu(r)}function I_(e){var t=e.domain;return e.ticks=function(n){var r=t();return Sm(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return R_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,u=r[i],l=r[s],f,d,m=10;for(l<u&&(d=u,u=l,l=d,d=i,i=s,s=d);m-- >0;){if(d=Eu(u,l,n),d===f)return r[i]=u,r[s]=l,t(r);if(d>0)u=Math.floor(u/d)*d,l=Math.ceil(l/d)*d;else if(d<0)u=Math.ceil(u*d)/d,l=Math.floor(l*d)/d;else break;f=d}return e},e}function Eh(){var e=Sh();return e.copy=function(){return Th(e,Eh())},bh.apply(e,arguments),I_(e)}function O_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],u;return s<i&&(u=n,n=r,r=u,u=i,i=s,s=u),e[n]=t.floor(i),e[r]=t.ceil(s),e}const Ju=new Date,el=new Date;function mt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const u=i(s),l=i.ceil(s);return s-u<l-s?u:l},i.offset=(s,u)=>(t(s=new Date(+s),u==null?1:Math.floor(u)),s),i.range=(s,u,l)=>{const f=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<u)||!(l>0))return f;let d;do f.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<u);return f},i.filter=s=>mt(u=>{if(u>=u)for(;e(u),!s(u);)u.setTime(u-1)},(u,l)=>{if(u>=u)if(l<0)for(;++l<=0;)for(;t(u,-1),!s(u););else for(;--l>=0;)for(;t(u,1),!s(u););}),n&&(i.count=(s,u)=>(Ju.setTime(+s),el.setTime(+u),e(Ju),e(el),Math.floor(n(Ju,el))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?u=>r(u)%s===0:u=>i.count(0,u)%s===0):i)),i}const rs=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rs.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rs),rs.range;const ir=1e3,vn=ir*60,ar=vn*60,or=ar*24,tl=or*7,kh=or*30,nl=or*365,Wi=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ir)},(e,t)=>(t-e)/ir,e=>e.getUTCSeconds());Wi.range,mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ir)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getMinutes()).range;const rl=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCMinutes());rl.range,mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ir-e.getMinutes()*vn)},(e,t)=>{e.setTime(+e+t*ar)},(e,t)=>(t-e)/ar,e=>e.getHours()).range;const il=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ar)},(e,t)=>(t-e)/ar,e=>e.getUTCHours());il.range;const al=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vn)/or,e=>e.getDate()-1);al.range;const is=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/or,e=>e.getUTCDate()-1);is.range;const Ch=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/or,e=>Math.floor(e/or));Ch.range;function si(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*vn)/tl)}const Ah=si(0),as=si(1),F_=si(2),N_=si(3),qi=si(4),U_=si(5),L_=si(6);Ah.range,as.range,F_.range,N_.range,qi.range,U_.range,L_.range;function ui(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tl)}const os=ui(0),ss=ui(1),B_=ui(2),K_=ui(3),Xi=ui(4),j_=ui(5),z_=ui(6);os.range,ss.range,B_.range,K_.range,Xi.range,j_.range,z_.range,mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()).range;const ol=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ol.range;const li=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),li.range;const sr=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),sr.range;function H_(e,t,n,r,i,s){const u=[[Wi,1,ir],[Wi,5,5*ir],[Wi,15,15*ir],[Wi,30,30*ir],[s,1,vn],[s,5,5*vn],[s,15,15*vn],[s,30,30*vn],[i,1,ar],[i,3,3*ar],[i,6,6*ar],[i,12,12*ar],[r,1,or],[r,2,2*or],[n,1,tl],[t,1,kh],[t,3,3*kh],[e,1,nl]];function l(d,m,p){const g=m<d;g&&([d,m]=[m,d]);const _=p&&typeof p.range=="function"?p:f(d,m,p),w=_?_.range(d,+m+1):[];return g?w.reverse():w}function f(d,m,p){const g=Math.abs(m-d)/p,_=Su(([,,E])=>E).right(u,g);if(_===u.length)return e.every(ku(d/nl,m/nl,p));if(_===0)return rs.every(Math.max(ku(d,m,p),1));const[w,S]=u[g/u[_-1][2]<u[_][2]/g?_-1:_];return w.every(S)}return[l,f]}const[Y_,V_]=H_(sr,ol,os,Ch,il,rl);function sl(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ul(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oa(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function W_(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,u=e.shortDays,l=e.months,f=e.shortMonths,d=Fa(i),m=Na(i),p=Fa(s),g=Na(s),_=Fa(u),w=Na(u),S=Fa(l),E=Na(l),A=Fa(f),N=Na(f),I={a:we,A:Ee,b:Te,B:Qe,c:null,d:Ih,e:Ih,f:mw,g:kw,G:Aw,H:dw,I:vw,j:pw,L:Oh,m:gw,M:yw,p:Ze,q:nn,Q:Kh,s:jh,S:_w,u:ww,U:bw,V:xw,w:Tw,W:Sw,x:null,X:null,y:Ew,Y:Cw,Z:Mw,"%":Bh},j={a:yn,A:_n,b:yi,B:Ft,c:null,d:Nh,e:Nh,f:Rw,g:zw,G:Yw,H:Dw,I:$w,j:Pw,L:Uh,m:Iw,M:Ow,p:rn,q:Mt,Q:Kh,s:jh,S:Fw,u:Nw,U:Uw,V:Lw,w:Bw,W:Kw,x:null,X:null,y:jw,Y:Hw,Z:Vw,"%":Bh},q={a:te,A:X,b:oe,B,c:ce,d:Ph,e:Ph,f:lw,g:$h,G:Dh,H:Rh,I:Rh,j:aw,L:uw,m:iw,M:ow,p:O,q:rw,Q:fw,s:hw,S:sw,u:Z_,U:J_,V:ew,w:Q_,W:tw,x:pe,X:ge,y:$h,Y:Dh,Z:nw,"%":cw};I.x=R(n,I),I.X=R(r,I),I.c=R(t,I),j.x=R(n,j),j.X=R(r,j),j.c=R(t,j);function R(ue,De){return function(Ue){var G=[],dt=-1,fe=0,Le=ue.length,Ke,ut,ie;for(Ue instanceof Date||(Ue=new Date(+Ue));++dt<Le;)ue.charCodeAt(dt)===37&&(G.push(ue.slice(fe,dt)),(ut=Mh[Ke=ue.charAt(++dt)])!=null?Ke=ue.charAt(++dt):ut=Ke==="e"?" ":"0",(ie=De[Ke])&&(Ke=ie(Ue,ut)),G.push(Ke),fe=dt+1);return G.push(ue.slice(fe,dt)),G.join("")}}function L(ue,De){return function(Ue){var G=Oa(1900,void 0,1),dt=J(G,ue,Ue+="",0),fe,Le;if(dt!=Ue.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(De&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(fe=ul(Oa(G.y,0,1)),Le=fe.getUTCDay(),fe=Le>4||Le===0?ss.ceil(fe):ss(fe),fe=is.offset(fe,(G.V-1)*7),G.y=fe.getUTCFullYear(),G.m=fe.getUTCMonth(),G.d=fe.getUTCDate()+(G.w+6)%7):(fe=sl(Oa(G.y,0,1)),Le=fe.getDay(),fe=Le>4||Le===0?as.ceil(fe):as(fe),fe=al.offset(fe,(G.V-1)*7),G.y=fe.getFullYear(),G.m=fe.getMonth(),G.d=fe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Le="Z"in G?ul(Oa(G.y,0,1)).getUTCDay():sl(Oa(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Le+5)%7:G.w+G.U*7-(Le+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,ul(G)):sl(G)}}function J(ue,De,Ue,G){for(var dt=0,fe=De.length,Le=Ue.length,Ke,ut;dt<fe;){if(G>=Le)return-1;if(Ke=De.charCodeAt(dt++),Ke===37){if(Ke=De.charAt(dt++),ut=q[Ke in Mh?De.charAt(dt++):Ke],!ut||(G=ut(ue,Ue,G))<0)return-1}else if(Ke!=Ue.charCodeAt(G++))return-1}return G}function O(ue,De,Ue){var G=d.exec(De.slice(Ue));return G?(ue.p=m.get(G[0].toLowerCase()),Ue+G[0].length):-1}function te(ue,De,Ue){var G=_.exec(De.slice(Ue));return G?(ue.w=w.get(G[0].toLowerCase()),Ue+G[0].length):-1}function X(ue,De,Ue){var G=p.exec(De.slice(Ue));return G?(ue.w=g.get(G[0].toLowerCase()),Ue+G[0].length):-1}function oe(ue,De,Ue){var G=A.exec(De.slice(Ue));return G?(ue.m=N.get(G[0].toLowerCase()),Ue+G[0].length):-1}function B(ue,De,Ue){var G=S.exec(De.slice(Ue));return G?(ue.m=E.get(G[0].toLowerCase()),Ue+G[0].length):-1}function ce(ue,De,Ue){return J(ue,t,De,Ue)}function pe(ue,De,Ue){return J(ue,n,De,Ue)}function ge(ue,De,Ue){return J(ue,r,De,Ue)}function we(ue){return u[ue.getDay()]}function Ee(ue){return s[ue.getDay()]}function Te(ue){return f[ue.getMonth()]}function Qe(ue){return l[ue.getMonth()]}function Ze(ue){return i[+(ue.getHours()>=12)]}function nn(ue){return 1+~~(ue.getMonth()/3)}function yn(ue){return u[ue.getUTCDay()]}function _n(ue){return s[ue.getUTCDay()]}function yi(ue){return f[ue.getUTCMonth()]}function Ft(ue){return l[ue.getUTCMonth()]}function rn(ue){return i[+(ue.getUTCHours()>=12)]}function Mt(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var De=R(ue+="",I);return De.toString=function(){return ue},De},parse:function(ue){var De=L(ue+="",!1);return De.toString=function(){return ue},De},utcFormat:function(ue){var De=R(ue+="",j);return De.toString=function(){return ue},De},utcParse:function(ue){var De=L(ue+="",!0);return De.toString=function(){return ue},De}}}var Mh={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,q_=/^%/,X_=/[\\^$*+?|[\]().{}]/g;function qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function G_(e){return e.replace(X_,"\\$&")}function Fa(e){return new RegExp("^(?:"+e.map(G_).join("|")+")","i")}function Na(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Q_(e,t,n){var r=wt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Z_(e,t,n){var r=wt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function J_(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ew(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tw(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Dh(e,t,n){var r=wt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $h(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rw(e,t,n){var r=wt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iw(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ph(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aw(e,t,n){var r=wt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Rh(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ow(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sw(e,t,n){var r=wt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function uw(e,t,n){var r=wt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lw(e,t,n){var r=wt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cw(e,t,n){var r=q_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fw(e,t,n){var r=wt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hw(e,t,n){var r=wt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ih(e,t){return qe(e.getDate(),t,2)}function dw(e,t){return qe(e.getHours(),t,2)}function vw(e,t){return qe(e.getHours()%12||12,t,2)}function pw(e,t){return qe(1+al.count(li(e),e),t,3)}function Oh(e,t){return qe(e.getMilliseconds(),t,3)}function mw(e,t){return Oh(e,t)+"000"}function gw(e,t){return qe(e.getMonth()+1,t,2)}function yw(e,t){return qe(e.getMinutes(),t,2)}function _w(e,t){return qe(e.getSeconds(),t,2)}function ww(e){var t=e.getDay();return t===0?7:t}function bw(e,t){return qe(Ah.count(li(e)-1,e),t,2)}function Fh(e){var t=e.getDay();return t>=4||t===0?qi(e):qi.ceil(e)}function xw(e,t){return e=Fh(e),qe(qi.count(li(e),e)+(li(e).getDay()===4),t,2)}function Tw(e){return e.getDay()}function Sw(e,t){return qe(as.count(li(e)-1,e),t,2)}function Ew(e,t){return qe(e.getFullYear()%100,t,2)}function kw(e,t){return e=Fh(e),qe(e.getFullYear()%100,t,2)}function Cw(e,t){return qe(e.getFullYear()%1e4,t,4)}function Aw(e,t){var n=e.getDay();return e=n>=4||n===0?qi(e):qi.ceil(e),qe(e.getFullYear()%1e4,t,4)}function Mw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qe(t/60|0,"0",2)+qe(t%60,"0",2)}function Nh(e,t){return qe(e.getUTCDate(),t,2)}function Dw(e,t){return qe(e.getUTCHours(),t,2)}function $w(e,t){return qe(e.getUTCHours()%12||12,t,2)}function Pw(e,t){return qe(1+is.count(sr(e),e),t,3)}function Uh(e,t){return qe(e.getUTCMilliseconds(),t,3)}function Rw(e,t){return Uh(e,t)+"000"}function Iw(e,t){return qe(e.getUTCMonth()+1,t,2)}function Ow(e,t){return qe(e.getUTCMinutes(),t,2)}function Fw(e,t){return qe(e.getUTCSeconds(),t,2)}function Nw(e){var t=e.getUTCDay();return t===0?7:t}function Uw(e,t){return qe(os.count(sr(e)-1,e),t,2)}function Lh(e){var t=e.getUTCDay();return t>=4||t===0?Xi(e):Xi.ceil(e)}function Lw(e,t){return e=Lh(e),qe(Xi.count(sr(e),e)+(sr(e).getUTCDay()===4),t,2)}function Bw(e){return e.getUTCDay()}function Kw(e,t){return qe(ss.count(sr(e)-1,e),t,2)}function jw(e,t){return qe(e.getUTCFullYear()%100,t,2)}function zw(e,t){return e=Lh(e),qe(e.getUTCFullYear()%100,t,2)}function Hw(e,t){return qe(e.getUTCFullYear()%1e4,t,4)}function Yw(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Xi(e):Xi.ceil(e),qe(e.getUTCFullYear()%1e4,t,4)}function Vw(){return"+0000"}function Bh(){return"%"}function Kh(e){return+e}function jh(e){return Math.floor(+e/1e3)}var Gi,us,zh;Ww({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ww(e){return Gi=W_(e),us=Gi.format,Gi.parse,zh=Gi.utcFormat,Gi.utcParse,Gi}function qw(e){return new Date(e)}function Xw(e){return e instanceof Date?+e:+new Date(+e)}function Hh(e,t,n,r,i,s,u,l,f,d){var m=Sh(),p=m.invert,g=m.domain,_=d(".%L"),w=d(":%S"),S=d("%I:%M"),E=d("%I %p"),A=d("%a %d"),N=d("%b %d"),I=d("%B"),j=d("%Y");function q(R){return(f(R)<R?_:l(R)<R?w:u(R)<R?S:s(R)<R?E:r(R)<R?i(R)<R?A:N:n(R)<R?I:j)(R)}return m.invert=function(R){return new Date(p(R))},m.domain=function(R){return arguments.length?g(Array.from(R,Xw)):g().map(qw)},m.ticks=function(R){var L=g();return e(L[0],L[L.length-1],R??10)},m.tickFormat=function(R,L){return L==null?q:d(L)},m.nice=function(R){var L=g();return(!R||typeof R.range!="function")&&(R=t(L[0],L[L.length-1],R??10)),R?g(O_(L,R)):m},m.copy=function(){return Th(m,Hh(e,t,n,r,i,s,u,l,f,d))},m}function Gw(){return bh.apply(Hh(Y_,V_,sr,ol,os,is,il,rl,Wi,zh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bt(e){return function(){return e}}function Yh(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new X0(t)}function Vh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wh(e){this._context=e}Wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ls(e){return new Wh(e)}function qh(e){return e[0]}function Xh(e){return e[1]}function Gh(e,t){var n=bt(!0),r=null,i=ls,s=null,u=Yh(l);e=typeof e=="function"?e:e===void 0?qh:bt(e),t=typeof t=="function"?t:t===void 0?Xh:bt(t);function l(f){var d,m=(f=Vh(f)).length,p,g=!1,_;for(r==null&&(s=i(_=u())),d=0;d<=m;++d)!(d<m&&n(p=f[d],d,f))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(p,d,f),+t(p,d,f));if(_)return s=null,_+""||null}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),l):e},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),l):t},l.defined=function(f){return arguments.length?(n=typeof f=="function"?f:bt(!!f),l):n},l.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),l):i},l.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),l):r},l}function Qw(e,t,n){var r=null,i=bt(!0),s=null,u=ls,l=null,f=Yh(d);e=typeof e=="function"?e:e===void 0?qh:bt(+e),t=typeof t=="function"?t:bt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Xh:bt(+n);function d(p){var g,_,w,S=(p=Vh(p)).length,E,A=!1,N,I=new Array(S),j=new Array(S);for(s==null&&(l=u(N=f())),g=0;g<=S;++g){if(!(g<S&&i(E=p[g],g,p))===A)if(A=!A)_=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=_;--w)l.point(I[w],j[w]);l.lineEnd(),l.areaEnd()}A&&(I[g]=+e(E,g,p),j[g]=+t(E,g,p),l.point(r?+r(E,g,p):I[g],n?+n(E,g,p):j[g]))}if(N)return l=null,N+""||null}function m(){return Gh().defined(i).curve(u).context(s)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:bt(+p),r=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:bt(+p),d):e},d.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:bt(+p),d):r},d.y=function(p){return arguments.length?(t=typeof p=="function"?p:bt(+p),n=null,d):t},d.y0=function(p){return arguments.length?(t=typeof p=="function"?p:bt(+p),d):t},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:bt(+p),d):n},d.lineX0=d.lineY0=function(){return m().x(e).y(t)},d.lineY1=function(){return m().x(e).y(n)},d.lineX1=function(){return m().x(r).y(t)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:bt(!!p),d):i},d.curve=function(p){return arguments.length?(u=p,s!=null&&(l=u(s)),d):u},d.context=function(p){return arguments.length?(p==null?s=l=null:l=u(s=p),d):s},d}function Ua(e,t,n){this.k=e,this.x=t,this.y=n}Ua.prototype={constructor:Ua,scale:function(e){return e===1?this:new Ua(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ua(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Ua.prototype,ur[Ae]="src/market-value-development-graph-raw/components/ChartDot.svelte";var Zw=tt(Jt('<circle stroke-width="1"></circle>'),ur[Ae],[[13,4]]),Jw=tt(Jt('<image preserveAspectRatio="none"></image>'),ur[Ae],[[21,4]]);function ur(e,t){Kt(new.target),$t(t,!1,ur);let n=de(t,"xScale",12),r=de(t,"yScale",12),i=de(t,"point",12),s=de(t,"color",12),u=de(t,"radius",12),l=de(t,"size",12),f=de(t,"big",12,!1);var d={get xScale(){return n()},set xScale(_){n(_),le()},get yScale(){return r()},set yScale(_){r(_),le()},get point(){return i()},set point(_){i(_),le()},get color(){return s()},set color(_){s(_),le()},get radius(){return u()},set radius(_){u(_),le()},get size(){return l()},set size(_){l(_),le()},get big(){return f()},set big(_){f(_),le()},...jt()};Bn();var m=Co(),p=Jn(m);{var g=_=>{var w=Co(),S=Jn(w);{var E=N=>{var I=Zw();be(I,"stroke","white"),at((j,q)=>{be(I,"cx",j),be(I,"cy",q),be(I,"r",f()?2.5*u():u()),be(I,"fill",s())},[()=>(ee(n()),ee(i()),ve(()=>n()(i().x))),()=>(ee(r()),ee(i()),ve(()=>r()(i().y)))]),We(N,I)},A=N=>{var I=Jw();at((j,q)=>{Qp(I,"xlink:href",(ee(i()),ve(()=>i().wappen))),be(I,"x",j),be(I,"y",q),be(I,"width",f()?1.5*l():l()),be(I,"height",f()?1.5*l():l()),be(I,"transform",`translate(${f()?"-12,-12":"-8,-8"})`)},[()=>(ee(n()),ee(i()),ve(()=>n()(i().x))),()=>(ee(r()),ee(i()),ve(()=>r()(i().y)))]),We(N,I)};$e(()=>Ct(S,N=>{ee(i()),ve(()=>Ut(i().wappen,""))?N(E):N(A,!1)}),"if",ur,12,2)}We(_,w)};$e(()=>Ct(p,_=>{ee(i()),ve(()=>{var w;return!((w=i())!=null&&w.interpolated)})&&_(g)}),"if",ur,11,0)}return We(e,m),Pt(d)}zt(ur,{xScale:{},yScale:{},point:{},color:{},radius:{},size:{},big:{}},[],[],!0),La[Ae]="src/market-value-development-graph-raw/components/ChartArea.svelte";var eb=tt(Jt('<g class="chart-area" pointer-events="none"><path class="area" stroke="none"></path></g>'),La[Ae],[[23,0,[[24,2]]]]);function La(e,t){Kt(new.target),$t(t,!1,La);const n=Fe(),r=Fe(),i=Fe();let s=de(t,"xScale",12),u=de(t,"yScale",12),l=de(t,"points",12),f=de(t,"color",12),d=de(t,"curve",12),m=de(t,"steps",12);st(()=>ee(l()),()=>{_e(n,l().map(w=>!isNaN(w.x)&&!isNaN(w.y)))}),st(()=>(C(n),ee(d()),ee(s()),ee(l()),ee(u())),()=>{_e(r,Qw().defined(w=>C(n)[w]).curve(d()).x(w=>s()(l()[w].x)).y0(u()(0)).y1(w=>u()(l()[w].y)))}),st(()=>(C(r),ee(m())),()=>{_e(i,C(r)(m()))}),wr();var p={get xScale(){return s()},set xScale(w){s(w),le()},get yScale(){return u()},set yScale(w){u(w),le()},get points(){return l()},set points(w){l(w),le()},get color(){return f()},set color(w){f(w),le()},get curve(){return d()},set curve(w){d(w),le()},get steps(){return m()},set steps(w){m(w),le()},...jt()};Bn();var g=eb(),_=Re(g);return Me(g),at(()=>{be(_,"d",C(i)),be(_,"fill",f())}),We(e,g),Pt(p)}zt(La,{xScale:{},yScale:{},points:{},color:{},curve:{},steps:{}},[],[],!0),Ba[Ae]="src/market-value-development-graph-raw/components/ChartLine.svelte";var tb=tt(Jt('<g class="chart-line" pointer-events="none"><path class="line" fill="none" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path><path class="line" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g>'),Ba[Ae],[[22,0,[[23,2],[31,2]]]]);function Ba(e,t){Kt(new.target),$t(t,!1,Ba);const n=Fe(),r=Fe(),i=Fe();let s=de(t,"xScale",12),u=de(t,"yScale",12),l=de(t,"points",12),f=de(t,"color",12),d=de(t,"curve",12),m=de(t,"steps",12);st(()=>ee(l()),()=>{_e(n,l().map(S=>!isNaN(S.x)&&!isNaN(S.y)))}),st(()=>(C(n),ee(d()),ee(s()),ee(l()),ee(u())),()=>{_e(r,Gh().defined(S=>C(n)[S]).curve(d()).x(S=>s()(l()[S].x)).y(S=>u()(l()[S].y)))}),st(()=>(C(r),ee(m())),()=>{_e(i,C(r)(m()))}),wr();var p={get xScale(){return s()},set xScale(S){s(S),le()},get yScale(){return u()},set yScale(S){u(S),le()},get points(){return l()},set points(S){l(S),le()},get color(){return f()},set color(S){f(S),le()},get curve(){return d()},set curve(S){d(S),le()},get steps(){return m()},set steps(S){m(S),le()},...jt()};Bn();var g=tb(),_=Re(g);be(_,"stroke","white");var w=Ne(_);return Me(g),at(()=>{be(_,"d",C(i)),be(w,"d",C(i)),be(w,"stroke",f())}),We(e,g),Pt(p)}zt(Ba,{xScale:{},yScale:{},points:{},color:{},curve:{},steps:{}},[],[],!0),ci[Ae]="src/market-value-development-graph-raw/components/ChartTooltip.svelte";var nb=tt(hn(" <strong> </strong><br/>",1),ci[Ae],[[19,56],[19,86]]),rb=tt(hn('<div class="chart-tooltip svelte-19bwvnw"><p><strong> </strong><br/> <!> <strong> </strong><br/> <strong> </strong><br/></p></div>'),ci[Ae],[[15,0,[[16,2,[[17,4],[17,27],[21,38],[21,61],[22,36],[22,58]]]]]]);const ib={hash:"svelte-19bwvnw",code:`/* stylelint-disable */
/* stylelint-enable */
.chart-tooltip.svelte-19bwvnw {
  position: absolute;
  z-index: 10000;
}

.chart-tooltip.svelte-19bwvnw p:where(.svelte-19bwvnw) {
  background-color: rgba(255, 255, 255, 0.85);
  border: 1px solid rgb(49, 79, 119);
  border-radius: 5px;
  box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 4px;
  color: rgb(51, 51, 51);
  font-family: 'SourceSansPro-VF', sans-serif;
  font-size: 10px;
  font-variation-settings: "wght" 400;
  line-height: 1.15;
  padding: 7px;
  pointer-events: none;
  position: absolute;
  white-space: nowrap;
  z-index: 10000;
}

p.right.svelte-19bwvnw {
  right: 12px;
}

p.left.svelte-19bwvnw {
  left: 12px;
}`};function ci(e,t){Kt(new.target),$t(t,!1,ci),Un(e,ib);const n=Fe();let r=de(t,"x",12),i=de(t,"y",12),s=de(t,"parentWidth",12),u=de(t,"date",12),l=de(t,"marketValue",12),f=de(t,"marketValueRaw",12),d=de(t,"team",12),m=de(t,"age",12),p=de(t,"translations",12);st(()=>(ee(r()),ee(s())),()=>{_e(n,r()>s()/2?"right":"left")}),wr();var g={get x(){return r()},set x(O){r(O),le()},get y(){return i()},set y(O){i(O),le()},get parentWidth(){return s()},set parentWidth(O){s(O),le()},get date(){return u()},set date(O){u(O),le()},get marketValue(){return l()},set marketValue(O){l(O),le()},get marketValueRaw(){return f()},set marketValueRaw(O){f(O),le()},get team(){return d()},set team(O){d(O),le()},get age(){return m()},set age(O){m(O),le()},get translations(){return p()},set translations(O){p(O),le()},...jt()};Bn();var _=rb(),w=Re(_),S=Re(w),E=Re(S,!0);Me(S);var A=Ne(S,3);{var N=O=>{var te=nb(),X=Jn(te),oe=Ne(X),B=Re(oe,!0);Me(oe),Js(),at(()=>{ft(X,`${ee(p()),ve(()=>p()["market value"]??"market value")??""}: `),ft(B,l())}),We(O,te)};$e(()=>Ct(A,O=>{f()>0&&O(N)}),"if",ci,18,4)}var I=Ne(A),j=Ne(I),q=Re(j,!0);Me(j);var R=Ne(j,2),L=Ne(R),J=Re(L,!0);return Me(L),Js(),Me(w),Me(_),at(()=>{yu(_,`left:${r()??""}px; top:${i()+12}px;`),ff(w,1,Vp(C(n)),"svelte-19bwvnw"),ft(E,u()),ft(I,` ${ee(p()),ve(()=>p().team??"team")??""}: `),ft(q,d()),ft(R,` ${ee(p()),ve(()=>p().age??"age")??""}: `),ft(J,m())}),We(e,_),Pt(g)}zt(ci,{x:{},y:{},parentWidth:{},date:{},marketValue:{},marketValueRaw:{},team:{},age:{},translations:{}},[],[],!0),fi[Ae]="src/market-value-development-graph-raw/components/ChartAxisX.svelte";var ab=tt(Jt('<g><line stroke="rgb(195 207 222)" y2="6"></line><text y="16"> </text></g>'),fi[Ae],[[26,4,[[27,6],[28,6]]]]),ob=tt(Jt('<g class="axis svelte-ku1y58" pointer-events="none"><path stroke="rgb(195 207 222)"></path><!></g>'),fi[Ae],[[23,0,[[24,2]]]]);const sb={hash:"svelte-ku1y58",code:`/* stylelint-disable */
/* stylelint-enable */
.axis.svelte-ku1y58 {
  fill: rgb(129, 129, 129);
  font-family: 'SourceSansPro-VF', sans-serif;
  font-size: 12px;
  font-variation-settings: "wght" 400;
  font-weight: initial;
  text-anchor: middle;
}`};function fi(e,t){Kt(new.target),$t(t,!1,fi),Un(e,sb);const n=Fe(),r=Fe(),i=Fe();let s=de(t,"width",12),u=de(t,"height",12),l=de(t,"margin",12),f=de(t,"xScale",12);const d=w=>w<700?us("%b %Y"):w<1e3?us("%b %y"):us("%Y");st(()=>ee(f()),()=>{_e(n,f().ticks(6))}),st(()=>C(n),()=>{_e(r,(C(n)[C(n).length-1]-C(n)[0])/864e5)}),st(()=>C(r),()=>{_e(i,d(C(r)))}),wr();var m={get width(){return s()},set width(w){s(w),le()},get height(){return u()},set height(w){u(w),le()},get margin(){return l()},set margin(w){l(w),le()},get xScale(){return f()},set xScale(w){f(w),le()},...jt()};Bn();var p=ob(),g=Re(p),_=Ne(g);return $e(()=>Mo(_,1,()=>C(n),Ao,(w,S)=>{var E=ab(),A=Ne(Re(E));be(A,"x",0);var N=Re(A,!0);Me(A),Me(E),at((I,j)=>{be(E,"transform",`translate(${I??""}, 0)`),ft(N,j)},[()=>(ee(f()),C(S),ve(()=>f()(C(S)))),()=>(C(i),C(S),ve(()=>C(i)(C(S))))]),We(w,E)}),"each",fi,25,2),Me(p),at(()=>{be(p,"transform",`translate(0,${ee(u()),ee(l()),ve(()=>u()-l().bottom)??""})`),be(g,"d",`M${ee(l()),ve(()=>l().left)??""},0.5 H${ee(s()),ee(l()),ve(()=>s()-l().right)??""}`)}),We(e,p),Pt(m)}zt(fi,{width:{},height:{},margin:{},xScale:{}},[],[],!0),hi[Ae]="src/market-value-development-graph-raw/components/ChartAxisY.svelte";var ub=tt(Jt('<g><line stroke="rgb(192 192 192)"></line><text y="5" class="svelte-b1av97"> </text></g>'),hi[Ae],[[14,4,[[15,6],[16,6]]]]),lb=tt(Jt('<g class="axis svelte-b1av97" pointer-events="none"></g>'),hi[Ae],[[12,0]]);const cb={hash:"svelte-b1av97",code:`/* stylelint-disable */
/* stylelint-enable */
.axis.svelte-b1av97 {
  fill: rgb(129, 129, 129);
  font-family: 'SourceSansPro-VF', sans-serif;
  font-size: 12px;
  font-variation-settings: "wght" 400;
  font-weight: initial;
  text-anchor: end;
}

.axis.svelte-b1av97 text:where(.svelte-b1av97) {
  text-align: start;
}`};function hi(e,t){Kt(new.target),$t(t,!1,hi),Un(e,cb);const n=Fe();let r=de(t,"width",12),i=de(t,"margin",12),s=de(t,"yScale",12);const u=Qu(".2s");st(()=>ee(s()),()=>{_e(n,s().ticks(6).slice(1))}),wr();var l={get width(){return r()},set width(d){r(d),le()},get margin(){return i()},set margin(d){i(d),le()},get yScale(){return s()},set yScale(d){s(d),le()},...jt()};Bn();var f=lb();return $e(()=>Mo(f,5,()=>C(n),Ao,(d,m)=>{var p=ub(),g=Re(p);be(g,"x1",0);var _=Ne(g);be(_,"x",-5);var w=Re(_,!0);Me(_),Me(p),at((S,E)=>{be(p,"transform",`translate(0, ${S??""})`),be(g,"x2",(ee(r()),ee(i()),ve(()=>r()-i().left-i().right))),ft(w,E)},[()=>(ee(s()),C(m),ve(()=>s()(C(m)))),()=>(C(m),ve(()=>u(C(m))))]),We(d,p)}),"each",hi,13,2),Me(f),at(()=>be(f,"transform",`translate(${ee(i()),ve(()=>i().left)??""}, 0)`)),We(e,f),Pt(l)}zt(hi,{width:{},margin:{},yScale:{}},[],[],!0),lr[Ae]="src/market-value-development-graph-raw/components/ChartCells.svelte";var fb=tt(Jt('<path stroke="none" fill-opacity="0" class="voronoi-cell svelte-1j0qf4u" aria-hidden="true"></path>'),lr[Ae],[[27,2]]);const hb={hash:"svelte-1j0qf4u",code:`
  .voronoi-cell.svelte-1j0qf4u {
    outline: none;
  }
`};function lr(e,t){Kt(new.target),$t(t,!1,lr),Un(e,hb);const n=Fe(),r=Fe(),i=Fe(),s=Fe();let u=de(t,"points",12),l=de(t,"width",12),f=de(t,"height",12),d=de(t,"xScale",12),m=de(t,"yScale",12);const p=of(),g=E=>A=>p("cellactive",{...u()[E],posX:A.offsetX,posY:A.offsetY});st(()=>ee(u()),()=>{_e(n,u().map((E,A)=>({...E,index:A})).filter(E=>!(E!=null&&E.interpolated)))}),st(()=>(C(n),ee(d()),ee(m())),()=>{_e(r,C(n).map(E=>[d()(E.x),m()(E.y)]))}),st(()=>(C(r),ee(l()),ee(f())),()=>{_e(i,Xu.from(C(r)).voronoi([0,0,l(),f()]))}),st(()=>(C(r),C(i)),()=>{_e(s,C(r).map((E,A)=>C(i).renderCell(A)))}),wr();var _={get points(){return u()},set points(E){u(E),le()},get width(){return l()},set width(E){l(E),le()},get height(){return f()},set height(E){f(E),le()},get xScale(){return d()},set xScale(E){d(E),le()},get yScale(){return m()},set yScale(E){m(E),le()},...jt()};Bn();var w=Co(),S=Jn(w);return $e(()=>Mo(S,1,()=>C(s),Ao,(E,A,N)=>{var I=fb(),j=xc(()=>g(C(n)[N].index)),q=xc(()=>g(C(n)[N].index));at(()=>be(I,"d",C(A))),ei("mouseover",I,function(...R){Jc(()=>C(j),this,R,lr,[32,18],!0)}),ei("focus",I,function(...R){Jc(()=>C(q),this,R,lr,[33,14],!0)}),We(E,I)}),"each",lr,26,0),We(e,w),Pt(_)}zt(lr,{points:{},width:{},height:{},xScale:{},yScale:{}},[],[],!0),di[Ae]="src/market-value-development-graph-raw/components/ChartBrush.svelte";var db=tt(Jt('<rect class="brush svelte-84xy2z"></rect>'),di[Ae],[[116,4]]),vb=tt(Jt('<defs><clipPath><rect fill="#fff"></rect></clipPath></defs><g tabindex="0" role="button" class="svelte-84xy2z"><rect role="presentation" class="brush-area svelte-84xy2z"></rect><!><!></g>',1),di[Ae],[[87,0,[[88,2,[[89,4]]]]],[98,0,[[105,2]]]]);const pb={hash:"svelte-84xy2z",code:`
  g[role='button'].svelte-84xy2z {
    outline: none;
  }

  .brush-area.svelte-84xy2z {
    fill: transparent;
  }

  .brush.svelte-84xy2z {
    fill: rgba(69 114 167 / 25%);
    pointer-events: none;
  }
`};function di(e,t){Kt(new.target),$t(t,!1,di),Un(e,pb);const n=Fe(),r="clippath_"+self.crypto.randomUUID().replace(/-/g,"");let i=de(t,"width",12),s=de(t,"height",12),u=de(t,"margin",12);const l=of();let f=Fe(),d=Fe(),m=!1,p=Fe(),g;const _=B=>Math.min(Math.max(B-u().left,0),i()-u().left-u().right),w=(B,ce)=>({from:B+u().left,to:ce+u().left,start:B/(i()-u().left-u().right),end:1-ce/(i()-u().left-u().right)}),S=(B,ce,pe)=>l(B,ce<pe?w(ce,pe):w(pe,ce)),E=B=>{if(!m){if(m=!0,Ut(B.type,"touchstart")){if(Ut(B.touches.length,1,!1))return;B.offsetX=B.targetTouches[0].pageX-C(n).x,B.offsetY=B.targetTouches[0].pageY-C(n).y,g=B.targetTouches[0].identifier,C(p).addEventListener("touchmove",A),document.addEventListener("touchend",N)}else C(p).addEventListener("mousemove",A),document.addEventListener("mouseup",N);kc(p,C(p).style.cursor="ew-resize"),_e(f,_(B.offsetX)),_e(d,null)}},A=B=>{Ut(B.type,"touchmove")&&(Ut(B.changedTouches.length,1,!1)||(B.offsetX=B.changedTouches[0].pageX-C(n).x,B.offsetY=B.changedTouches[0].pageY-C(n).y,Ut(B.changedTouches[0].identifier,g,!1)))||(_e(d,_(B.offsetX)),S("brush",C(f),C(d)))},N=B=>{if(Ut(B.type,"touchend")){if(Ut(B.changedTouches.length,1,!1)||(B.offsetX=B.changedTouches[0].pageX-C(n).x,B.offsetY=B.changedTouches[0].pageY-C(n).y,Ut(B.changedTouches[0].identifier,g,!1)))return;C(p).removeEventListener("touchmove",A),document.removeEventListener("touchend",N)}else C(p).removeEventListener("mousemove",A),document.removeEventListener("mouseup",N);m=!1,kc(p,C(p).style.cursor=null),Mc(C(f),C(d),!1)&&S("brushEnd",C(f),C(d)),_e(f,null),_e(d,null)};st(()=>C(p),()=>{_e(n,C(p)?C(p).getBoundingClientRect():{x:0,y:0})}),wr();var I={get width(){return i()},set width(B){i(B),le()},get height(){return s()},set height(B){s(B),le()},get margin(){return u()},set margin(B){u(B),le()},...jt()};Bn();var j=vb(),q=Jn(j),R=Re(q),L=Re(R);be(L,"y",-100),Me(R),Me(q);var J=Ne(q),O=Re(J),te=Ne(O);zp(te,t,"default",{});var X=Ne(te);{var oe=B=>{var ce=db();at(()=>{be(ce,"x",(ee(u()),C(f),C(d),ve(()=>u().left+(C(f)<C(d)?C(f):C(d))))),be(ce,"y",(ee(u()),ve(()=>u().top))),be(ce,"height",(ee(s()),ee(u()),ve(()=>s()-u().top-u().bottom))),be(ce,"width",C(f)<C(d)?C(d)-C(f):C(f)-C(d))}),We(B,ce)};$e(()=>Ct(X,B=>{Mc(C(d),null,!1)&&B(oe)}),"if",di,115,2)}return Me(J),bu(J,B=>_e(p,B),()=>C(p)),at(()=>{be(R,"id",r),be(L,"x",(ee(u()),ve(()=>u().left))),be(L,"height",s()+200),be(L,"width",(ee(i()),ee(u()),ve(()=>i()-u().left-u().right))),be(J,"clip-path",`url(#${r})`),be(O,"x",(ee(u()),ve(()=>u().left))),be(O,"y",(ee(u()),ve(()=>u().top))),be(O,"height",(ee(s()),ee(u()),ve(()=>s()-u().top-u().bottom))),be(O,"width",(ee(i()),ee(u()),ve(()=>i()-u().left-u().right)))}),ei("mousedown",J,E),ei("touchstart",J,E),We(e,j),Pt(I)}zt(di,{width:{},height:{},margin:{}},["default"],[],!0);const Qh=(e,t)=>{let n,r;return e.forEach(i=>{i.x<t.getTime()?n=i:r||(r=i)}),{before:n??r,after:r??n}},Zh=({before:e,after:t},n)=>{const i=n.getTime(),s=n,u=dn(e.y,t.y)((i-e.x)/(t.x-e.x));return{interpolated:!0,ts:i,x:s,y:u}},mb=(e,t,n)=>{const r=e.map((i,s)=>({...i,i:s,ts:i.x,x:new Date(i.x)})).filter(i=>!t||!n||i.ts>=(t==null?void 0:t.getTime())&&i.ts<=(n==null?void 0:n.getTime()));if(r.length<1||r[0].ts!==e[0].x){const i=Qh(e,t),s=Zh(i,t);r.unshift(s)}if(r.length<1||r[r.length-1].ts!==e[e.length-1].x){const i=Qh(e,n),s=Zh(i,n);r.push(s)}return r};et[Ae]="src/market-value-development-graph-raw/components/Chart.svelte";var gb=tt(hn('<button class="svelte-5dr59j"> </button>'),et[Ae],[[100,4]]),yb=tt(Jt('<rect fill="rgb(249 249 249)"></rect>'),et[Ae],[[112,6]]),_b=tt(Jt("<!><!>",1),et[Ae],[]),wb=tt(hn('<div class="chart-container svelte-5dr59j"><!> <svg cursor="crosshair" role="img" class="svelte-5dr59j"><!><!><!><!><g class="chart-dots" pointer-events="none"></g><!><!></svg> <!></div>'),et[Ae],[[98,0,[[103,2,[[131,4]]]]]]);const bb={hash:"svelte-5dr59j",code:`
  .chart-container.svelte-5dr59j {
    margin-left: -10px;
    margin-right: -10px;
    position: relative;
  }

  svg.svelte-5dr59j {
    height: auto;
    margin: auto;
    max-width: 100%;
    overflow: visible;
    vertical-align: bottom;
  }

  button.svelte-5dr59j {
    background-color: rgb(249 249 249);
    border: 1px solid rgb(228 228 228);
    color: #000;
    font-size: 13px;
    padding: 4px;
    position: absolute;
    right: 40px;
    top: 38px;
  }

  button.svelte-5dr59j:active {
    background-color: rgb(56 78 116);
    border: 1px solid rgb(109 135 167);
    color: #fff;
  }
`};function et(e,t){Kt(new.target),$t(t,!1,et),Un(e,bb);const n=()=>(af(te,"startDate"),yf(te,"$startDate",i)),r=()=>(af(X,"endDate"),yf(X,"$endDate",i)),[i,s]=um(),u=Fe(),l=Fe(),f=Fe(),d=Fe(),m=Fe(),p=Fe();let g=de(t,"maxWidth",28,()=>-1),_=de(t,"height",12,135),w=de(t,"margin",28,()=>({top:3,right:10,bottom:0,left:10})),S=de(t,"data",12),E=de(t,"translations",12),A=de(t,"radius",12,3),N=de(t,"size",12,16),I=de(t,"color",12,"rgb(49,79,119)"),j=de(t,"brush",12,!1),q=de(t,"showAxis",12,!1),R=de(t,"fillArea",12,!0),L=Fe(),J=Fe(!0),O=Fe(),te=bf(null),X=bf(null),oe=Fe(100),B=Fe();const ce=ie=>_e(B,ie.detail),pe=()=>_e(B,null),ge=ie=>{var _i,Xe;if(C(O).end.getTime()-C(O).start.getTime()<158112e5)return;const ne=C(m).invert((_i=ie.detail)==null?void 0:_i.from),kr=C(m).invert((Xe=ie.detail)==null?void 0:Xe.to);if((kr.getTime()-ne.getTime())/158112e5>1)te.set(ne),X.set(kr);else{const Cr=new Date(ne.getTime()-79056e5),Vn=new Date(kr.getTime()+158112e5/2)>C(O).end?new Date(C(O).end.getTime()-158112e5):Cr<C(O).start?C(O).start:Cr;te.set(Vn),X.set(new Date(Vn.getTime()+158112e5))}};st(()=>(ee(g()),C(oe)),()=>{_e(u,Ut(g(),-1,!1)&&C(oe)>g()?g():C(oe))}),st(()=>(ee(S()),n(),r()),()=>{_e(l,mb(S(),n(),r()))}),st(()=>C(l),()=>{_e(f,Em(C(l).length))}),st(()=>C(l),()=>{_e(d,1.1*C(l).reduce((ie,nt)=>ie>nt.y?ie:nt.y,0))}),st(()=>(n(),C(l),r(),ee(w()),C(u)),()=>{_e(m,Gw([n()??C(l)[0].x,r()??C(l)[C(l).length-1].x],[w().left,C(u)-w().right]).clamp(!0))}),st(()=>(C(d),ee(_()),ee(w())),()=>{_e(p,Eh([0,C(d)],[_()-w().bottom,w().top]))}),st(()=>(C(J),C(m),C(O),C(u),ee(w())),()=>{C(J)&&C(m)&&(_e(J,!1),C(O)||_e(O,{start:C(m).invert(0),end:C(m).invert(C(u)-w().right)}),te.set(C(O).start),X.set(C(O).end))}),wr();var we={get maxWidth(){return g()},set maxWidth(ie){g(ie),le()},get height(){return _()},set height(ie){_(ie),le()},get margin(){return w()},set margin(ie){w(ie),le()},get data(){return S()},set data(ie){S(ie),le()},get translations(){return E()},set translations(ie){E(ie),le()},get radius(){return A()},set radius(ie){A(ie),le()},get size(){return N()},set size(ie){N(ie),le()},get color(){return I()},set color(ie){I(ie),le()},get brush(){return j()},set brush(ie){j(ie),le()},get showAxis(){return q()},set showAxis(ie){q(ie),le()},get fillArea(){return R()},set fillArea(ie){R(ie),le()},...jt()};Bn();var Ee=wb(),Te=Re(Ee);{var Qe=ie=>{var nt=gb(),ne=Re(nt,!0);Me(nt),at(()=>ft(ne,(ee(E()),ve(()=>E().resetZoom)))),ei("click",nt,()=>_e(J,!0)),We(ie,nt)};$e(()=>Ct(Te,ie=>{n(),C(O),r(),ve(()=>Ut(n(),C(O).start,!1)||Ut(r(),C(O).end,!1))&&ie(Qe)}),"if",et,99,2)}var Ze=Ne(Te,2),nn=Re(Ze);{var yn=ie=>{var nt=yb();at(()=>{be(nt,"x",(ee(w()),ve(()=>w().left))),be(nt,"y",(ee(w()),ve(()=>w().top))),be(nt,"height",(ee(_()),ee(w()),ve(()=>_()-w().top-w().bottom))),be(nt,"width",(C(u),ee(w()),ve(()=>C(u)-w().left-w().right)))}),We(ie,nt)};$e(()=>Ct(nn,ie=>{j()&&ie(yn)}),"if",et,111,4)}var _n=Ne(nn);{var yi=ie=>{$e(()=>La(ie,er(()=>({xScale:C(m),yScale:C(p),points:C(l),color:I(),curve:ls,steps:C(f)}))),"component",et,121,6,{componentTag:"ChartArea"})};$e(()=>Ct(_n,ie=>{R()&&ie(yi)}),"if",et,120,4)}var Ft=Ne(_n);$e(()=>Ba(Ft,er(()=>({xScale:C(m),yScale:C(p),points:C(l),color:I(),curve:ls,steps:C(f)}))),"component",et,124,4,{componentTag:"ChartLine"});var rn=Ne(Ft);{var Mt=ie=>{var nt=_b(),ne=Jn(nt);$e(()=>hi(ne,er(()=>({width:C(u),margin:w(),yScale:C(p)}))),"component",et,127,6,{componentTag:"ChartAxisY"});var kr=Ne(ne);$e(()=>fi(kr,er(()=>({width:C(u),height:_(),margin:w(),xScale:C(m)}))),"component",et,128,6,{componentTag:"ChartAxisX"}),We(ie,nt)};$e(()=>Ct(rn,ie=>{q()&&ie(Mt)}),"if",et,126,4)}var ue=Ne(rn);$e(()=>Mo(ue,5,()=>C(l),Ao,(ie,nt)=>{$e(()=>ur(ie,er(()=>({xScale:C(m),yScale:C(p),point:C(nt),color:I(),radius:A(),size:N()}))),"component",et,133,8,{componentTag:"ChartDot"})}),"each",et,132,6),Me(ue);var De=Ne(ue);{var Ue=ie=>{$e(()=>ur(ie,er(()=>({xScale:C(m),yScale:C(p),point:C(B),color:I(),radius:A(),size:N(),big:!0}))),"component",et,138,6,{componentTag:"ChartDot"})};$e(()=>Ct(De,ie=>{C(B)&&ie(Ue)}),"if",et,137,4)}var G=Ne(De);{var dt=ie=>{$e(()=>di(ie,er(()=>({width:C(u),height:_(),margin:w()}),{$$events:{brushEnd:ge},children:Op(et,(nt,ne)=>{$e(()=>lr(nt,er(()=>({points:C(l),width:C(u),height:_(),xScale:C(m),yScale:C(p)}),{$$events:{cellactive:ce}})),"component",et,143,8,{componentTag:"ChartCells"})}),$$slots:{default:!0}})),"component",et,142,6,{componentTag:"ChartBrush"})},fe=ie=>{$e(()=>lr(ie,er(()=>({points:C(l),width:C(u),height:_(),xScale:C(m),yScale:C(p)}),{$$events:{cellactive:ce}})),"component",et,146,6,{componentTag:"ChartCells"})};$e(()=>Ct(G,ie=>{j()?ie(dt):ie(fe,!1)}),"if",et,141,4)}Me(Ze),bu(Ze,ie=>_e(L,ie),()=>C(L));var Le=Ne(Ze,2);{var Ke=ie=>{$e(()=>ci(ie,{get x(){return C(B),ve(()=>C(B).posX)},get y(){return C(B),ve(()=>C(B).posY)},get parentWidth(){return C(u)},get date(){return C(B),ve(()=>C(B).datum_mw)},get marketValue(){return C(B),ve(()=>C(B).mw)},get marketValueRaw(){return C(B),ve(()=>C(B).y)},get team(){return C(B),ve(()=>C(B).verein)},get age(){return C(B),ve(()=>C(B).age)},get translations(){return E()}}),"component",et,151,4,{componentTag:"ChartTooltip"})};$e(()=>Ct(Le,ie=>{C(B)&&ie(Ke)}),"if",et,150,2)}Me(Ee),at(()=>{be(Ze,"viewBox",`0 0 ${C(u)??""} ${_()??""}`),yu(Ze,`height: ${_()??""}px`)}),ei("mouseout",Ze,pe),ei("blur",Ze,pe),am(Ee,"clientWidth",ie=>_e(oe,ie)),We(e,Ee);var ut=Pt(we);return s(),ut}zt(et,{maxWidth:{},height:{},margin:{},data:{},translations:{},radius:{},size:{},color:{},brush:{},showAxis:{},fillArea:{}},[],[],!0),en[Ae]="src/lib/components/skeleton/Square.svelte";var xb=tt(hn('<div class="svelte-py9x6n"></div>'),en[Ae],[[6,0]]);const Tb={hash:"svelte-py9x6n",code:`@keyframes svelte-py9x6n-pulse {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 0.6;
  }
}
div.svelte-py9x6n {
  animation: sk-pulse 1.5s infinite;
  background-color: #e9e9e9;
}`};function en(e,t){Kt(new.target),$t(t,!1,en),Un(e,Tb);let n=de(t,"height",12,"100%"),r=de(t,"width",12,"100%");var i={get height(){return n()},set height(u){n(u),le()},get width(){return r()},set width(u){r(u),le()},...jt()},s=xb();return at(()=>yu(s,`height: ${n()??""}; width: ${r()??""};`)),We(e,s),Pt(i)}zt(en,{height:{},width:{}},[],[],!0),Yt[Ae]="src/market-value-development-graph-integrated/components/Skeleton.svelte";var Sb=tt(hn('<div><!> <div class="sk-upper-row svelte-8u5mb"><div class="sk-upper-row-left svelte-8u5mb"><!> <!></div> <div class="sk-upper-row-right svelte-8u5mb"><!> <!> <!></div></div> <div class="sk-graph svelte-8u5mb"><!></div> <div class="sk-lower-row svelte-8u5mb"><!> <!></div></div>'),Yt[Ae],[[5,0,[[8,2,[[9,4],[13,4]]],[20,2],[24,2]]]]);const Eb={hash:"svelte-8u5mb",code:`/* stylelint-disable */
/* stylelint-enable */
.sk-upper-row.svelte-8u5mb {
  display: flex;
  justify-content: space-between;
  padding: 0.625rem;
}

.sk-upper-row-left.svelte-8u5mb {
  display: flex;
  flex-direction: column;
  gap: 0.1875rem;
}

.sk-upper-row-right.svelte-8u5mb {
  align-items: flex-end;
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.sk-graph.svelte-8u5mb {
  padding: 1.875rem 0.625rem 0;
}

.sk-lower-row.svelte-8u5mb {
  align-items: flex-end;
  display: flex;
  flex-direction: column;
  gap: 1.0625rem;
  padding: 1rem 0.75rem 0.75rem;
}`};function Yt(e,t){Kt(new.target),$t(t,!1,Yt),Un(e,Eb);var n={...jt()},r=Sb(),i=Re(r);$e(()=>en(i,{height:"25px"}),"component",Yt,6,2,{componentTag:"Square"});var s=Ne(i,2),u=Re(s),l=Re(u);$e(()=>en(l,{height:"12px",width:"100px"}),"component",Yt,10,6,{componentTag:"Square"});var f=Ne(l,2);$e(()=>en(f,{height:"18px",width:"80px"}),"component",Yt,11,6,{componentTag:"Square"}),Me(u);var d=Ne(u,2),m=Re(d);$e(()=>en(m,{height:"12px",width:"100px"}),"component",Yt,14,6,{componentTag:"Square"});var p=Ne(m,2);$e(()=>en(p,{height:"12px",width:"60px"}),"component",Yt,15,6,{componentTag:"Square"});var g=Ne(p,2);$e(()=>en(g,{height:"12px",width:"50px"}),"component",Yt,16,6,{componentTag:"Square"}),Me(d),Me(s);var _=Ne(s,2),w=Re(_);$e(()=>en(w,{height:"95px"}),"component",Yt,21,4,{componentTag:"Square"}),Me(_);var S=Ne(_,2),E=Re(S);$e(()=>en(E,{height:"12px",width:"130px"}),"component",Yt,25,4,{componentTag:"Square"});var A=Ne(E,2);return $e(()=>en(A,{height:"14px",width:"160px"}),"component",Yt,26,4,{componentTag:"Square"}),Me(S),Me(r),We(e,r),Pt(n)}zt(Yt,{},[],[],!0);const kb=/\{[^{}]+\}/g,Cb=()=>{var e,t;return typeof process=="object"&&Number.parseInt((t=(e=process==null?void 0:process.versions)==null?void 0:e.node)==null?void 0:t.substring(0,2))>=18&&process.versions.undici};function Ab(){return Math.random().toString(36).slice(2,11)}function Mb(e){let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:i,bodySerializer:s,headers:u,requestInitExt:l=void 0,...f}={...e};l=Cb()?l:void 0,t=rd(t);const d=[];async function m(p,g){const{baseUrl:_,fetch:w=r,Request:S=n,headers:E,params:A={},parseAs:N="json",querySerializer:I,bodySerializer:j=s??$b,body:q,...R}=g||{};let L=t;_&&(L=rd(_)??t);let J=typeof i=="function"?i:td(i);I&&(J=typeof I=="function"?I:td({...typeof i=="object"?i:{},...I}));const O=q===void 0?void 0:j(q,nd(u,E,A.header)),te=nd(O===void 0||O instanceof FormData?{}:{"Content-Type":"application/json"},u,E,A.header),X={redirect:"follow",...f,...R,body:O,headers:te};let oe,B,ce=new S(Pb(p,{baseUrl:L,params:A,querySerializer:J}),X),pe;for(const we in R)we in ce||(ce[we]=R[we]);if(d.length){oe=Ab(),B=Object.freeze({baseUrl:L,fetch:w,parseAs:N,querySerializer:J,bodySerializer:j});for(const we of d)if(we&&typeof we=="object"&&typeof we.onRequest=="function"){const Ee=await we.onRequest({request:ce,schemaPath:p,params:A,options:B,id:oe});if(Ee)if(Ee instanceof S)ce=Ee;else if(Ee instanceof Response){pe=Ee;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!pe){try{pe=await w(ce,l)}catch(we){let Ee=we;if(d.length)for(let Te=d.length-1;Te>=0;Te--){const Qe=d[Te];if(Qe&&typeof Qe=="object"&&typeof Qe.onError=="function"){const Ze=await Qe.onError({request:ce,error:Ee,schemaPath:p,params:A,options:B,id:oe});if(Ze){if(Ze instanceof Response){Ee=void 0,pe=Ze;break}if(Ze instanceof Error){Ee=Ze;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(Ee)throw Ee}if(d.length)for(let we=d.length-1;we>=0;we--){const Ee=d[we];if(Ee&&typeof Ee=="object"&&typeof Ee.onResponse=="function"){const Te=await Ee.onResponse({request:ce,response:pe,schemaPath:p,params:A,options:B,id:oe});if(Te){if(!(Te instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");pe=Te}}}}if(pe.status===204||ce.method==="HEAD"||pe.headers.get("Content-Length")==="0")return pe.ok?{data:void 0,response:pe}:{error:void 0,response:pe};if(pe.ok)return N==="stream"?{data:pe.body,response:pe}:{data:await pe[N](),response:pe};let ge=await pe.text();try{ge=JSON.parse(ge)}catch{}return{error:ge,response:pe}}return{request(p,g,_){return m(g,{..._,method:p.toUpperCase()})},GET(p,g){return m(p,{...g,method:"GET"})},PUT(p,g){return m(p,{...g,method:"PUT"})},POST(p,g){return m(p,{...g,method:"POST"})},DELETE(p,g){return m(p,{...g,method:"DELETE"})},OPTIONS(p,g){return m(p,{...g,method:"OPTIONS"})},HEAD(p,g){return m(p,{...g,method:"HEAD"})},PATCH(p,g){return m(p,{...g,method:"PATCH"})},TRACE(p,g){return m(p,{...g,method:"TRACE"})},use(...p){for(const g of p)if(g){if(typeof g!="object"||!("onRequest"in g||"onResponse"in g||"onError"in g))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");d.push(g)}},eject(...p){for(const g of p){const _=d.indexOf(g);_!==-1&&d.splice(_,1)}}}}function cs(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${(n==null?void 0:n.allowReserved)===!0?t:encodeURIComponent(t)}`}function Jh(e,t,n){if(!t||typeof t!="object")return"";const r=[],i={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const l in t)r.push(l,n.allowReserved===!0?t[l]:encodeURIComponent(t[l]));const u=r.join(",");switch(n.style){case"form":return`${e}=${u}`;case"label":return`.${u}`;case"matrix":return`;${e}=${u}`;default:return u}}for(const u in t){const l=n.style==="deepObject"?`${e}[${u}]`:u;r.push(cs(l,t[u],n))}const s=r.join(i);return n.style==="label"||n.style==="matrix"?`${i}${s}`:s}function ed(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const s={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",u=(n.allowReserved===!0?t:t.map(l=>encodeURIComponent(l))).join(s);switch(n.style){case"simple":return u;case"label":return`.${u}`;case"matrix":return`;${e}=${u}`;default:return`${e}=${u}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",i=[];for(const s of t)n.style==="simple"||n.style==="label"?i.push(n.allowReserved===!0?s:encodeURIComponent(s)):i.push(cs(e,s,n));return n.style==="label"||n.style==="matrix"?`${r}${i.join(r)}`:i.join(r)}function td(e){return function(n){const r=[];if(n&&typeof n=="object")for(const i in n){const s=n[i];if(s!=null){if(Array.isArray(s)){if(s.length===0)continue;r.push(ed(i,s,{style:"form",explode:!0,...e==null?void 0:e.array,allowReserved:(e==null?void 0:e.allowReserved)||!1}));continue}if(typeof s=="object"){r.push(Jh(i,s,{style:"deepObject",explode:!0,...e==null?void 0:e.object,allowReserved:(e==null?void 0:e.allowReserved)||!1}));continue}r.push(cs(i,s,e))}}return r.join("&")}}function Db(e,t){let n=e;for(const r of e.match(kb)??[]){let i=r.substring(1,r.length-1),s=!1,u="simple";if(i.endsWith("*")&&(s=!0,i=i.substring(0,i.length-1)),i.startsWith(".")?(u="label",i=i.substring(1)):i.startsWith(";")&&(u="matrix",i=i.substring(1)),!t||t[i]===void 0||t[i]===null)continue;const l=t[i];if(Array.isArray(l)){n=n.replace(r,ed(i,l,{style:u,explode:s}));continue}if(typeof l=="object"){n=n.replace(r,Jh(i,l,{style:u,explode:s}));continue}if(u==="matrix"){n=n.replace(r,`;${cs(i,l)}`);continue}n=n.replace(r,u==="label"?`.${encodeURIComponent(l)}`:encodeURIComponent(l))}return n}function $b(e,t){return e instanceof FormData?e:t&&(t.get instanceof Function?t.get("Content-Type")??t.get("content-type"):t["Content-Type"]??t["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(e).toString():JSON.stringify(e)}function Pb(e,t){var i;let n=`${t.baseUrl}${e}`;(i=t.params)!=null&&i.path&&(n=Db(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function nd(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[i,s]of r)if(s===null)t.delete(i);else if(Array.isArray(s))for(const u of s)t.append(i,u);else s!==void 0&&t.set(i,s)}return t}function rd(e){return e.endsWith("/")?e.substring(0,e.length-1):e}const id={at:"de-AT",ar:"es-AR",be:"nl-BE",br:"pt-BR",ch:"de-CH",co:"es-CO",com:"en-US",de:"de-DE",es:"es-ES",fr:"fr-FR",gr:"el-GR",id:"id-ID",in:"en-IN",it:"it-IT",jp:"ja-JP",kr:"ko-KR",mx:"es-MX",nl:"nl-NL",pe:"es-PE",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",tr:"tr-TR",uk:"en-GB",us:"en-US",world:"ru-RU",za:"en-ZA"},Rb="com",ad="en-US",Ib={baseUrl:"https://tmapi-alpha.transfermarkt.technology/",useDomainContext:!1,useLocale:!1},od=(e={})=>{const t={...Ib,...e},n=document.body.getAttribute("data-tm-tld")??Rb,r=id[n]??ad,i=Mb({baseUrl:t.baseUrl,headers:{Accept:"application/json","Accept-Language":t.useLocale?r:ad}});if(t.useDomainContext){const s={async onRequest({request:u}){const l=new URL(u.url);return l.searchParams.set("_x_preferred_context",n),new Request(l.toString(),u)}};i.use(s)}return i},Ob={day:"2-digit",month:"2-digit",year:"numeric"},Fb=(e,t,n)=>new Intl.DateTimeFormat(t,n).format(e),Nb=()=>{var e;return((e=new URLSearchParams(window.location.search).get("x-offsite-tenant"))==null?void 0:e.split(".").pop())||document.body.getAttribute("data-tm-tld")||(["training","io"].includes(window.location.hostname.split(".").pop()??"training")?"de":window.location.hostname.split(".").pop()??"de")};var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fs={exports:{}},Bb=fs.exports,sd;function Kb(){return sd||(sd=1,function(e,t){(function(n,r){e.exports=r()})(Bb,function(){/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(a,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(c[v]=h[v])},n(a,o)};function r(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(a,o);function c(){this.constructor=a}a.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}var i=function(){return i=Object.assign||function(o){for(var c,h=1,v=arguments.length;h<v;h++){c=arguments[h];for(var y in c)Object.prototype.hasOwnProperty.call(c,y)&&(o[y]=c[y])}return o},i.apply(this,arguments)};function s(a,o,c){for(var h=0,v=o.length,y;h<v;h++)(y||!(h in o))&&(y||(y=Array.prototype.slice.call(o,0,h)),y[h]=o[h]);return a.concat(y||Array.prototype.slice.call(o))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ub,l=Object.keys,f=Array.isArray;typeof Promise<"u"&&!u.Promise&&(u.Promise=Promise);function d(a,o){return typeof o!="object"||l(o).forEach(function(c){a[c]=o[c]}),a}var m=Object.getPrototypeOf,p={}.hasOwnProperty;function g(a,o){return p.call(a,o)}function _(a,o){typeof o=="function"&&(o=o(m(a))),(typeof Reflect>"u"?l:Reflect.ownKeys)(o).forEach(function(c){S(a,c,o[c])})}var w=Object.defineProperty;function S(a,o,c,h){w(a,o,d(c&&g(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},h))}function E(a){return{from:function(o){return a.prototype=Object.create(o.prototype),S(a.prototype,"constructor",a),{extend:_.bind(null,a.prototype)}}}}var A=Object.getOwnPropertyDescriptor;function N(a,o){var c=A(a,o),h;return c||(h=m(a))&&N(h,o)}var I=[].slice;function j(a,o,c){return I.call(a,o,c)}function q(a,o){return o(a)}function R(a){if(!a)throw new Error("Assertion Failed")}function L(a){u.setImmediate?setImmediate(a):setTimeout(a,0)}function J(a,o){return a.reduce(function(c,h,v){var y=o(h,v);return y&&(c[y[0]]=y[1]),c},{})}function O(a,o){if(typeof o=="string"&&g(a,o))return a[o];if(!o)return a;if(typeof o!="string"){for(var c=[],h=0,v=o.length;h<v;++h){var y=O(a,o[h]);c.push(y)}return c}var b=o.indexOf(".");if(b!==-1){var x=a[o.substr(0,b)];return x==null?void 0:O(x,o.substr(b+1))}}function te(a,o,c){if(!(!a||o===void 0)&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof o!="string"&&"length"in o){R(typeof c!="string"&&"length"in c);for(var h=0,v=o.length;h<v;++h)te(a,o[h],c[h])}else{var y=o.indexOf(".");if(y!==-1){var b=o.substr(0,y),x=o.substr(y+1);if(x==="")c===void 0?f(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c;else{var T=a[b];(!T||!g(a,b))&&(T=a[b]={}),te(T,x,c)}}else c===void 0?f(a)&&!isNaN(parseInt(o))?a.splice(o,1):delete a[o]:a[o]=c}}function X(a,o){typeof o=="string"?te(a,o,void 0):"length"in o&&[].map.call(o,function(c){te(a,c,void 0)})}function oe(a){var o={};for(var c in a)g(a,c)&&(o[c]=a[c]);return o}var B=[].concat;function ce(a){return B.apply([],a)}var pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ce([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(o){return o+a+"Array"})}))).filter(function(a){return u[a]}),ge=new Set(pe.map(function(a){return u[a]}));function we(a){var o={};for(var c in a)if(g(a,c)){var h=a[c];o[c]=!h||typeof h!="object"||ge.has(h.constructor)?h:we(h)}return o}function Ee(a){for(var o in a)if(g(a,o))return!1;return!0}var Te=null;function Qe(a){Te=new WeakMap;var o=Ze(a);return Te=null,o}function Ze(a){if(!a||typeof a!="object")return a;var o=Te.get(a);if(o)return o;if(f(a)){o=[],Te.set(a,o);for(var c=0,h=a.length;c<h;++c)o.push(Ze(a[c]))}else if(ge.has(a.constructor))o=a;else{var v=m(a);o=v===Object.prototype?{}:Object.create(v),Te.set(a,o);for(var y in a)g(a,y)&&(o[y]=Ze(a[y]))}return o}var nn={}.toString;function yn(a){return nn.call(a).slice(8,-1)}var _n=typeof Symbol<"u"?Symbol.iterator:"@@iterator",yi=typeof _n=="symbol"?function(a){var o;return a!=null&&(o=a[_n])&&o.apply(a)}:function(){return null};function Ft(a,o){var c=a.indexOf(o);return c>=0&&a.splice(c,1),c>=0}var rn={};function Mt(a){var o,c,h,v;if(arguments.length===1){if(f(a))return a.slice();if(this===rn&&typeof a=="string")return[a];if(v=yi(a)){for(c=[];h=v.next(),!h.done;)c.push(h.value);return c}if(a==null)return[a];if(o=a.length,typeof o=="number"){for(c=new Array(o);o--;)c[o]=a[o];return c}return[a]}for(o=arguments.length,c=new Array(o);o--;)c[o]=arguments[o];return c}var ue=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},De=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],G=De.concat(Ue),dt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function fe(a,o){this.name=a,this.message=o}E(fe).from(Error).extend({toString:function(){return this.name+": "+this.message}});function Le(a,o){return a+". Errors: "+Object.keys(o).map(function(c){return o[c].toString()}).filter(function(c,h,v){return v.indexOf(c)===h}).join(`
`)}function Ke(a,o,c,h){this.failures=o,this.failedKeys=h,this.successCount=c,this.message=Le(a,o)}E(Ke).from(fe);function ut(a,o){this.name="BulkError",this.failures=Object.keys(o).map(function(c){return o[c]}),this.failuresByPos=o,this.message=Le(a,this.failures)}E(ut).from(fe);var ie=G.reduce(function(a,o){return a[o]=o+"Error",a},{}),nt=fe,ne=G.reduce(function(a,o){var c=o+"Error";function h(v,y){this.name=c,v?typeof v=="string"?(this.message="".concat(v).concat(y?`
 `+y:""),this.inner=y||null):typeof v=="object"&&(this.message="".concat(v.name," ").concat(v.message),this.inner=v):(this.message=dt[o]||c,this.inner=null)}return E(h).from(nt),a[o]=h,a},{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var kr=Ue.reduce(function(a,o){return a[o+"Error"]=ne[o],a},{});function fd(a,o){if(!a||a instanceof fe||a instanceof TypeError||a instanceof SyntaxError||!a.name||!kr[a.name])return a;var c=new kr[a.name](o||a.message,a);return"stack"in a&&S(c,"stack",{get:function(){return this.inner.stack}}),c}var _i=G.reduce(function(a,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(a[o+"Error"]=ne[o]),a},{});_i.ModifyError=Ke,_i.DexieError=fe,_i.BulkError=ut;function Xe(){}function Cr(a){return a}function hd(a,o){return a==null||a===Cr?o:function(c){return o(a(c))}}function Vn(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}}function f1(a,o){return a===Xe?o:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var h=this.onsuccess,v=this.onerror;this.onsuccess=null,this.onerror=null;var y=o.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?Vn(h,this.onsuccess):h),v&&(this.onerror=this.onerror?Vn(v,this.onerror):v),y!==void 0?y:c}}function h1(a,o){return a===Xe?o:function(){a.apply(this,arguments);var c=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?Vn(c,this.onsuccess):c),h&&(this.onerror=this.onerror?Vn(h,this.onerror):h)}}function d1(a,o){return a===Xe?o:function(c){var h=a.apply(this,arguments);d(c,h);var v=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var b=o.apply(this,arguments);return v&&(this.onsuccess=this.onsuccess?Vn(v,this.onsuccess):v),y&&(this.onerror=this.onerror?Vn(y,this.onerror):y),h===void 0?b===void 0?void 0:b:d(h,b)}}function v1(a,o){return a===Xe?o:function(){return o.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function cl(a,o){return a===Xe?o:function(){var c=a.apply(this,arguments);if(c&&typeof c.then=="function"){for(var h=this,v=arguments.length,y=new Array(v);v--;)y[v]=arguments[v];return c.then(function(){return o.apply(h,y)})}return o.apply(this,arguments)}}var Wn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function dd(a,o){Wn=a}var qa={},vd=100,fl=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,m(a),a];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,m(o),a]}(),pd=fl[0],md=fl[1],p1=fl[2],m1=md&&md.then,wi=pd&&pd.constructor,hl=!!p1;function g1(){queueMicrotask(_1)}var Xa=function(a,o){Ga.push([a,o]),ms&&(g1(),ms=!1)},dl=!0,ms=!0,bi=[],gs=[],vl=Cr,Ar={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Xe,pgp:!1,env:{},finalize:Xe},me=Ar,Ga=[],xi=0,ys=[];function se(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=me;if(typeof a!="function"){if(a!==qa)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ml(this,this._value);return}this._state=null,this._value=null,++o.ref,yd(this,a)}var pl={get:function(){var a=me,o=xs;function c(h,v){var y=this,b=!a.global&&(a!==me||o!==xs),x=b&&!Dr(),T=new se(function(k,$){gl(y,new gd(bd(h,a,b,x),bd(v,a,b,x),k,$,a))});return this._consoleTask&&(T._consoleTask=this._consoleTask),T}return c.prototype=qa,c},set:function(a){S(this,"then",a&&a.prototype===qa?pl:{get:function(){return a},set:pl.set})}};_(se.prototype,{then:pl,_then:function(a,o){gl(this,new gd(null,null,a,o,me))},catch:function(a){if(arguments.length===1)return this.then(null,a);var o=arguments[0],c=arguments[1];return typeof o=="function"?this.then(null,function(h){return h instanceof o?c(h):_s(h)}):this.then(null,function(h){return h&&h.name===o?c(h):_s(h)})},finally:function(a){return this.then(function(o){return se.resolve(a()).then(function(){return o})},function(o){return se.resolve(a()).then(function(){return _s(o)})})},timeout:function(a,o){var c=this;return a<1/0?new se(function(h,v){var y=setTimeout(function(){return v(new ne.Timeout(o))},a);c.then(h,v).finally(clearTimeout.bind(null,y))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(se.prototype,Symbol.toStringTag,"Dexie.Promise"),Ar.env=wd();function gd(a,o,c,h,v){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof o=="function"?o:null,this.resolve=c,this.reject=h,this.psd=v}_(se,{all:function(){var a=Mt.apply(null,arguments).map(Ts);return new se(function(o,c){a.length===0&&o([]);var h=a.length;a.forEach(function(v,y){return se.resolve(v).then(function(b){a[y]=b,--h||o(a)},c)})})},resolve:function(a){if(a instanceof se)return a;if(a&&typeof a.then=="function")return new se(function(c,h){a.then(c,h)});var o=new se(qa,!0,a);return o},reject:_s,race:function(){var a=Mt.apply(null,arguments).map(Ts);return new se(function(o,c){a.map(function(h){return se.resolve(h).then(o,c)})})},PSD:{get:function(){return me},set:function(a){return me=a}},totalEchoes:{get:function(){return xs}},newPSD:Mr,usePSD:Ti,scheduler:{get:function(){return Xa},set:function(a){Xa=a}},rejectionMapper:{get:function(){return vl},set:function(a){vl=a}},follow:function(a,o){return new se(function(c,h){return Mr(function(v,y){var b=me;b.unhandleds=[],b.onunhandled=y,b.finalize=Vn(function(){var x=this;w1(function(){x.unhandleds.length===0?v():y(x.unhandleds[0])})},b.finalize),a()},o,c,h)})}}),wi&&(wi.allSettled&&S(se,"allSettled",function(){var a=Mt.apply(null,arguments).map(Ts);return new se(function(o){a.length===0&&o([]);var c=a.length,h=new Array(c);a.forEach(function(v,y){return se.resolve(v).then(function(b){return h[y]={status:"fulfilled",value:b}},function(b){return h[y]={status:"rejected",reason:b}}).then(function(){return--c||o(h)})})})}),wi.any&&typeof AggregateError<"u"&&S(se,"any",function(){var a=Mt.apply(null,arguments).map(Ts);return new se(function(o,c){a.length===0&&c(new AggregateError([]));var h=a.length,v=new Array(h);a.forEach(function(y,b){return se.resolve(y).then(function(x){return o(x)},function(x){v[b]=x,--h||c(new AggregateError(v))})})})}),wi.withResolvers&&(se.withResolvers=wi.withResolvers));function yd(a,o){try{o(function(c){if(a._state===null){if(c===a)throw new TypeError("A promise cannot be resolved with itself.");var h=a._lib&&ia();c&&typeof c.then=="function"?yd(a,function(v,y){c instanceof se?c._then(v,y):c.then(v,y)}):(a._state=!0,a._value=c,_d(a)),h&&aa()}},ml.bind(null,a))}catch(c){ml(a,c)}}function ml(a,o){if(gs.push(o),a._state===null){var c=a._lib&&ia();o=vl(o),a._state=!1,a._value=o,b1(a),_d(a),c&&aa()}}function _d(a){var o=a._listeners;a._listeners=[];for(var c=0,h=o.length;c<h;++c)gl(a,o[c]);var v=a._PSD;--v.ref||v.finalize(),xi===0&&(++xi,Xa(function(){--xi===0&&yl()},[]))}function gl(a,o){if(a._state===null){a._listeners.push(o);return}var c=a._state?o.onFulfilled:o.onRejected;if(c===null)return(a._state?o.resolve:o.reject)(a._value);++o.psd.ref,++xi,Xa(y1,[c,a,o])}function y1(a,o,c){try{var h,v=o._value;!o._state&&gs.length&&(gs=[]),h=Wn&&o._consoleTask?o._consoleTask.run(function(){return a(v)}):a(v),!o._state&&gs.indexOf(v)===-1&&x1(o),c.resolve(h)}catch(y){c.reject(y)}finally{--xi===0&&yl(),--c.psd.ref||c.psd.finalize()}}function _1(){Ti(Ar,function(){ia()&&aa()})}function ia(){var a=dl;return dl=!1,ms=!1,a}function aa(){var a,o,c;do for(;Ga.length>0;)for(a=Ga,Ga=[],c=a.length,o=0;o<c;++o){var h=a[o];h[0].apply(null,h[1])}while(Ga.length>0);dl=!0,ms=!0}function yl(){var a=bi;bi=[],a.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var o=ys.slice(0),c=o.length;c;)o[--c]()}function w1(a){function o(){a(),ys.splice(ys.indexOf(o),1)}ys.push(o),++xi,Xa(function(){--xi===0&&yl()},[])}function b1(a){bi.some(function(o){return o._value===a._value})||bi.push(a)}function x1(a){for(var o=bi.length;o;)if(bi[--o]._value===a._value){bi.splice(o,1);return}}function _s(a){return new se(qa,!1,a)}function ot(a,o){var c=me;return function(){var h=ia(),v=me;try{return $r(c,!0),a.apply(this,arguments)}catch(y){o&&o(y)}finally{$r(v,!1),h&&aa()}}}var Tt={awaits:0,echoes:0,id:0},T1=0,ws=[],bs=0,xs=0,S1=0;function Mr(a,o,c,h){var v=me,y=Object.create(v);y.parent=v,y.ref=0,y.global=!1,y.id=++S1,Ar.env,y.env=hl?{Promise:se,PromiseProp:{value:se,configurable:!0,writable:!0},all:se.all,race:se.race,allSettled:se.allSettled,any:se.any,resolve:se.resolve,reject:se.reject}:{},o&&d(y,o),++v.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()};var b=Ti(y,a,c,h);return y.ref===0&&y.finalize(),b}function oa(){return Tt.id||(Tt.id=++T1),++Tt.awaits,Tt.echoes+=vd,Tt.id}function Dr(){return Tt.awaits?(--Tt.awaits===0&&(Tt.id=0),Tt.echoes=Tt.awaits*vd,!0):!1}(""+m1).indexOf("[native code]")===-1&&(oa=Dr=Xe);function Ts(a){return Tt.echoes&&a&&a.constructor===wi?(oa(),a.then(function(o){return Dr(),o},function(o){return Dr(),ct(o)})):a}function E1(a){++xs,(!Tt.echoes||--Tt.echoes===0)&&(Tt.echoes=Tt.awaits=Tt.id=0),ws.push(me),$r(a,!0)}function k1(){var a=ws[ws.length-1];ws.pop(),$r(a,!1)}function $r(a,o){var c=me;if((o?Tt.echoes&&(!bs++||a!==me):bs&&(!--bs||a!==me))&&queueMicrotask(o?E1.bind(null,a):k1),a!==me&&(me=a,c===Ar&&(Ar.env=wd()),hl)){var h=Ar.env.Promise,v=a.env;(c.global||a.global)&&(Object.defineProperty(u,"Promise",v.PromiseProp),h.all=v.all,h.race=v.race,h.resolve=v.resolve,h.reject=v.reject,v.allSettled&&(h.allSettled=v.allSettled),v.any&&(h.any=v.any))}}function wd(){var a=u.Promise;return hl?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Ti(a,o,c,h,v){var y=me;try{return $r(a,!0),o(c,h,v)}finally{$r(y,!1)}}function bd(a,o,c,h){return typeof a!="function"?a:function(){var v=me;c&&oa(),$r(o,!0);try{return a.apply(this,arguments)}finally{$r(v,!1),h&&queueMicrotask(Dr)}}}function _l(a){Promise===wi&&Tt.echoes===0?bs===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}var ct=se.reject;function wl(a,o,c,h){if(!a.idbdb||!a._state.openComplete&&!me.letThrough&&!a._vip){if(a._state.openComplete)return ct(new ne.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return ct(new ne.DatabaseClosed);a.open().catch(Xe)}return a._state.dbReadyPromise.then(function(){return wl(a,o,c,h)})}else{var v=a._createTransaction(o,c,a._dbSchema);try{v.create(),a._state.PR1398_maxLoop=3}catch(y){return y.name===ie.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),a.close({disableAutoOpen:!1}),a.open().then(function(){return wl(a,o,c,h)})):ct(y)}return v._promise(o,function(y,b){return Mr(function(){return me.trans=v,h(y,b,v)})}).then(function(y){if(o==="readwrite")try{v.idbtrans.commit()}catch{}return o==="readonly"?y:v._completion.then(function(){return y})})}}var xd="4.2.0",Si="￿",bl=-1/0,hr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Td="String expected.",sa=[],Ss="__dbnames",xl="readonly",Tl="readwrite";function Ei(a,o){return a?o?function(){return a.apply(this,arguments)&&o.apply(this,arguments)}:a:o}var Sd={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Es(a){return typeof a=="string"&&!/\./.test(a)?function(o){return o[a]===void 0&&a in o&&(o=Qe(o),delete o[a]),o}:function(o){return o}}function Ed(){throw ne.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ze(a,o){try{var c=kd(a),h=kd(o);if(c!==h)return c==="Array"?1:h==="Array"?-1:c==="binary"?1:h==="binary"?-1:c==="string"?1:h==="string"?-1:c==="Date"?1:h!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return a>o?1:a<o?-1:0;case"binary":return A1(Cd(a),Cd(o));case"Array":return C1(a,o)}}catch{}return NaN}function C1(a,o){for(var c=a.length,h=o.length,v=c<h?c:h,y=0;y<v;++y){var b=ze(a[y],o[y]);if(b!==0)return b}return c===h?0:c<h?-1:1}function A1(a,o){for(var c=a.length,h=o.length,v=c<h?c:h,y=0;y<v;++y)if(a[y]!==o[y])return a[y]<o[y]?-1:1;return c===h?0:c<h?-1:1}function kd(a){var o=typeof a;if(o!=="object")return o;if(ArrayBuffer.isView(a))return"binary";var c=yn(a);return c==="ArrayBuffer"?"binary":c}function Cd(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}function ks(a,o,c){var h=a.schema.yProps;return h?(o&&c.numFailures>0&&(o=o.filter(function(v,y){return!c.failures[y]})),Promise.all(h.map(function(v){var y=v.updatesTable;return o?a.db.table(y).where("k").anyOf(o).delete():a.db.table(y).clear()})).then(function(){return c})):c}var Ad=function(){function a(){}return a.prototype._trans=function(o,c,h){var v=this._tx||me.trans,y=this.name,b=Wn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function x($,M,F){if(!F.schema[y])throw new ne.NotFound("Table "+y+" not part of transaction");return c(F.idbtrans,F)}var T=ia();try{var k=v&&v.db._novip===this.db._novip?v===me.trans?v._promise(o,x,h):Mr(function(){return v._promise(o,x,h)},{trans:v,transless:me.transless||me}):wl(this.db,o,[this.name],x);return b&&(k._consoleTask=b,k=k.catch(function($){return console.trace($),ct($)})),k}finally{T&&aa()}},a.prototype.get=function(o,c){var h=this;return o&&o.constructor===Object?this.where(o).first(c):o==null?ct(new ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(v){return h.core.get({trans:v,key:o}).then(function(y){return h.hook.reading.fire(y)})}).then(c)},a.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(f(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var c=l(o);if(c.length===1)return this.where(c[0]).equals(o[c[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function($){if($.compound&&c.every(function(F){return $.keyPath.indexOf(F)>=0})){for(var M=0;M<c.length;++M)if(c.indexOf($.keyPath[M])===-1)return!1;return!0}return!1}).sort(function($,M){return $.keyPath.length-M.keyPath.length})[0];if(h&&this.db._maxKey!==Si){var v=h.keyPath.slice(0,c.length);return this.where(v).equals(v.map(function($){return o[$]}))}!h&&Wn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var y=this.schema.idxByName;function b($,M){return ze($,M)===0}var x=c.reduce(function($,M){var F=$[0],Q=$[1],D=y[M],P=o[M];return[F||D,F||!D?Ei(Q,D&&D.multi?function(U){var H=O(U,M);return f(H)&&H.some(function(Y){return b(P,Y)})}:function(U){return b(P,O(U,M))}):Q]},[null,null]),T=x[0],k=x[1];return T?this.where(T.name).equals(o[T.keyPath]).filter(k):h?this.filter(k):this.where(c).equals("")},a.prototype.filter=function(o){return this.toCollection().and(o)},a.prototype.count=function(o){return this.toCollection().count(o)},a.prototype.offset=function(o){return this.toCollection().offset(o)},a.prototype.limit=function(o){return this.toCollection().limit(o)},a.prototype.each=function(o){return this.toCollection().each(o)},a.prototype.toArray=function(o){return this.toCollection().toArray(o)},a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},a.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,f(o)?"[".concat(o.join("+"),"]"):o))},a.prototype.reverse=function(){return this.toCollection().reverse()},a.prototype.mapToClass=function(o){var c=this,h=c.db,v=c.name;this.schema.mappedClass=o,o.prototype instanceof Ed&&(o=function(T){r(k,T);function k(){return T!==null&&T.apply(this,arguments)||this}return Object.defineProperty(k.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),k.prototype.table=function(){return v},k}(o));for(var y=new Set,b=o.prototype;b;b=m(b))Object.getOwnPropertyNames(b).forEach(function(T){return y.add(T)});var x=function(T){if(!T)return T;var k=Object.create(o.prototype);for(var $ in T)if(!y.has($))try{k[$]=T[$]}catch{}return k};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=x,this.hook("reading",x),o},a.prototype.defineClass=function(){function o(c){d(this,c)}return this.mapToClass(o)},a.prototype.add=function(o,c){var h=this,v=this.schema.primKey,y=v.auto,b=v.keyPath,x=o;return b&&y&&(x=Es(b)(o)),this._trans("readwrite",function(T){return h.core.mutate({trans:T,type:"add",keys:c!=null?[c]:null,values:[x]})}).then(function(T){return T.numFailures?se.reject(T.failures[0]):T.lastResult}).then(function(T){if(b)try{te(o,b,T)}catch{}return T})},a.prototype.update=function(o,c){if(typeof o=="object"&&!f(o)){var h=O(o,this.schema.primKey.keyPath);return h===void 0?ct(new ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(c)}else return this.where(":id").equals(o).modify(c)},a.prototype.put=function(o,c){var h=this,v=this.schema.primKey,y=v.auto,b=v.keyPath,x=o;return b&&y&&(x=Es(b)(o)),this._trans("readwrite",function(T){return h.core.mutate({trans:T,type:"put",values:[x],keys:c!=null?[c]:null})}).then(function(T){return T.numFailures?se.reject(T.failures[0]):T.lastResult}).then(function(T){if(b)try{te(o,b,T)}catch{}return T})},a.prototype.delete=function(o){var c=this;return this._trans("readwrite",function(h){return c.core.mutate({trans:h,type:"delete",keys:[o]}).then(function(v){return ks(c,[o],v)}).then(function(v){return v.numFailures?se.reject(v.failures[0]):void 0})})},a.prototype.clear=function(){var o=this;return this._trans("readwrite",function(c){return o.core.mutate({trans:c,type:"deleteRange",range:Sd}).then(function(h){return ks(o,null,h)})}).then(function(c){return c.numFailures?se.reject(c.failures[0]):void 0})},a.prototype.bulkGet=function(o){var c=this;return this._trans("readonly",function(h){return c.core.getMany({keys:o,trans:h}).then(function(v){return v.map(function(y){return c.hook.reading.fire(y)})})})},a.prototype.bulkAdd=function(o,c,h){var v=this,y=Array.isArray(c)?c:void 0;h=h||(y?void 0:c);var b=h?h.allKeys:void 0;return this._trans("readwrite",function(x){var T=v.schema.primKey,k=T.auto,$=T.keyPath;if($&&y)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==o.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var M=o.length,F=$&&k?o.map(Es($)):o;return v.core.mutate({trans:x,type:"add",keys:y,values:F,wantResults:b}).then(function(Q){var D=Q.numFailures,P=Q.results,U=Q.lastResult,H=Q.failures,Y=b?P:U;if(D===0)return Y;throw new ut("".concat(v.name,".bulkAdd(): ").concat(D," of ").concat(M," operations failed"),H)})})},a.prototype.bulkPut=function(o,c,h){var v=this,y=Array.isArray(c)?c:void 0;h=h||(y?void 0:c);var b=h?h.allKeys:void 0;return this._trans("readwrite",function(x){var T=v.schema.primKey,k=T.auto,$=T.keyPath;if($&&y)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==o.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var M=o.length,F=$&&k?o.map(Es($)):o;return v.core.mutate({trans:x,type:"put",keys:y,values:F,wantResults:b}).then(function(Q){var D=Q.numFailures,P=Q.results,U=Q.lastResult,H=Q.failures,Y=b?P:U;if(D===0)return Y;throw new ut("".concat(v.name,".bulkPut(): ").concat(D," of ").concat(M," operations failed"),H)})})},a.prototype.bulkUpdate=function(o){var c=this,h=this.core,v=o.map(function(x){return x.key}),y=o.map(function(x){return x.changes}),b=[];return this._trans("readwrite",function(x){return h.getMany({trans:x,keys:v,cache:"clone"}).then(function(T){var k=[],$=[];o.forEach(function(F,Q){var D=F.key,P=F.changes,U=T[Q];if(U){for(var H=0,Y=Object.keys(P);H<Y.length;H++){var K=Y[H],V=P[K];if(K===c.schema.primKey.keyPath){if(ze(V,D)!==0)throw new ne.Constraint("Cannot update primary key in bulkUpdate()")}else te(U,K,V)}b.push(Q),k.push(D),$.push(U)}});var M=k.length;return h.mutate({trans:x,type:"put",keys:k,values:$,updates:{keys:v,changeSpecs:y}}).then(function(F){var Q=F.numFailures,D=F.failures;if(Q===0)return M;for(var P=0,U=Object.keys(D);P<U.length;P++){var H=U[P],Y=b[Number(H)];if(Y!=null){var K=D[H];delete D[H],D[Y]=K}}throw new ut("".concat(c.name,".bulkUpdate(): ").concat(Q," of ").concat(M," operations failed"),D)})})})},a.prototype.bulkDelete=function(o){var c=this,h=o.length;return this._trans("readwrite",function(v){return c.core.mutate({trans:v,type:"delete",keys:o}).then(function(y){return ks(c,o,y)})}).then(function(v){var y=v.numFailures,b=v.lastResult,x=v.failures;if(y===0)return b;throw new ut("".concat(c.name,".bulkDelete(): ").concat(y," of ").concat(h," operations failed"),x)})},a}();function Qa(a){var o={},c=function(x,T){if(T){for(var k=arguments.length,$=new Array(k-1);--k;)$[k-1]=arguments[k];return o[x].subscribe.apply(null,$),a}else if(typeof x=="string")return o[x]};c.addEventType=y;for(var h=1,v=arguments.length;h<v;++h)y(arguments[h]);return c;function y(x,T,k){if(typeof x=="object")return b(x);T||(T=v1),k||(k=Xe);var $={subscribers:[],fire:k,subscribe:function(M){$.subscribers.indexOf(M)===-1&&($.subscribers.push(M),$.fire=T($.fire,M))},unsubscribe:function(M){$.subscribers=$.subscribers.filter(function(F){return F!==M}),$.fire=$.subscribers.reduce(T,k)}};return o[x]=c[x]=$,$}function b(x){l(x).forEach(function(T){var k=x[T];if(f(k))y(T,x[T][0],x[T][1]);else if(k==="asap")var $=y(T,Cr,function(){for(var F=arguments.length,Q=new Array(F);F--;)Q[F]=arguments[F];$.subscribers.forEach(function(D){L(function(){D.apply(null,Q)})})});else throw new ne.InvalidArgument("Invalid event config")})}}function Za(a,o){return E(o).from({prototype:a}),o}function M1(a){return Za(Ad.prototype,function(c,h,v){this.db=a,this._tx=v,this.name=c,this.schema=h,this.hook=a._allTables[c]?a._allTables[c].hook:Qa(null,{creating:[f1,Xe],reading:[hd,Cr],updating:[d1,Xe],deleting:[h1,Xe]})})}function ua(a,o){return!(a.filter||a.algorithm||a.or)&&(o?a.justLimit:!a.replayFilter)}function Sl(a,o){a.filter=Ei(a.filter,o)}function El(a,o,c){var h=a.replayFilter;a.replayFilter=h?function(){return Ei(h(),o())}:o,a.justLimit=c&&!h}function D1(a,o){a.isMatch=Ei(a.isMatch,o)}function Cs(a,o){if(a.isPrimKey)return o.primaryKey;var c=o.getIndexByKeyPath(a.index);if(!c)throw new ne.Schema("KeyPath "+a.index+" on object store "+o.name+" is not indexed");return c}function Md(a,o,c){var h=Cs(a,o.schema);return o.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:h,range:a.range}})}function As(a,o,c,h){var v=a.replayFilter?Ei(a.filter,a.replayFilter()):a.filter;if(a.or){var y={},b=function(x,T,k){if(!v||v(T,k,function(F){return T.stop(F)},function(F){return T.fail(F)})){var $=T.primaryKey,M=""+$;M==="[object ArrayBuffer]"&&(M=""+new Uint8Array($)),g(y,M)||(y[M]=!0,o(x,T,k))}};return Promise.all([a.or._iterate(b,c),Dd(Md(a,h,c),a.algorithm,b,!a.keysOnly&&a.valueMapper)])}else return Dd(Md(a,h,c),Ei(a.algorithm,v),o,!a.keysOnly&&a.valueMapper)}function Dd(a,o,c,h){var v=h?function(b,x,T){return c(h(b),x,T)}:c,y=ot(v);return a.then(function(b){if(b)return b.start(function(){var x=function(){return b.continue()};(!o||o(b,function(T){return x=T},function(T){b.stop(T),x=Xe},function(T){b.fail(T),x=Xe}))&&y(b.value,b,function(T){return x=T}),x()})})}var Ja=function(){function a(o){this["@@propmod"]=o}return a.prototype.execute=function(o){var c,h=this["@@propmod"];if(h.add!==void 0){var v=h.add;if(f(v))return s(s([],f(o)?o:[],!0),v).sort();if(typeof v=="number")return(Number(o)||0)+v;if(typeof v=="bigint")try{return BigInt(o)+v}catch{return BigInt(0)+v}throw new TypeError("Invalid term ".concat(v))}if(h.remove!==void 0){var y=h.remove;if(f(y))return f(o)?o.filter(function(x){return!y.includes(x)}).sort():[];if(typeof y=="number")return Number(o)-y;if(typeof y=="bigint")try{return BigInt(o)-y}catch{return BigInt(0)-y}throw new TypeError("Invalid subtrahend ".concat(y))}var b=(c=h.replacePrefix)===null||c===void 0?void 0:c[0];return b&&typeof o=="string"&&o.startsWith(b)?h.replacePrefix[1]+o.substring(b.length):o},a}(),$1=function(){function a(){}return a.prototype._read=function(o,c){var h=this._ctx;return h.error?h.table._trans(null,ct.bind(null,h.error)):h.table._trans("readonly",o).then(c)},a.prototype._write=function(o){var c=this._ctx;return c.error?c.table._trans(null,ct.bind(null,c.error)):c.table._trans("readwrite",o,"locked")},a.prototype._addAlgorithm=function(o){var c=this._ctx;c.algorithm=Ei(c.algorithm,o)},a.prototype._iterate=function(o,c){return As(this._ctx,o,c,this._ctx.table.core)},a.prototype.clone=function(o){var c=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return o&&d(h,o),c._ctx=h,c},a.prototype.raw=function(){return this._ctx.valueMapper=null,this},a.prototype.each=function(o){var c=this._ctx;return this._read(function(h){return As(c,o,h,c.table.core)})},a.prototype.count=function(o){var c=this;return this._read(function(h){var v=c._ctx,y=v.table.core;if(ua(v,!0))return y.count({trans:h,query:{index:Cs(v,y.schema),range:v.range}}).then(function(x){return Math.min(x,v.limit)});var b=0;return As(v,function(){return++b,!1},h,y).then(function(){return b})}).then(o)},a.prototype.sortBy=function(o,c){var h=o.split(".").reverse(),v=h[0],y=h.length-1;function b(k,$){return $?b(k[h[$]],$-1):k[v]}var x=this._ctx.dir==="next"?1:-1;function T(k,$){var M=b(k,y),F=b($,y);return ze(M,F)*x}return this.toArray(function(k){return k.sort(T)}).then(c)},a.prototype.toArray=function(o){var c=this;return this._read(function(h){var v=c._ctx;if(v.dir==="next"&&ua(v,!0)&&v.limit>0){var y=v.valueMapper,b=Cs(v,v.table.core.schema);return v.table.core.query({trans:h,limit:v.limit,values:!0,query:{index:b,range:v.range}}).then(function(T){var k=T.result;return y?k.map(y):k})}else{var x=[];return As(v,function(T){return x.push(T)},h,v.table.core).then(function(){return x})}},o)},a.prototype.offset=function(o){var c=this._ctx;return o<=0?this:(c.offset+=o,ua(c)?El(c,function(){var h=o;return function(v,y){return h===0?!0:h===1?(--h,!1):(y(function(){v.advance(h),h=0}),!1)}}):El(c,function(){var h=o;return function(){return--h<0}}),this)},a.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),El(this._ctx,function(){var c=o;return function(h,v,y){return--c<=0&&v(y),c>=0}},!0),this},a.prototype.until=function(o,c){return Sl(this._ctx,function(h,v,y){return o(h.value)?(v(y),c):!0}),this},a.prototype.first=function(o){return this.limit(1).toArray(function(c){return c[0]}).then(o)},a.prototype.last=function(o){return this.reverse().first(o)},a.prototype.filter=function(o){return Sl(this._ctx,function(c){return o(c.value)}),D1(this._ctx,o),this},a.prototype.and=function(o){return this.filter(o)},a.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},a.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},a.prototype.desc=function(){return this.reverse()},a.prototype.eachKey=function(o){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,v){o(v.key,v)})},a.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},a.prototype.eachPrimaryKey=function(o){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,v){o(v.primaryKey,v)})},a.prototype.keys=function(o){var c=this._ctx;c.keysOnly=!c.isMatch;var h=[];return this.each(function(v,y){h.push(y.key)}).then(function(){return h}).then(o)},a.prototype.primaryKeys=function(o){var c=this._ctx;if(c.dir==="next"&&ua(c,!0)&&c.limit>0)return this._read(function(v){var y=Cs(c,c.table.core.schema);return c.table.core.query({trans:v,values:!1,limit:c.limit,query:{index:y,range:c.range}})}).then(function(v){var y=v.result;return y}).then(o);c.keysOnly=!c.isMatch;var h=[];return this.each(function(v,y){h.push(y.primaryKey)}).then(function(){return h}).then(o)},a.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},a.prototype.firstKey=function(o){return this.limit(1).keys(function(c){return c[0]}).then(o)},a.prototype.lastKey=function(o){return this.reverse().firstKey(o)},a.prototype.distinct=function(){var o=this._ctx,c=o.index&&o.table.schema.idxByName[o.index];if(!c||!c.multi)return this;var h={};return Sl(this._ctx,function(v){var y=v.primaryKey.toString(),b=g(h,y);return h[y]=!0,!b}),this},a.prototype.modify=function(o){var c=this,h=this._ctx;return this._write(function(v){var y;if(typeof o=="function")y=o;else{var b=l(o),x=b.length;y=function(K){for(var V=!1,z=0;z<x;++z){var Z=b[z],ae=o[Z],re=O(K,Z);ae instanceof Ja?(te(K,Z,ae.execute(re)),V=!0):re!==ae&&(te(K,Z,ae),V=!0)}return V}}var T=h.table.core,k=T.schema.primaryKey,$=k.outbound,M=k.extractKey,F=200,Q=c.db._options.modifyChunkSize;Q&&(typeof Q=="object"?F=Q[T.name]||Q["*"]||200:F=Q);var D=[],P=0,U=[],H=function(K,V){var z=V.failures,Z=V.numFailures;P+=K-Z;for(var ae=0,re=l(z);ae<re.length;ae++){var xe=re[ae];D.push(z[xe])}},Y=o===$d;return c.clone().primaryKeys().then(function(K){var V=ua(h)&&h.limit===1/0&&(typeof o!="function"||Y)&&{index:h.index,range:h.range},z=function(Z){var ae=Math.min(F,K.length-Z),re=K.slice(Z,Z+ae);return(Y?Promise.resolve([]):T.getMany({trans:v,keys:re,cache:"immutable"})).then(function(xe){var Oe=[],he=[],je=$?[]:null,ye=Y?re:[];if(!Y)for(var Ve=0;Ve<ae;++Ve){var Se=xe[Ve],Je={value:Qe(Se),primKey:K[Z+Ve]};y.call(Je,Je.value,Je)!==!1&&(Je.value==null?ye.push(K[Z+Ve]):!$&&ze(M(Se),M(Je.value))!==0?(ye.push(K[Z+Ve]),Oe.push(Je.value)):(he.push(Je.value),$&&je.push(K[Z+Ve])))}return Promise.resolve(Oe.length>0&&T.mutate({trans:v,type:"add",values:Oe}).then(function(rt){for(var wn in rt.failures)ye.splice(parseInt(wn),1);H(Oe.length,rt)})).then(function(){return(he.length>0||V&&typeof o=="object")&&T.mutate({trans:v,type:"put",keys:je,values:he,criteria:V,changeSpec:typeof o!="function"&&o,isAdditionalChunk:Z>0}).then(function(rt){return H(he.length,rt)})}).then(function(){return(ye.length>0||V&&Y)&&T.mutate({trans:v,type:"delete",keys:ye,criteria:V,isAdditionalChunk:Z>0}).then(function(rt){return ks(h.table,ye,rt)}).then(function(rt){return H(ye.length,rt)})}).then(function(){return K.length>Z+ae&&z(Z+F)})})};return z(0).then(function(){if(D.length>0)throw new Ke("Error modifying one or more objects",D,P,U);return K.length})})})},a.prototype.delete=function(){var o=this._ctx,c=o.range;return ua(o)&&!o.table.schema.yProps&&(o.isPrimKey||c.type===3)?this._write(function(h){var v=o.table.core.schema.primaryKey,y=c;return o.table.core.count({trans:h,query:{index:v,range:y}}).then(function(b){return o.table.core.mutate({trans:h,type:"deleteRange",range:y}).then(function(x){var T=x.failures,k=x.numFailures;if(k)throw new Ke("Could not delete some values",Object.keys(T).map(function($){return T[$]}),b-k);return b-k})})}):this.modify($d)},a}(),$d=function(a,o){return o.value=null};function P1(a){return Za($1.prototype,function(c,h){this.db=a;var v=Sd,y=null;if(h)try{v=h()}catch(k){y=k}var b=c._ctx,x=b.table,T=x.hook.reading.fire;this._ctx={table:x,index:b.index,isPrimKey:!b.index||x.schema.primKey.keyPath&&b.index===x.schema.primKey.name,range:v,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:y,or:b.or,valueMapper:T!==Cr?T:null}})}function R1(a,o){return a<o?-1:a===o?0:1}function I1(a,o){return a>o?-1:a===o?0:1}function an(a,o,c){var h=a instanceof Rd?new a.Collection(a):a;return h._ctx.error=c?new c(o):new TypeError(o),h}function la(a){return new a.Collection(a,function(){return Pd("")}).limit(0)}function O1(a){return a==="next"?function(o){return o.toUpperCase()}:function(o){return o.toLowerCase()}}function F1(a){return a==="next"?function(o){return o.toLowerCase()}:function(o){return o.toUpperCase()}}function N1(a,o,c,h,v,y){for(var b=Math.min(a.length,h.length),x=-1,T=0;T<b;++T){var k=o[T];if(k!==h[T])return v(a[T],c[T])<0?a.substr(0,T)+c[T]+c.substr(T+1):v(a[T],h[T])<0?a.substr(0,T)+h[T]+c.substr(T+1):x>=0?a.substr(0,x)+o[x]+c.substr(x+1):null;v(a[T],k)<0&&(x=T)}return b<h.length&&y==="next"?a+c.substr(a.length):b<a.length&&y==="prev"?a.substr(0,c.length):x<0?null:a.substr(0,x)+h[x]+c.substr(x+1)}function Ms(a,o,c,h){var v,y,b,x,T,k,$,M=c.length;if(!c.every(function(P){return typeof P=="string"}))return an(a,Td);function F(P){v=O1(P),y=F1(P),b=P==="next"?R1:I1;var U=c.map(function(H){return{lower:y(H),upper:v(H)}}).sort(function(H,Y){return b(H.lower,Y.lower)});x=U.map(function(H){return H.upper}),T=U.map(function(H){return H.lower}),k=P,$=P==="next"?"":h}F("next");var Q=new a.Collection(a,function(){return Pr(x[0],T[M-1]+h)});Q._ondirectionchange=function(P){F(P)};var D=0;return Q._addAlgorithm(function(P,U,H){var Y=P.key;if(typeof Y!="string")return!1;var K=y(Y);if(o(K,T,D))return!0;for(var V=null,z=D;z<M;++z){var Z=N1(Y,K,x[z],T[z],b,k);Z===null&&V===null?D=z+1:(V===null||b(V,Z)>0)&&(V=Z)}return U(V!==null?function(){P.continue(V+$)}:H),!1}),Q}function Pr(a,o,c,h){return{type:2,lower:a,upper:o,lowerOpen:c,upperOpen:h}}function Pd(a){return{type:1,lower:a,upper:a}}var Rd=function(){function a(){}return Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),a.prototype.between=function(o,c,h,v){h=h!==!1,v=v===!0;try{return this._cmp(o,c)>0||this._cmp(o,c)===0&&(h||v)&&!(h&&v)?la(this):new this.Collection(this,function(){return Pr(o,c,!h,!v)})}catch{return an(this,hr)}},a.prototype.equals=function(o){return o==null?an(this,hr):new this.Collection(this,function(){return Pd(o)})},a.prototype.above=function(o){return o==null?an(this,hr):new this.Collection(this,function(){return Pr(o,void 0,!0)})},a.prototype.aboveOrEqual=function(o){return o==null?an(this,hr):new this.Collection(this,function(){return Pr(o,void 0,!1)})},a.prototype.below=function(o){return o==null?an(this,hr):new this.Collection(this,function(){return Pr(void 0,o,!1,!0)})},a.prototype.belowOrEqual=function(o){return o==null?an(this,hr):new this.Collection(this,function(){return Pr(void 0,o)})},a.prototype.startsWith=function(o){return typeof o!="string"?an(this,Td):this.between(o,o+Si,!0,!0)},a.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Ms(this,function(c,h){return c.indexOf(h[0])===0},[o],Si)},a.prototype.equalsIgnoreCase=function(o){return Ms(this,function(c,h){return c===h[0]},[o],"")},a.prototype.anyOfIgnoreCase=function(){var o=Mt.apply(rn,arguments);return o.length===0?la(this):Ms(this,function(c,h){return h.indexOf(c)!==-1},o,"")},a.prototype.startsWithAnyOfIgnoreCase=function(){var o=Mt.apply(rn,arguments);return o.length===0?la(this):Ms(this,function(c,h){return h.some(function(v){return c.indexOf(v)===0})},o,Si)},a.prototype.anyOf=function(){var o=this,c=Mt.apply(rn,arguments),h=this._cmp;try{c.sort(h)}catch{return an(this,hr)}if(c.length===0)return la(this);var v=new this.Collection(this,function(){return Pr(c[0],c[c.length-1])});v._ondirectionchange=function(b){h=b==="next"?o._ascending:o._descending,c.sort(h)};var y=0;return v._addAlgorithm(function(b,x,T){for(var k=b.key;h(k,c[y])>0;)if(++y,y===c.length)return x(T),!1;return h(k,c[y])===0?!0:(x(function(){b.continue(c[y])}),!1)}),v},a.prototype.notEqual=function(o){return this.inAnyRange([[bl,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},a.prototype.noneOf=function(){var o=Mt.apply(rn,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return an(this,hr)}var c=o.reduce(function(h,v){return h?h.concat([[h[h.length-1][1],v]]):[[bl,v]]},null);return c.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},a.prototype.inAnyRange=function(o,c){var h=this,v=this._cmp,y=this._ascending,b=this._descending,x=this._min,T=this._max;if(o.length===0)return la(this);if(!o.every(function(z){return z[0]!==void 0&&z[1]!==void 0&&y(z[0],z[1])<=0}))return an(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);var k=!c||c.includeLowers!==!1,$=c&&c.includeUppers===!0;function M(z,Z){for(var ae=0,re=z.length;ae<re;++ae){var xe=z[ae];if(v(Z[0],xe[1])<0&&v(Z[1],xe[0])>0){xe[0]=x(xe[0],Z[0]),xe[1]=T(xe[1],Z[1]);break}}return ae===re&&z.push(Z),z}var F=y;function Q(z,Z){return F(z[0],Z[0])}var D;try{D=o.reduce(M,[]),D.sort(Q)}catch{return an(this,hr)}var P=0,U=$?function(z){return y(z,D[P][1])>0}:function(z){return y(z,D[P][1])>=0},H=k?function(z){return b(z,D[P][0])>0}:function(z){return b(z,D[P][0])>=0};function Y(z){return!U(z)&&!H(z)}var K=U,V=new this.Collection(this,function(){return Pr(D[0][0],D[D.length-1][1],!k,!$)});return V._ondirectionchange=function(z){z==="next"?(K=U,F=y):(K=H,F=b),D.sort(Q)},V._addAlgorithm(function(z,Z,ae){for(var re=z.key;K(re);)if(++P,P===D.length)return Z(ae),!1;return Y(re)?!0:(h._cmp(re,D[P][1])===0||h._cmp(re,D[P][0])===0||Z(function(){F===y?z.continue(D[P][0]):z.continue(D[P][1])}),!1)}),V},a.prototype.startsWithAnyOf=function(){var o=Mt.apply(rn,arguments);return o.every(function(c){return typeof c=="string"})?o.length===0?la(this):this.inAnyRange(o.map(function(c){return[c,c+Si]})):an(this,"startsWithAnyOf() only works with strings")},a}();function U1(a){return Za(Rd.prototype,function(c,h,v){if(this.db=a,this._ctx={table:c,index:h===":id"?null:h,or:v},this._cmp=this._ascending=ze,this._descending=function(y,b){return ze(b,y)},this._max=function(y,b){return ze(y,b)>0?y:b},this._min=function(y,b){return ze(y,b)<0?y:b},this._IDBKeyRange=a._deps.IDBKeyRange,!this._IDBKeyRange)throw new ne.MissingAPI})}function qn(a){return ot(function(o){return eo(o),a(o.target.error),!1})}function eo(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var to="storagemutated",kl="x-storagemutated-1",Rr=Qa(null,to),L1=function(){function a(){}return a.prototype._lock=function(){return R(!me.global),++this._reculock,this._reculock===1&&!me.global&&(me.lockOwnerFor=this),this},a.prototype._unlock=function(){if(R(!me.global),--this._reculock===0)for(me.global||(me.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var o=this._blockedFuncs.shift();try{Ti(o[1],o[0])}catch{}}return this},a.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},a.prototype.create=function(o){var c=this;if(!this.mode)return this;var h=this.db.idbdb,v=this.db._state.dbOpenError;if(R(!this.idbtrans),!o&&!h)switch(v&&v.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(v);case"MissingAPIError":throw new ne.MissingAPI(v.message,v);default:throw new ne.OpenFailed(v)}if(!this.active)throw new ne.TransactionInactive;return R(this._completion._state===null),o=this.idbtrans=o||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):h.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),o.onerror=ot(function(y){eo(y),c._reject(o.error)}),o.onabort=ot(function(y){eo(y),c.active&&c._reject(new ne.Abort(o.error)),c.active=!1,c.on("abort").fire(y)}),o.oncomplete=ot(function(){c.active=!1,c._resolve(),"mutatedParts"in o&&Rr.storagemutated.fire(o.mutatedParts)}),this},a.prototype._promise=function(o,c,h){var v=this;if(o==="readwrite"&&this.mode!=="readwrite")return ct(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return ct(new ne.TransactionInactive);if(this._locked())return new se(function(b,x){v._blockedFuncs.push([function(){v._promise(o,c,h).then(b,x)},me])});if(h)return Mr(function(){var b=new se(function(x,T){v._lock();var k=c(x,T,v);k&&k.then&&k.then(x,T)});return b.finally(function(){return v._unlock()}),b._lib=!0,b});var y=new se(function(b,x){var T=c(b,x,v);T&&T.then&&T.then(b,x)});return y._lib=!0,y},a.prototype._root=function(){return this.parent?this.parent._root():this},a.prototype.waitFor=function(o){var c=this._root(),h=se.resolve(o);if(c._waitingFor)c._waitingFor=c._waitingFor.then(function(){return h});else{c._waitingFor=h,c._waitingQueue=[];var v=c.idbtrans.objectStore(c.storeNames[0]);(function b(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(v.get(-1/0).onsuccess=b)})()}var y=c._waitingFor;return new se(function(b,x){h.then(function(T){return c._waitingQueue.push(ot(b.bind(null,T)))},function(T){return c._waitingQueue.push(ot(x.bind(null,T)))}).finally(function(){c._waitingFor===y&&(c._waitingFor=null)})})},a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))},a.prototype.table=function(o){var c=this._memoizedTables||(this._memoizedTables={});if(g(c,o))return c[o];var h=this.schema[o];if(!h)throw new ne.NotFound("Table "+o+" not part of transaction");var v=new this.db.Table(o,h,this);return v.core=this.db.core.table(o),c[o]=v,v},a}();function B1(a){return Za(L1.prototype,function(c,h,v,y,b){var x=this;c!=="readonly"&&h.forEach(function(T){var k,$=(k=v[T])===null||k===void 0?void 0:k.yProps;$&&(h=h.concat($.map(function(M){return M.updatesTable})))}),this.db=a,this.mode=c,this.storeNames=h,this.schema=v,this.chromeTransactionDurability=y,this.idbtrans=null,this.on=Qa(this,"complete","error","abort"),this.parent=b||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new se(function(T,k){x._resolve=T,x._reject=k}),this._completion.then(function(){x.active=!1,x.on.complete.fire()},function(T){var k=x.active;return x.active=!1,x.on.error.fire(T),x.parent?x.parent._reject(T):k&&x.idbtrans&&x.idbtrans.abort(),ct(T)})})}function Cl(a,o,c,h,v,y,b,x){return{name:a,keyPath:o,unique:c,multi:h,auto:v,compound:y,src:(c&&!b?"&":"")+(h?"*":"")+(v?"++":"")+Id(o),type:x}}function Id(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Al(a,o,c){return{name:a,primKey:o,indexes:c,mappedClass:null,idxByName:J(c,function(h){return[h.name,h]})}}function K1(a){return a.length===1?a[0]:a}var no=function(a){try{return a.only([[]]),no=function(){return[[]]},[[]]}catch{return no=function(){return Si},Si}};function Ml(a){return a==null?function(){}:typeof a=="string"?j1(a):function(o){return O(o,a)}}function j1(a){var o=a.split(".");return o.length===1?function(c){return c[a]}:function(c){return O(c,a)}}function Od(a){return[].slice.call(a)}var z1=0;function ro(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function H1(a,o,c){function h(M,F){var Q=Od(M.objectStoreNames);return{schema:{name:M.name,tables:Q.map(function(D){return F.objectStore(D)}).map(function(D){var P=D.keyPath,U=D.autoIncrement,H=f(P),Y=P==null,K={},V={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Y,compound:H,keyPath:P,autoIncrement:U,unique:!0,extractKey:Ml(P)},indexes:Od(D.indexNames).map(function(z){return D.index(z)}).map(function(z){var Z=z.name,ae=z.unique,re=z.multiEntry,xe=z.keyPath,Oe=f(xe),he={name:Z,compound:Oe,keyPath:xe,unique:ae,multiEntry:re,extractKey:Ml(xe)};return K[ro(xe)]=he,he}),getIndexByKeyPath:function(z){return K[ro(z)]}};return K[":id"]=V.primaryKey,P!=null&&(K[ro(P)]=V.primaryKey),V})},hasGetAll:Q.length>0&&"getAll"in F.objectStore(Q[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function v(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var F=M.lower,Q=M.upper,D=M.lowerOpen,P=M.upperOpen,U=F===void 0?Q===void 0?null:o.upperBound(Q,!!P):Q===void 0?o.lowerBound(F,!!D):o.bound(F,Q,!!D,!!P);return U}function y(M){var F=M.name;function Q(U){var H=U.trans,Y=U.type,K=U.keys,V=U.values,z=U.range;return new Promise(function(Z,ae){Z=ot(Z);var re=H.objectStore(F),xe=re.keyPath==null,Oe=Y==="put"||Y==="add";if(!Oe&&Y!=="delete"&&Y!=="deleteRange")throw new Error("Invalid operation type: "+Y);var he=(K||V||{length:1}).length;if(K&&V&&K.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(he===0)return Z({numFailures:0,failures:{},results:[],lastResult:void 0});var je,ye=[],Ve=[],Se=0,Je=function(Xn){++Se,eo(Xn)};if(Y==="deleteRange"){if(z.type===4)return Z({numFailures:Se,failures:Ve,results:[],lastResult:void 0});z.type===3?ye.push(je=re.clear()):ye.push(je=re.delete(v(z)))}else{var rt=Oe?xe?[V,K]:[V,null]:[K,null],wn=rt[0],Wt=rt[1];if(Oe)for(var bn=0;bn<he;++bn)ye.push(je=Wt&&Wt[bn]!==void 0?re[Y](wn[bn],Wt[bn]):re[Y](wn[bn])),je.onerror=Je;else for(var bn=0;bn<he;++bn)ye.push(je=re[Y](wn[bn])),je.onerror=Je}var Fr=function(Xn){var oo=Xn.target.result;ye.forEach(function(Mn,Ks){return Mn.error!=null&&(Ve[Ks]=Mn.error)}),Z({numFailures:Se,failures:Ve,results:Y==="delete"?K:ye.map(function(Mn){return Mn.result}),lastResult:oo})};je.onerror=function(Xn){Je(Xn),Fr(Xn)},je.onsuccess=Fr})}function D(U){var H=U.trans,Y=U.values,K=U.query,V=U.reverse,z=U.unique;return new Promise(function(Z,ae){Z=ot(Z);var re=K.index,xe=K.range,Oe=H.objectStore(F),he=re.isPrimaryKey?Oe:Oe.index(re.name),je=V?z?"prevunique":"prev":z?"nextunique":"next",ye=Y||!("openKeyCursor"in he)?he.openCursor(v(xe),je):he.openKeyCursor(v(xe),je);ye.onerror=qn(ae),ye.onsuccess=ot(function(Ve){var Se=ye.result;if(!Se){Z(null);return}Se.___id=++z1,Se.done=!1;var Je=Se.continue.bind(Se),rt=Se.continuePrimaryKey;rt&&(rt=rt.bind(Se));var wn=Se.advance.bind(Se),Wt=function(){throw new Error("Cursor not started")},bn=function(){throw new Error("Cursor not stopped")};Se.trans=H,Se.stop=Se.continue=Se.continuePrimaryKey=Se.advance=Wt,Se.fail=ot(ae),Se.next=function(){var Fr=this,Xn=1;return this.start(function(){return Xn--?Fr.continue():Fr.stop()}).then(function(){return Fr})},Se.start=function(Fr){var Xn=new Promise(function(Mn,Ks){Mn=ot(Mn),ye.onerror=qn(Ks),Se.fail=Ks,Se.stop=function($x){Se.stop=Se.continue=Se.continuePrimaryKey=Se.advance=bn,Mn($x)}}),oo=function(){if(ye.result)try{Fr()}catch(Mn){Se.fail(Mn)}else Se.done=!0,Se.start=function(){throw new Error("Cursor behind last entry")},Se.stop()};return ye.onsuccess=ot(function(Mn){ye.onsuccess=oo,oo()}),Se.continue=Je,Se.continuePrimaryKey=rt,Se.advance=wn,oo(),Xn},Z(Se)},ae)})}function P(U){return function(H){return new Promise(function(Y,K){Y=ot(Y);var V=H.trans,z=H.values,Z=H.limit,ae=H.query,re=Z===1/0?void 0:Z,xe=ae.index,Oe=ae.range,he=V.objectStore(F),je=xe.isPrimaryKey?he:he.index(xe.name),ye=v(Oe);if(Z===0)return Y({result:[]});if(U){var Ve=z?je.getAll(ye,re):je.getAllKeys(ye,re);Ve.onsuccess=function(wn){return Y({result:wn.target.result})},Ve.onerror=qn(K)}else{var Se=0,Je=z||!("openKeyCursor"in je)?je.openCursor(ye):je.openKeyCursor(ye),rt=[];Je.onsuccess=function(wn){var Wt=Je.result;if(!Wt)return Y({result:rt});if(rt.push(z?Wt.value:Wt.primaryKey),++Se===Z)return Y({result:rt});Wt.continue()},Je.onerror=qn(K)}})}}return{name:F,schema:M,mutate:Q,getMany:function(U){var H=U.trans,Y=U.keys;return new Promise(function(K,V){K=ot(K);for(var z=H.objectStore(F),Z=Y.length,ae=new Array(Z),re=0,xe=0,Oe,he=function(Se){var Je=Se.target;(ae[Je._pos]=Je.result)!=null,++xe===re&&K(ae)},je=qn(V),ye=0;ye<Z;++ye){var Ve=Y[ye];Ve!=null&&(Oe=z.get(Y[ye]),Oe._pos=ye,Oe.onsuccess=he,Oe.onerror=je,++re)}re===0&&K(ae)})},get:function(U){var H=U.trans,Y=U.key;return new Promise(function(K,V){K=ot(K);var z=H.objectStore(F),Z=z.get(Y);Z.onsuccess=function(ae){return K(ae.target.result)},Z.onerror=qn(V)})},query:P(T),openCursor:D,count:function(U){var H=U.query,Y=U.trans,K=H.index,V=H.range;return new Promise(function(z,Z){var ae=Y.objectStore(F),re=K.isPrimaryKey?ae:ae.index(K.name),xe=v(V),Oe=xe?re.count(xe):re.count();Oe.onsuccess=ot(function(he){return z(he.target.result)}),Oe.onerror=qn(Z)})}}}var b=h(a,c),x=b.schema,T=b.hasGetAll,k=x.tables.map(function(M){return y(M)}),$={};return k.forEach(function(M){return $[M.name]=M}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(M){var F=$[M];if(!F)throw new Error("Table '".concat(M,"' not found"));return $[M]},MIN_KEY:-1/0,MAX_KEY:no(o),schema:x}}function Y1(a,o){return o.reduce(function(c,h){var v=h.create;return i(i({},c),v(c))},a)}function V1(a,o,c,h){var v=c.IDBKeyRange;c.indexedDB;var y=Y1(H1(o,v,h),a.dbcore);return{dbcore:y}}function Ds(a,o){var c=o.db,h=V1(a._middlewares,c,a._deps,o);a.core=h.dbcore,a.tables.forEach(function(v){var y=v.name;a.core.schema.tables.some(function(b){return b.name===y})&&(v.core=a.core.table(y),a[y]instanceof a.Table&&(a[y].core=v.core))})}function $s(a,o,c,h){c.forEach(function(v){var y=h[v];o.forEach(function(b){var x=N(b,v);(!x||"value"in x&&x.value===void 0)&&(b===a.Transaction.prototype||b instanceof a.Transaction?S(b,v,{get:function(){return this.table(v)},set:function(T){w(this,v,{value:T,writable:!0,configurable:!0,enumerable:!0})}}):b[v]=new a.Table(v,y))})})}function Dl(a,o){o.forEach(function(c){for(var h in c)c[h]instanceof a.Table&&delete c[h]})}function W1(a,o){return a._cfg.version-o._cfg.version}function q1(a,o,c,h){var v=a._dbSchema;c.objectStoreNames.contains("$meta")&&!v.$meta&&(v.$meta=Al("$meta",Nd("")[0],[]),a._storeNames.push("$meta"));var y=a._createTransaction("readwrite",a._storeNames,v);y.create(c),y._completion.catch(h);var b=y._reject.bind(y),x=me.transless||me;Mr(function(){if(me.trans=y,me.transless=x,o===0)l(v).forEach(function(T){Pl(c,T,v[T].primKey,v[T].indexes)}),Ds(a,c),se.follow(function(){return a.on.populate.fire(y)}).catch(b);else return Ds(a,c),G1(a,y,o).then(function(T){return Q1(a,T,y,c)}).catch(b)})}function X1(a,o){Fd(a._dbSchema,o),o.db.version%10===0&&!o.objectStoreNames.contains("$meta")&&o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var c=Rs(a,a.idbdb,o);Is(a,a._dbSchema,o);for(var h=$l(c,a._dbSchema),v=function(k){if(k.change.length||k.recreate)return console.warn("Unable to patch indexes of table ".concat(k.name," because it has changes on the type of index or primary key.")),{value:void 0};var $=o.objectStore(k.name);k.add.forEach(function(M){Wn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(k.name,".").concat(M.src)),Ps($,M)})},y=0,b=h.change;y<b.length;y++){var x=b[y],T=v(x);if(typeof T=="object")return T.value}}function G1(a,o,c){return o.storeNames.includes("$meta")?o.table("$meta").get("version").then(function(h){return h??c}):se.resolve(c)}function Q1(a,o,c,h){var v=[],y=a._versions,b=a._dbSchema=Rs(a,a.idbdb,h),x=y.filter(function(k){return k._cfg.version>=o});if(x.length===0)return se.resolve();x.forEach(function(k){v.push(function(){var $=b,M=k._cfg.dbschema;Is(a,$,h),Is(a,M,h),b=a._dbSchema=M;var F=$l($,M);F.add.forEach(function(Y){Pl(h,Y[0],Y[1].primKey,Y[1].indexes)}),F.change.forEach(function(Y){if(Y.recreate)throw new ne.Upgrade("Not yet support for changing primary key");var K=h.objectStore(Y.name);Y.add.forEach(function(V){return Ps(K,V)}),Y.change.forEach(function(V){K.deleteIndex(V.name),Ps(K,V)}),Y.del.forEach(function(V){return K.deleteIndex(V)})});var Q=k._cfg.contentUpgrade;if(Q&&k._cfg.version>o){Ds(a,h),c._memoizedTables={};var D=oe(M);F.del.forEach(function(Y){D[Y]=$[Y]}),Dl(a,[a.Transaction.prototype]),$s(a,[a.Transaction.prototype],l(D),D),c.schema=D;var P=ue(Q);P&&oa();var U,H=se.follow(function(){if(U=Q(c),U&&P){var Y=Dr.bind(null,null);U.then(Y,Y)}});return U&&typeof U.then=="function"?se.resolve(U):H.then(function(){return U})}}),v.push(function($){var M=k._cfg.dbschema;Z1(M,$),Dl(a,[a.Transaction.prototype]),$s(a,[a.Transaction.prototype],a._storeNames,a._dbSchema),c.schema=a._dbSchema}),v.push(function($){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===k._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(M){return M!=="$meta"})):$.objectStore("$meta").put(k._cfg.version,"version"))})});function T(){return v.length?se.resolve(v.shift()(c.idbtrans)).then(T):se.resolve()}return T().then(function(){Fd(b,h)})}function $l(a,o){var c={del:[],add:[],change:[]},h;for(h in a)o[h]||c.del.push(h);for(h in o){var v=a[h],y=o[h];if(!v)c.add.push([h,y]);else{var b={name:h,def:y,recreate:!1,del:[],add:[],change:[]};if(""+(v.primKey.keyPath||"")!=""+(y.primKey.keyPath||"")||v.primKey.auto!==y.primKey.auto)b.recreate=!0,c.change.push(b);else{var x=v.idxByName,T=y.idxByName,k=void 0;for(k in x)T[k]||b.del.push(k);for(k in T){var $=x[k],M=T[k];$?$.src!==M.src&&b.change.push(M):b.add.push(M)}(b.del.length>0||b.add.length>0||b.change.length>0)&&c.change.push(b)}}}return c}function Pl(a,o,c,h){var v=a.db.createObjectStore(o,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return h.forEach(function(y){return Ps(v,y)}),v}function Fd(a,o){l(a).forEach(function(c){o.db.objectStoreNames.contains(c)||(Wn&&console.debug("Dexie: Creating missing table",c),Pl(o,c,a[c].primKey,a[c].indexes))})}function Z1(a,o){[].slice.call(o.db.objectStoreNames).forEach(function(c){return a[c]==null&&o.db.deleteObjectStore(c)})}function Ps(a,o){a.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function Rs(a,o,c){var h={},v=j(o.objectStoreNames,0);return v.forEach(function(y){for(var b=c.objectStore(y),x=b.keyPath,T=Cl(Id(x),x||"",!0,!1,!!b.autoIncrement,x&&typeof x!="string",!0),k=[],$=0;$<b.indexNames.length;++$){var M=b.index(b.indexNames[$]);x=M.keyPath;var F=Cl(M.name,x,!!M.unique,!!M.multiEntry,!1,x&&typeof x!="string",!1);k.push(F)}h[y]=Al(y,T,k)}),h}function J1(a,o,c){a.verno=o.version/10;var h=a._dbSchema=Rs(a,o,c);a._storeNames=j(o.objectStoreNames,0),$s(a,[a._allTables],l(h),h)}function ex(a,o){var c=Rs(a,a.idbdb,o),h=$l(c,a._dbSchema);return!(h.add.length||h.change.some(function(v){return v.add.length||v.change.length}))}function Is(a,o,c){for(var h=c.db.objectStoreNames,v=0;v<h.length;++v){var y=h[v],b=c.objectStore(y);a._hasGetAll="getAll"in b;for(var x=0;x<b.indexNames.length;++x){var T=b.indexNames[x],k=b.index(T).keyPath,$=typeof k=="string"?k:"["+j(k).join("+")+"]";if(o[y]){var M=o[y].idxByName[$];M&&(M.name=T,delete o[y].idxByName[$],o[y].idxByName[T]=M)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Nd(a){return a.split(",").map(function(o,c){var h,v=o.split(":"),y=(h=v[1])===null||h===void 0?void 0:h.trim();o=v[0].trim();var b=o.replace(/([&*]|\+\+)/g,""),x=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Cl(b,x||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),f(x),c===0,y)})}var tx=function(){function a(){}return a.prototype._createTableSchema=function(o,c,h){return Al(o,c,h)},a.prototype._parseIndexSyntax=function(o){return Nd(o)},a.prototype._parseStoresSpec=function(o,c){var h=this;l(o).forEach(function(v){if(o[v]!==null){var y=h._parseIndexSyntax(o[v]),b=y.shift();if(!b)throw new ne.Schema("Invalid schema for table "+v+": "+o[v]);if(b.unique=!0,b.multi)throw new ne.Schema("Primary key cannot be multiEntry*");y.forEach(function(T){if(T.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!T.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")});var x=h._createTableSchema(v,b,y);c[v]=x}})},a.prototype.stores=function(o){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,o):o;var h=c._versions,v={},y={};return h.forEach(function(b){d(v,b._cfg.storesSource),y=b._cfg.dbschema={},b._parseStoresSpec(v,y)}),c._dbSchema=y,Dl(c,[c._allTables,c,c.Transaction.prototype]),$s(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],l(y),y),c._storeNames=l(y),this},a.prototype.upgrade=function(o){return this._cfg.contentUpgrade=cl(this._cfg.contentUpgrade||Xe,o),this},a}();function nx(a){return Za(tx.prototype,function(c){this.db=a,this._cfg={version:c,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Rl(a,o){var c=a._dbNamesDB;return c||(c=a._dbNamesDB=new dr(Ss,{addons:[],indexedDB:a,IDBKeyRange:o}),c.version(1).stores({dbnames:"name"})),c.table("dbnames")}function Il(a){return a&&typeof a.databases=="function"}function rx(a){var o=a.indexedDB,c=a.IDBKeyRange;return Il(o)?Promise.resolve(o.databases()).then(function(h){return h.map(function(v){return v.name}).filter(function(v){return v!==Ss})}):Rl(o,c).toCollection().primaryKeys()}function ix(a,o){var c=a.indexedDB,h=a.IDBKeyRange;!Il(c)&&o!==Ss&&Rl(c,h).put({name:o}).catch(Xe)}function ax(a,o){var c=a.indexedDB,h=a.IDBKeyRange;!Il(c)&&o!==Ss&&Rl(c,h).delete(o).catch(Xe)}function Ol(a){return Mr(function(){return me.letThrough=!0,a()})}function ox(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var o;return new Promise(function(c){var h=function(){return indexedDB.databases().finally(c)};o=setInterval(h,100),h()}).finally(function(){return clearInterval(o)})}var Fl;function Nl(a){return!("from"in a)}var Dt=function(a,o){if(this)d(this,arguments.length?{d:1,from:a,to:arguments.length>1?o:a}:{d:0});else{var c=new Dt;return a&&"d"in a&&d(c,a),c}};_(Dt.prototype,(Fl={add:function(a){return ao(this,a),this},addKey:function(a){return io(this,a,a),this},addKeys:function(a){var o=this;return a.forEach(function(c){return io(o,c,c)}),this},hasKey:function(a){var o=Os(this).next(a).value;return o&&ze(o.from,a)<=0&&ze(o.to,a)>=0}},Fl[_n]=function(){return Os(this)},Fl));function io(a,o,c){var h=ze(o,c);if(!isNaN(h)){if(h>0)throw RangeError();if(Nl(a))return d(a,{from:o,to:c,d:1});var v=a.l,y=a.r;if(ze(c,a.from)<0)return v?io(v,o,c):a.l={from:o,to:c,d:1,l:null,r:null},Ld(a);if(ze(o,a.to)>0)return y?io(y,o,c):a.r={from:o,to:c,d:1,l:null,r:null},Ld(a);ze(o,a.from)<0&&(a.from=o,a.l=null,a.d=y?y.d+1:1),ze(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);var b=!a.r;v&&!a.l&&ao(a,v),y&&b&&ao(a,y)}}function ao(a,o){function c(h,v){var y=v.from,b=v.to,x=v.l,T=v.r;io(h,y,b),x&&c(h,x),T&&c(h,T)}Nl(o)||c(a,o)}function Ud(a,o){var c=Os(o),h=c.next();if(h.done)return!1;for(var v=h.value,y=Os(a),b=y.next(v.from),x=b.value;!h.done&&!b.done;){if(ze(x.from,v.to)<=0&&ze(x.to,v.from)>=0)return!0;ze(v.from,x.from)<0?v=(h=c.next(x.from)).value:x=(b=y.next(v.from)).value}return!1}function Os(a){var o=Nl(a)?null:{s:0,n:a};return{next:function(c){for(var h=arguments.length>0;o;)switch(o.s){case 0:if(o.s=1,h)for(;o.n.l&&ze(c,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!h||ze(c,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Ld(a){var o,c,h=(((o=a.r)===null||o===void 0?void 0:o.d)||0)-(((c=a.l)===null||c===void 0?void 0:c.d)||0),v=h>1?"r":h<-1?"l":"";if(v){var y=v==="r"?"l":"r",b=i({},a),x=a[v];a.from=x.from,a.to=x.to,a[v]=x[v],b[v]=x[y],a[y]=b,b.d=Bd(b)}a.d=Bd(a)}function Bd(a){var o=a.r,c=a.l;return(o?c?Math.max(o.d,c.d):o.d:c?c.d:0)+1}function Fs(a,o){return l(o).forEach(function(c){a[c]?ao(a[c],o[c]):a[c]=we(o[c])}),a}function Ul(a,o){return a.all||o.all||Object.keys(a).some(function(c){return o[c]&&Ud(o[c],a[c])})}var ki={},Ll={},Bl=!1;function Ns(a,o){Fs(Ll,a),Bl||(Bl=!0,setTimeout(function(){Bl=!1;var c=Ll;Ll={},Kl(c,!1)},0))}function Kl(a,o){o===void 0&&(o=!1);var c=new Set;if(a.all)for(var h=0,v=Object.values(ki);h<v.length;h++){var y=v[h];Kd(y,a,c,o)}else for(var b in a){var x=/^idb\:\/\/(.*)\/(.*)\//.exec(b);if(x){var T=x[1],k=x[2],y=ki["idb://".concat(T,"/").concat(k)];y&&Kd(y,a,c,o)}}c.forEach(function($){return $()})}function Kd(a,o,c,h){for(var v=[],y=0,b=Object.entries(a.queries.query);y<b.length;y++){for(var x=b[y],T=x[0],k=x[1],$=[],M=0,F=k;M<F.length;M++){var Q=F[M];Ul(o,Q.obsSet)?Q.subscribers.forEach(function(H){return c.add(H)}):h&&$.push(Q)}h&&v.push([T,$])}if(h)for(var D=0,P=v;D<P.length;D++){var U=P[D],T=U[0],$=U[1];a.queries.query[T]=$}}function sx(a){var o=a._state,c=a._deps.indexedDB;if(o.isBeingOpened||a.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?ct(o.dbOpenError):a});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var h=o.openCanceller,v=Math.round(a.verno*10),y=!1;function b(){if(o.openCanceller!==h)throw new ne.DatabaseClosed("db.open() was cancelled")}var x=o.dbReadyResolve,T=null,k=!1,$=function(){return new se(function(M,F){if(b(),!c)throw new ne.MissingAPI;var Q=a.name,D=o.autoSchema||!v?c.open(Q):c.open(Q,v);if(!D)throw new ne.MissingAPI;D.onerror=qn(F),D.onblocked=ot(a._fireOnBlocked),D.onupgradeneeded=ot(function(P){if(T=D.transaction,o.autoSchema&&!a._options.allowEmptyDB){D.onerror=eo,T.abort(),D.result.close();var U=c.deleteDatabase(Q);U.onsuccess=U.onerror=ot(function(){F(new ne.NoSuchDatabase("Database ".concat(Q," doesnt exist")))})}else{T.onerror=qn(F);var H=P.oldVersion>Math.pow(2,62)?0:P.oldVersion;k=H<1,a.idbdb=D.result,y&&X1(a,T),q1(a,H/10,T,F)}},F),D.onsuccess=ot(function(){T=null;var P=a.idbdb=D.result,U=j(P.objectStoreNames);if(U.length>0)try{var H=P.transaction(K1(U),"readonly");if(o.autoSchema)J1(a,P,H);else if(Is(a,a._dbSchema,H),!ex(a,H)&&!y)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),P.close(),v=P.version+1,y=!0,M($());Ds(a,H)}catch{}sa.push(a),P.onversionchange=ot(function(Y){o.vcFired=!0,a.on("versionchange").fire(Y)}),P.onclose=ot(function(Y){a.on("close").fire(Y)}),k&&ix(a._deps,Q),M()},F)}).catch(function(M){switch(M==null?void 0:M.name){case"UnknownError":if(o.PR1398_maxLoop>0)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),$();break;case"VersionError":if(v>0)return v=0,$();break}return se.reject(M)})};return se.race([h,(typeof navigator>"u"?se.resolve():ox()).then($)]).then(function(){return b(),o.onReadyBeingFired=[],se.resolve(Ol(function(){return a.on.ready.fire(a.vip)})).then(function M(){if(o.onReadyBeingFired.length>0){var F=o.onReadyBeingFired.reduce(cl,Xe);return o.onReadyBeingFired=[],se.resolve(Ol(function(){return F(a.vip)})).then(M)}})}).finally(function(){o.openCanceller===h&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(M){o.dbOpenError=M;try{T&&T.abort()}catch{}return h===o.openCanceller&&a._close(),ct(M)}).finally(function(){o.openComplete=!0,x()}).then(function(){if(k){var M={};a.tables.forEach(function(F){F.schema.indexes.forEach(function(Q){Q.name&&(M["idb://".concat(a.name,"/").concat(F.name,"/").concat(Q.name)]=new Dt(-1/0,[[[]]]))}),M["idb://".concat(a.name,"/").concat(F.name,"/")]=M["idb://".concat(a.name,"/").concat(F.name,"/:dels")]=new Dt(-1/0,[[[]]])}),Rr(to).fire(M),Kl(M,!0)}return a})}function jl(a){var o=function(b){return a.next(b)},c=function(b){return a.throw(b)},h=y(o),v=y(c);function y(b){return function(x){var T=b(x),k=T.value;return T.done?k:!k||typeof k.then!="function"?f(k)?Promise.all(k).then(h,v):h(k):k.then(h,v)}}return y(o)()}function ux(a,o,c){var h=arguments.length;if(h<2)throw new ne.InvalidArgument("Too few arguments");for(var v=new Array(h-1);--h;)v[h-1]=arguments[h];c=v.pop();var y=ce(v);return[a,y,c]}function jd(a,o,c,h,v){return se.resolve().then(function(){var y=me.transless||me,b=a._createTransaction(o,c,a._dbSchema,h);b.explicit=!0;var x={trans:b,transless:y};if(h)b.idbtrans=h.idbtrans;else try{b.create(),b.idbtrans._explicit=!0,a._state.PR1398_maxLoop=3}catch(M){return M.name===ie.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),a.close({disableAutoOpen:!1}),a.open().then(function(){return jd(a,o,c,null,v)})):ct(M)}var T=ue(v);T&&oa();var k,$=se.follow(function(){if(k=v.call(b,b),k)if(T){var M=Dr.bind(null,null);k.then(M,M)}else typeof k.next=="function"&&typeof k.throw=="function"&&(k=jl(k))},x);return(k&&typeof k.then=="function"?se.resolve(k).then(function(M){return b.active?M:ct(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return k})).then(function(M){return h&&b._resolve(),b._completion.then(function(){return M})}).catch(function(M){return b._reject(M),ct(M)})})}function Us(a,o,c){for(var h=f(a)?a.slice():[a],v=0;v<c;++v)h.push(o);return h}function lx(a){return i(i({},a),{table:function(o){var c=a.table(o),h=c.schema,v={},y=[];function b(P,U,H){var Y=ro(P),K=v[Y]=v[Y]||[],V=P==null?0:typeof P=="string"?1:P.length,z=U>0,Z=i(i({},H),{name:z?"".concat(Y,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:z,keyTail:U,keyLength:V,extractKey:Ml(P),unique:!z&&H.unique});if(K.push(Z),Z.isPrimaryKey||y.push(Z),V>1){var ae=V===2?P[0]:P.slice(0,V-1);b(ae,U+1,H)}return K.sort(function(re,xe){return re.keyTail-xe.keyTail}),Z}var x=b(h.primaryKey.keyPath,0,h.primaryKey);v[":id"]=[x];for(var T=0,k=h.indexes;T<k.length;T++){var $=k[T];b($.keyPath,0,$)}function M(P){var U=v[ro(P)];return U&&U[0]}function F(P,U){return{type:P.type===1?2:P.type,lower:Us(P.lower,P.lowerOpen?a.MAX_KEY:a.MIN_KEY,U),lowerOpen:!0,upper:Us(P.upper,P.upperOpen?a.MIN_KEY:a.MAX_KEY,U),upperOpen:!0}}function Q(P){var U=P.query.index;return U.isVirtual?i(i({},P),{query:{index:U.lowLevelIndex,range:F(P.query.range,U.keyTail)}}):P}var D=i(i({},c),{schema:i(i({},h),{primaryKey:x,indexes:y,getIndexByKeyPath:M}),count:function(P){return c.count(Q(P))},query:function(P){return c.query(Q(P))},openCursor:function(P){var U=P.query.index,H=U.keyTail,Y=U.isVirtual,K=U.keyLength;if(!Y)return c.openCursor(P);function V(z){function Z(re){re!=null?z.continue(Us(re,P.reverse?a.MAX_KEY:a.MIN_KEY,H)):P.unique?z.continue(z.key.slice(0,K).concat(P.reverse?a.MIN_KEY:a.MAX_KEY,H)):z.continue()}var ae=Object.create(z,{continue:{value:Z},continuePrimaryKey:{value:function(re,xe){z.continuePrimaryKey(Us(re,a.MAX_KEY,H),xe)}},primaryKey:{get:function(){return z.primaryKey}},key:{get:function(){var re=z.key;return K===1?re[0]:re.slice(0,K)}},value:{get:function(){return z.value}}});return ae}return c.openCursor(Q(P)).then(function(z){return z&&V(z)})}});return D}})}var cx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:lx};function zl(a,o,c,h){return c=c||{},h=h||"",l(a).forEach(function(v){if(!g(o,v))c[h+v]=void 0;else{var y=a[v],b=o[v];if(typeof y=="object"&&typeof b=="object"&&y&&b){var x=yn(y),T=yn(b);x!==T?c[h+v]=o[v]:x==="Object"?zl(y,b,c,h+v+"."):y!==b&&(c[h+v]=o[v])}else y!==b&&(c[h+v]=o[v])}}),l(o).forEach(function(v){g(a,v)||(c[h+v]=o[v])}),c}function Hl(a,o){return o.type==="delete"?o.keys:o.keys||o.values.map(a.extractKey)}var fx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return i(i({},a),{table:function(o){var c=a.table(o),h=c.schema.primaryKey,v=i(i({},c),{mutate:function(y){var b=me.trans,x=b.table(o).hook,T=x.deleting,k=x.creating,$=x.updating;switch(y.type){case"add":if(k.fire===Xe)break;return b._promise("readwrite",function(){return M(y)},!0);case"put":if(k.fire===Xe&&$.fire===Xe)break;return b._promise("readwrite",function(){return M(y)},!0);case"delete":if(T.fire===Xe)break;return b._promise("readwrite",function(){return M(y)},!0);case"deleteRange":if(T.fire===Xe)break;return b._promise("readwrite",function(){return F(y)},!0)}return c.mutate(y);function M(D){var P=me.trans,U=D.keys||Hl(h,D);if(!U)throw new Error("Keys missing");return D=D.type==="add"||D.type==="put"?i(i({},D),{keys:U}):i({},D),D.type!=="delete"&&(D.values=s([],D.values)),D.keys&&(D.keys=s([],D.keys)),hx(c,D,U).then(function(H){var Y=U.map(function(K,V){var z=H[V],Z={onerror:null,onsuccess:null};if(D.type==="delete")T.fire.call(Z,K,z,P);else if(D.type==="add"||z===void 0){var ae=k.fire.call(Z,K,D.values[V],P);K==null&&ae!=null&&(K=ae,D.keys[V]=K,h.outbound||te(D.values[V],h.keyPath,K))}else{var re=zl(z,D.values[V]),xe=$.fire.call(Z,re,K,z,P);if(xe){var Oe=D.values[V];Object.keys(xe).forEach(function(he){g(Oe,he)?Oe[he]=xe[he]:te(Oe,he,xe[he])})}}return Z});return c.mutate(D).then(function(K){for(var V=K.failures,z=K.results,Z=K.numFailures,ae=K.lastResult,re=0;re<U.length;++re){var xe=z?z[re]:U[re],Oe=Y[re];xe==null?Oe.onerror&&Oe.onerror(V[re]):Oe.onsuccess&&Oe.onsuccess(D.type==="put"&&H[re]?D.values[re]:xe)}return{failures:V,results:z,numFailures:Z,lastResult:ae}}).catch(function(K){return Y.forEach(function(V){return V.onerror&&V.onerror(K)}),Promise.reject(K)})})}function F(D){return Q(D.trans,D.range,1e4)}function Q(D,P,U){return c.query({trans:D,values:!1,query:{index:h,range:P},limit:U}).then(function(H){var Y=H.result;return M({type:"delete",keys:Y,trans:D}).then(function(K){return K.numFailures>0?Promise.reject(K.failures[0]):Y.length<U?{failures:[],numFailures:0,lastResult:void 0}:Q(D,i(i({},P),{lower:Y[Y.length-1],lowerOpen:!0}),U)})})}}});return v}})}};function hx(a,o,c){return o.type==="add"?Promise.resolve([]):a.getMany({trans:o.trans,keys:c,cache:"immutable"})}function zd(a,o,c){try{if(!o||o.keys.length<a.length)return null;for(var h=[],v=0,y=0;v<o.keys.length&&y<a.length;++v)ze(o.keys[v],a[y])===0&&(h.push(c?Qe(o.values[v]):o.values[v]),++y);return h.length===a.length?h:null}catch{return null}}var dx={stack:"dbcore",level:-1,create:function(a){return{table:function(o){var c=a.table(o);return i(i({},c),{getMany:function(h){if(!h.cache)return c.getMany(h);var v=zd(h.keys,h.trans._cache,h.cache==="clone");return v?se.resolve(v):c.getMany(h).then(function(y){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?Qe(y):y},y})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),c.mutate(h)}})}}}};function Hd(a,o){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Yd(a,o){switch(a){case"query":return o.values&&!o.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var vx={stack:"dbcore",level:0,name:"Observability",create:function(a){var o=a.schema.name,c=new Dt(a.MIN_KEY,a.MAX_KEY);return i(i({},a),{transaction:function(h,v,y){if(me.subscr&&v!=="readonly")throw new ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return a.transaction(h,v,y)},table:function(h){var v=a.table(h),y=v.schema,b=y.primaryKey,x=y.indexes,T=b.extractKey,k=b.outbound,$=b.autoIncrement&&x.filter(function(D){return D.compound&&D.keyPath.includes(b.keyPath)}),M=i(i({},v),{mutate:function(D){var P,U,H=D.trans,Y=D.mutatedParts||(D.mutatedParts={}),K=function(ye){var Ve="idb://".concat(o,"/").concat(h,"/").concat(ye);return Y[Ve]||(Y[Ve]=new Dt)},V=K(""),z=K(":dels"),Z=D.type,ae=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[Hl(b,D).filter(function(ye){return ye}),D.values]:[],re=ae[0],xe=ae[1],Oe=D.trans._cache;if(f(re)){V.addKeys(re);var he=Z==="delete"||re.length===xe.length?zd(re,Oe):null;he||z.addKeys(re),(he||xe)&&px(K,y,he,xe)}else if(re){var je={from:(P=re.lower)!==null&&P!==void 0?P:a.MIN_KEY,to:(U=re.upper)!==null&&U!==void 0?U:a.MAX_KEY};z.add(je),V.add(je)}else V.add(c),z.add(c),y.indexes.forEach(function(ye){return K(ye.name).add(c)});return v.mutate(D).then(function(ye){return re&&(D.type==="add"||D.type==="put")&&(V.addKeys(ye.results),$&&$.forEach(function(Ve){for(var Se=D.values.map(function(Wt){return Ve.extractKey(Wt)}),Je=Ve.keyPath.findIndex(function(Wt){return Wt===b.keyPath}),rt=0,wn=ye.results.length;rt<wn;++rt)Se[rt][Je]=ye.results[rt];K(Ve.name).addKeys(Se)})),H.mutatedParts=Fs(H.mutatedParts||{},Y),ye})}}),F=function(D){var P,U,H=D.query,Y=H.index,K=H.range;return[Y,new Dt((P=K.lower)!==null&&P!==void 0?P:a.MIN_KEY,(U=K.upper)!==null&&U!==void 0?U:a.MAX_KEY)]},Q={get:function(D){return[b,new Dt(D.key)]},getMany:function(D){return[b,new Dt().addKeys(D.keys)]},count:F,query:F,openCursor:F};return l(Q).forEach(function(D){M[D]=function(P){var U=me.subscr,H=!!U,Y=Hd(me,v)&&Yd(D,P),K=Y?P.obsSet={}:U;if(H){var V=function(he){var je="idb://".concat(o,"/").concat(h,"/").concat(he);return K[je]||(K[je]=new Dt)},z=V(""),Z=V(":dels"),ae=Q[D](P),re=ae[0],xe=ae[1];if(D==="query"&&re.isPrimaryKey&&!P.values?Z.add(xe):V(re.name||"").add(xe),!re.isPrimaryKey)if(D==="count")Z.add(c);else{var Oe=D==="query"&&k&&P.values&&v.query(i(i({},P),{values:!1}));return v[D].apply(this,arguments).then(function(he){if(D==="query"){if(k&&P.values)return Oe.then(function(Se){var Je=Se.result;return z.addKeys(Je),he});var je=P.values?he.result.map(T):he.result;P.values?z.addKeys(je):Z.addKeys(je)}else if(D==="openCursor"){var ye=he,Ve=P.values;return ye&&Object.create(ye,{key:{get:function(){return Z.addKey(ye.primaryKey),ye.key}},primaryKey:{get:function(){var Se=ye.primaryKey;return Z.addKey(Se),Se}},value:{get:function(){return Ve&&z.addKey(ye.primaryKey),ye.value}}})}return he})}}return v[D].apply(this,arguments)}}),M}})}};function px(a,o,c,h){function v(y){var b=a(y.name||"");function x(k){return k!=null?y.extractKey(k):null}var T=function(k){return y.multiEntry&&f(k)?k.forEach(function($){return b.addKey($)}):b.addKey(k)};(c||h).forEach(function(k,$){var M=c&&x(c[$]),F=h&&x(h[$]);ze(M,F)!==0&&(M!=null&&T(M),F!=null&&T(F))})}o.indexes.forEach(v)}function Vd(a,o,c){if(c.numFailures===0)return o;if(o.type==="deleteRange")return null;var h=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;if(c.numFailures===h)return null;var v=i({},o);return f(v.keys)&&(v.keys=v.keys.filter(function(y,b){return!(b in c.failures)})),"values"in v&&f(v.values)&&(v.values=v.values.filter(function(y,b){return!(b in c.failures)})),v}function mx(a,o){return o.lower===void 0?!0:o.lowerOpen?ze(a,o.lower)>0:ze(a,o.lower)>=0}function gx(a,o){return o.upper===void 0?!0:o.upperOpen?ze(a,o.upper)<0:ze(a,o.upper)<=0}function Yl(a,o){return mx(a,o)&&gx(a,o)}function Wd(a,o,c,h,v,y){if(!c||c.length===0)return a;var b=o.query.index,x=b.multiEntry,T=o.query.range,k=h.schema.primaryKey,$=k.extractKey,M=b.extractKey,F=(b.lowLevelIndex||b).extractKey,Q=c.reduce(function(D,P){var U=D,H=[];if(P.type==="add"||P.type==="put")for(var Y=new Dt,K=P.values.length-1;K>=0;--K){var V=P.values[K],z=$(V);if(!Y.hasKey(z)){var Z=M(V);(x&&f(Z)?Z.some(function(he){return Yl(he,T)}):Yl(Z,T))&&(Y.addKey(z),H.push(V))}}switch(P.type){case"add":{var ae=new Dt().addKeys(o.values?D.map(function(he){return $(he)}):D);U=D.concat(o.values?H.filter(function(he){var je=$(he);return ae.hasKey(je)?!1:(ae.addKey(je),!0)}):H.map(function(he){return $(he)}).filter(function(he){return ae.hasKey(he)?!1:(ae.addKey(he),!0)}));break}case"put":{var re=new Dt().addKeys(P.values.map(function(he){return $(he)}));U=D.filter(function(he){return!re.hasKey(o.values?$(he):he)}).concat(o.values?H:H.map(function(he){return $(he)}));break}case"delete":var xe=new Dt().addKeys(P.keys);U=D.filter(function(he){return!xe.hasKey(o.values?$(he):he)});break;case"deleteRange":var Oe=P.range;U=D.filter(function(he){return!Yl($(he),Oe)});break}return U},a);return Q===a?a:(Q.sort(function(D,P){return ze(F(D),F(P))||ze($(D),$(P))}),o.limit&&o.limit<1/0&&(Q.length>o.limit?Q.length=o.limit:a.length===o.limit&&Q.length<o.limit&&(v.dirty=!0)),y?Object.freeze(Q):Q)}function qd(a,o){return ze(a.lower,o.lower)===0&&ze(a.upper,o.upper)===0&&!!a.lowerOpen==!!o.lowerOpen&&!!a.upperOpen==!!o.upperOpen}function yx(a,o,c,h){if(a===void 0)return o!==void 0?-1:0;if(o===void 0)return 1;var v=ze(a,o);if(v===0){if(c&&h)return 0;if(c)return 1;if(h)return-1}return v}function _x(a,o,c,h){if(a===void 0)return o!==void 0?1:0;if(o===void 0)return-1;var v=ze(a,o);if(v===0){if(c&&h)return 0;if(c)return-1;if(h)return 1}return v}function wx(a,o){return yx(a.lower,o.lower,a.lowerOpen,o.lowerOpen)<=0&&_x(a.upper,o.upper,a.upperOpen,o.upperOpen)>=0}function bx(a,o,c,h){var v=ki["idb://".concat(a,"/").concat(o)];if(!v)return[];var y=v.queries[c];if(!y)return[null,!1,v,null];var b=h.query?h.query.index.name:null,x=y[b||""];if(!x)return[null,!1,v,null];switch(c){case"query":var T=x.find(function(M){return M.req.limit===h.limit&&M.req.values===h.values&&qd(M.req.query.range,h.query.range)});if(T)return[T,!0,v,x];var k=x.find(function(M){var F="limit"in M.req?M.req.limit:1/0;return F>=h.limit&&(h.values?M.req.values:!0)&&wx(M.req.query.range,h.query.range)});return[k,!1,v,x];case"count":var $=x.find(function(M){return qd(M.req.query.range,h.query.range)});return[$,!!$,v,x]}}function xx(a,o,c,h){a.subscribers.add(c),h.addEventListener("abort",function(){a.subscribers.delete(c),a.subscribers.size===0&&Tx(a,o)})}function Tx(a,o){setTimeout(function(){a.subscribers.size===0&&Ft(o,a)},3e3)}var Sx={stack:"dbcore",level:0,name:"Cache",create:function(a){var o=a.schema.name,c=i(i({},a),{transaction:function(h,v,y){var b=a.transaction(h,v,y);if(v==="readwrite"){var x=new AbortController,T=x.signal,k=function($){return function(){if(x.abort(),v==="readwrite"){for(var M=new Set,F=0,Q=h;F<Q.length;F++){var D=Q[F],P=ki["idb://".concat(o,"/").concat(D)];if(P){var U=a.table(D),H=P.optimisticOps.filter(function(Ve){return Ve.trans===b});if(b._explicit&&$&&b.mutatedParts)for(var Y=0,K=Object.values(P.queries.query);Y<K.length;Y++)for(var V=K[Y],z=0,Z=V.slice();z<Z.length;z++){var ae=Z[z];Ul(ae.obsSet,b.mutatedParts)&&(Ft(V,ae),ae.subscribers.forEach(function(Ve){return M.add(Ve)}))}else if(H.length>0){P.optimisticOps=P.optimisticOps.filter(function(Ve){return Ve.trans!==b});for(var re=0,xe=Object.values(P.queries.query);re<xe.length;re++)for(var V=xe[re],Oe=0,he=V.slice();Oe<he.length;Oe++){var ae=he[Oe];if(ae.res!=null&&b.mutatedParts)if($&&!ae.dirty){var je=Object.isFrozen(ae.res),ye=Wd(ae.res,ae.req,H,U,ae,je);ae.dirty?(Ft(V,ae),ae.subscribers.forEach(function(Je){return M.add(Je)})):ye!==ae.res&&(ae.res=ye,ae.promise=se.resolve({result:ye}))}else ae.dirty&&Ft(V,ae),ae.subscribers.forEach(function(Je){return M.add(Je)})}}}}M.forEach(function(Ve){return Ve()})}}};b.addEventListener("abort",k(!1),{signal:T}),b.addEventListener("error",k(!1),{signal:T}),b.addEventListener("complete",k(!0),{signal:T})}return b},table:function(h){var v=a.table(h),y=v.schema.primaryKey,b=i(i({},v),{mutate:function(x){var T=me.trans;if(y.outbound||T.db._options.cache==="disabled"||T.explicit||T.idbtrans.mode!=="readwrite")return v.mutate(x);var k=ki["idb://".concat(o,"/").concat(h)];if(!k)return v.mutate(x);var $=v.mutate(x);return(x.type==="add"||x.type==="put")&&(x.values.length>=50||Hl(y,x).some(function(M){return M==null}))?$.then(function(M){var F=i(i({},x),{values:x.values.map(function(D,P){var U;if(M.failures[P])return D;var H=!((U=y.keyPath)===null||U===void 0)&&U.includes(".")?Qe(D):i({},D);return te(H,y.keyPath,M.results[P]),H})}),Q=Vd(k,F,M);k.optimisticOps.push(Q),queueMicrotask(function(){return x.mutatedParts&&Ns(x.mutatedParts)})}):(k.optimisticOps.push(x),x.mutatedParts&&Ns(x.mutatedParts),$.then(function(M){if(M.numFailures>0){Ft(k.optimisticOps,x);var F=Vd(k,x,M);F&&k.optimisticOps.push(F),x.mutatedParts&&Ns(x.mutatedParts)}}),$.catch(function(){Ft(k.optimisticOps,x),x.mutatedParts&&Ns(x.mutatedParts)})),$},query:function(x){var T;if(!Hd(me,v)||!Yd("query",x))return v.query(x);var k=((T=me.trans)===null||T===void 0?void 0:T.db._options.cache)==="immutable",$=me,M=$.requery,F=$.signal,Q=bx(o,h,"query",x),D=Q[0],P=Q[1],U=Q[2],H=Q[3];if(D&&P)D.obsSet=x.obsSet;else{var Y=v.query(x).then(function(K){var V=K.result;if(D&&(D.res=V),k){for(var z=0,Z=V.length;z<Z;++z)Object.freeze(V[z]);Object.freeze(V)}else K.result=Qe(V);return K}).catch(function(K){return H&&D&&Ft(H,D),Promise.reject(K)});D={obsSet:x.obsSet,promise:Y,subscribers:new Set,type:"query",req:x,dirty:!1},H?H.push(D):(H=[D],U||(U=ki["idb://".concat(o,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),U.queries.query[x.query.index.name||""]=H)}return xx(D,H,M,F),D.promise.then(function(K){return{result:Wd(K.result,x,U==null?void 0:U.optimisticOps,v,D,k)}})}});return b}});return c}};function Ls(a,o){return new Proxy(a,{get:function(c,h,v){return h==="db"?o:Reflect.get(c,h,v)}})}var dr=function(){function a(o,c){var h=this;this._middlewares={},this.verno=0;var v=a.dependencies;this._options=c=i({addons:a.addons,autoOpen:!0,indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};var y=c.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Xe,dbReadyPromise:null,cancelOpen:Xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};b.dbReadyPromise=new se(function(T){b.dbReadyResolve=T}),b.openCanceller=new se(function(T,k){b.cancelOpen=k}),this._state=b,this.name=o,this.on=Qa(this,"populate","blocked","versionchange","close",{ready:[cl,Xe]}),this.once=function(T,k){var $=function(){for(var M=[],F=0;F<arguments.length;F++)M[F]=arguments[F];h.on(T).unsubscribe($),k.apply(h,M)};return h.on(T,$)},this.on.ready.subscribe=q(this.on.ready.subscribe,function(T){return function(k,$){a.vip(function(){var M=h._state;if(M.openComplete)M.dbOpenError||se.resolve().then(k),$&&T(k);else if(M.onReadyBeingFired)M.onReadyBeingFired.push(k),$&&T(k);else{T(k);var F=h;$||T(function Q(){F.on.ready.unsubscribe(k),F.on.ready.unsubscribe(Q)})}})}}),this.Collection=P1(this),this.Table=M1(this),this.Transaction=B1(this),this.Version=nx(this),this.WhereClause=U1(this),this.on("versionchange",function(T){T.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(T){!T.newVersion||T.newVersion<T.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(T.oldVersion/10))}),this._maxKey=no(c.IDBKeyRange),this._createTransaction=function(T,k,$,M){return new h.Transaction(T,k,$,h._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(T){h.on("blocked").fire(T),sa.filter(function(k){return k.name===h.name&&k!==h&&!k._state.vcFired}).map(function(k){return k.on("versionchange").fire(T)})},this.use(dx),this.use(Sx),this.use(vx),this.use(cx),this.use(fx);var x=new Proxy(this,{get:function(T,k,$){if(k==="_vip")return!0;if(k==="table")return function(F){return Ls(h.table(F),x)};var M=Reflect.get(T,k,$);return M instanceof Ad?Ls(M,x):k==="tables"?M.map(function(F){return Ls(F,x)}):k==="_createTransaction"?function(){var F=M.apply(this,arguments);return Ls(F,x)}:M}});this.vip=x,y.forEach(function(T){return T(h)})}return a.prototype.version=function(o){if(isNaN(o)||o<.1)throw new ne.Type("Given version is not a positive number");if(o=Math.round(o*10)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var c=this._versions,h=c.filter(function(v){return v._cfg.version===o})[0];return h||(h=new this.Version(o),c.push(h),c.sort(W1),h.stores({}),this._state.autoSchema=!1,h)},a.prototype._whenReady=function(o){var c=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?o():new se(function(h,v){if(c._state.openComplete)return v(new ne.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen){v(new ne.DatabaseClosed);return}c.open().catch(Xe)}c._state.dbReadyPromise.then(h,v)}).then(o)},a.prototype.use=function(o){var c=o.stack,h=o.create,v=o.level,y=o.name;y&&this.unuse({stack:c,name:y});var b=this._middlewares[c]||(this._middlewares[c]=[]);return b.push({stack:c,create:h,level:v??10,name:y}),b.sort(function(x,T){return x.level-T.level}),this},a.prototype.unuse=function(o){var c=o.stack,h=o.name,v=o.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(y){return v?y.create!==v:h?y.name!==h:!1})),this},a.prototype.open=function(){var o=this;return Ti(Ar,function(){return sx(o)})},a.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,c=sa.indexOf(this);if(c>=0&&sa.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new se(function(h){o.dbReadyResolve=h}),o.openCanceller=new se(function(h,v){o.cancelOpen=v}))},a.prototype.close=function(o){var c=o===void 0?{disableAutoOpen:!0}:o,h=c.disableAutoOpen,v=this._state;h?(v.isBeingOpened&&v.cancelOpen(new ne.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new ne.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},a.prototype.delete=function(o){var c=this;o===void 0&&(o={disableAutoOpen:!0});var h=arguments.length>0&&typeof arguments[0]!="object",v=this._state;return new se(function(y,b){var x=function(){c.close(o);var T=c._deps.indexedDB.deleteDatabase(c.name);T.onsuccess=ot(function(){ax(c._deps,c.name),y()}),T.onerror=qn(b),T.onblocked=c._fireOnBlocked};if(h)throw new ne.InvalidArgument("Invalid closeOptions argument to db.delete()");v.isBeingOpened?v.dbReadyPromise.then(x):x()})},a.prototype.backendDB=function(){return this.idbdb},a.prototype.isOpen=function(){return this.idbdb!==null},a.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},a.prototype.hasFailed=function(){return this._state.dbOpenError!==null},a.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(a.prototype,"tables",{get:function(){var o=this;return l(this._allTables).map(function(c){return o._allTables[c]})},enumerable:!1,configurable:!0}),a.prototype.transaction=function(){var o=ux.apply(this,arguments);return this._transaction.apply(this,o)},a.prototype._transaction=function(o,c,h){var v=this,y=me.trans;(!y||y.db!==this||o.indexOf("!")!==-1)&&(y=null);var b=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");var x,T;try{if(T=c.map(function($){var M=$ instanceof v.Table?$.name:$;if(typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),o=="r"||o===xl)x=xl;else if(o=="rw"||o==Tl)x=Tl;else throw new ne.InvalidArgument("Invalid transaction mode: "+o);if(y){if(y.mode===xl&&x===Tl)if(b)y=null;else throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y&&T.forEach(function($){if(y&&y.storeNames.indexOf($)===-1)if(b)y=null;else throw new ne.SubTransaction("Table "+$+" not included in parent transaction.")}),b&&y&&!y.active&&(y=null)}}catch($){return y?y._promise(null,function(M,F){F($)}):ct($)}var k=jd.bind(null,this,x,T,y,h);return y?y._promise(x,k,"lock"):me.trans?Ti(me.transless,function(){return v._whenReady(k)}):this._whenReady(k)},a.prototype.table=function(o){if(!g(this._allTables,o))throw new ne.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},a}(),Ex=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",kx=function(){function a(o){this._subscribe=o}return a.prototype.subscribe=function(o,c,h){return this._subscribe(!o||typeof o=="function"?{next:o,error:c,complete:h}:o)},a.prototype[Ex]=function(){return this},a}(),Bs;try{Bs={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Bs={indexedDB:null,IDBKeyRange:null}}function Xd(a){var o=!1,c,h=new kx(function(v){var y=ue(a);function b(H){var Y=ia();try{y&&oa();var K=Mr(a,H);return y&&(K=K.finally(Dr)),K}finally{Y&&aa()}}var x=!1,T,k={},$={},M={get closed(){return x},unsubscribe:function(){x||(x=!0,T&&T.abort(),F&&Rr.storagemutated.unsubscribe(P))}};v.start&&v.start(M);var F=!1,Q=function(){return _l(U)};function D(){return Ul($,k)}var P=function(H){Fs(k,H),D()&&Q()},U=function(){if(!(x||!Bs.indexedDB)){k={};var H={};T&&T.abort(),T=new AbortController;var Y={subscr:H,signal:T.signal,requery:Q,querier:a,trans:null},K=b(Y);Promise.resolve(K).then(function(V){o=!0,c=V,!(x||Y.signal.aborted)&&(k={},$=H,!Ee($)&&!F&&(Rr(to,P),F=!0),_l(function(){return!x&&v.next&&v.next(V)}))},function(V){o=!1,["DatabaseClosedError","AbortError"].includes(V==null?void 0:V.name)||x||_l(function(){x||v.error&&v.error(V)})})}};return setTimeout(Q,0),M});return h.hasValue=function(){return o},h.getValue=function(){return c},h}var Ci=dr;_(Ci,i(i({},_i),{delete:function(a){var o=new Ci(a,{addons:[]});return o.delete()},exists:function(a){return new Ci(a,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return rx(Ci.dependencies).then(a)}catch{return ct(new ne.MissingAPI)}},defineClass:function(){function a(o){d(this,o)}return a},ignoreTransaction:function(a){return me.trans?Ti(me.transless,a):a()},vip:Ol,async:function(a){return function(){try{var o=jl(a.apply(this,arguments));return!o||typeof o.then!="function"?se.resolve(o):o}catch(c){return ct(c)}}},spawn:function(a,o,c){try{var h=jl(a.apply(c,o||[]));return!h||typeof h.then!="function"?se.resolve(h):h}catch(v){return ct(v)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(a,o){var c=se.resolve(typeof a=="function"?Ci.ignoreTransaction(a):a).timeout(o||6e4);return me.trans?me.trans.waitFor(c):c},Promise:se,debug:{get:function(){return Wn},set:function(a){dd(a)}},derive:E,extend:d,props:_,override:q,Events:Qa,on:Rr,liveQuery:Xd,extendObservabilitySet:Fs,getByKeyPath:O,setByKeyPath:te,delByKeyPath:X,shallowClone:oe,deepClone:Qe,getObjectDiff:zl,cmp:ze,asap:L,minKey:bl,addons:[],connections:sa,errnames:ie,dependencies:Bs,cache:ki,semVer:xd,version:xd.split(".").map(function(a){return parseInt(a)}).reduce(function(a,o,c){return a+o/Math.pow(10,c*2)})})),Ci.maxKey=no(Ci.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rr(to,function(a){if(!Ir){var o;o=new CustomEvent(kl,{detail:a}),Ir=!0,dispatchEvent(o),Ir=!1}}),addEventListener(kl,function(a){var o=a.detail;Ir||Vl(o)}));function Vl(a){var o=Ir;try{Ir=!0,Rr.storagemutated.fire(a),Kl(a,!0)}finally{Ir=o}}var Ir=!1,Or,Wl=function(){};typeof BroadcastChannel<"u"&&(Wl=function(){Or=new BroadcastChannel(kl),Or.onmessage=function(a){return a.data&&Vl(a.data)}},Wl(),typeof Or.unref=="function"&&Or.unref(),Rr(to,function(a){Ir||Or.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!dr.disableBfCache&&a.persisted){Wn&&console.debug("Dexie: handling persisted pagehide"),Or==null||Or.close();for(var o=0,c=sa;o<c.length;o++){var h=c[o];h.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(a){!dr.disableBfCache&&a.persisted&&(Wn&&console.debug("Dexie: handling persisted pageshow"),Wl(),Vl({all:new Dt(-1/0,[[]])}))}));function Cx(a){return new Ja({add:a})}function Ax(a){return new Ja({remove:a})}function Mx(a,o){return new Ja({replacePrefix:[a,o]})}se.rejectionMapper=fd,dd(Wn);var Dx=Object.freeze({__proto__:null,Dexie:dr,liveQuery:Xd,Entity:Ed,cmp:ze,PropModification:Ja,replacePrefix:Mx,add:Cx,remove:Ax,default:dr,RangeSet:Dt,mergeRanges:ao,rangesOverlap:Ud});return i(dr,Dx,{default:dr}),dr})}(fs)),fs.exports}var jb=Kb();const ll=Lb(jb),ud=Symbol.for("Dexie"),Ka=globalThis[ud]||(globalThis[ud]=ll);if(ll.semVer!==Ka.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ll.semVer} and ${Ka.semVer}`);const{liveQuery:Ux,mergeRanges:Lx,rangesOverlap:Bx,RangeSet:Kx,cmp:jx,Entity:zx,PropModification:Hx,replacePrefix:Yx,add:Vx,remove:Wx,DexieYProvider:qx}=Ka;Ka.debug=!0;const ht=new Ka("tm-short-info-db");ht.version(7).stores({attributes:"&id",clubs:"&id",coaches:"&id",competitions:"&id",players:"&id",referees:"&id"});const ld=Object.freeze({entityCachingTime:6e5,attributeCachingTime:864e5});async function zb(e,t){const n=await ht.attributes.get({id:"attributes"});if(!n||Date.now()-n.lastUpdated>ld.attributeCachingTime||n.cacheKey!==t){const{data:i,error:s}=await e.GET("/attributes");return s||!(i!=null&&i.data)?Promise.reject(new Error("Failed to fetch data for attributes")):(await ht.attributes.clear(),await ht.attributes.put({...i.data,id:"attributes",cacheKey:t,lastUpdated:Date.now()}),i.data)}const r=await ht.attributes.get("attributes");return r||Promise.reject(new Error("No cached data found for attributes"))}function ja(e,t,n){let r=[];return t=t.filter(i=>i!=="0"),e?(t.forEach((i,s)=>{const u=e[s]??null;(!u||u&&u.cacheKey!==n||u.lastUpdated<Date.now()-ld.entityCachingTime)&&i&&r.push(i)}),r.length&&(r=t),{notCachedIds:r}):{notCachedIds:t}}async function Hb(e,t,n){const r=await ht.clubs.bulkGet(e),{notCachedIds:i}=ja(r,e,n);if(i.length){await ht.clubs.where("id").anyOf(i).delete();const{data:s,error:u}=await t.GET("/clubs",{params:{query:{"ids[]":i}}});if(u||!(s!=null&&s.data))return Promise.reject(new Error("Failed to fetch clubs data"));const l=s.data.map(f=>{var d,m,p;return{id:f.id,name:f.name,shortName:f.baseDetails.shortName??f.name,abbreviation:f.baseDetails.abbreviation??"",clubCode:((d=f.preferences)==null?void 0:d.clubCode)??"",countryId:f.baseDetails.countryId??0,isNationalTeam:f.baseDetails.isNationalTeam??!1,crestUrl:((m=f.crestUrl)==null?void 0:m.replace("medium","profil"))??"",historical:f.historical,relativeUrl:f.relativeUrl??"",slug:((p=f.relativeUrl)==null?void 0:p.split("/")[1])??"verein",lastUpdated:Date.now(),cacheKey:n}});return await ht.clubs.bulkPut(l),Promise.resolve([...r.filter(Boolean),...l])}return Promise.resolve(r.filter(Boolean))}async function Yb(e,t,n){const r=await ht.coaches.bulkGet(e),{notCachedIds:i}=ja(r,e,n);if(i.length){await ht.coaches.where("id").anyOf(i).delete();const{data:s,error:u}=await t.GET("/coaches",{params:{query:{"ids[]":i}}});if(u||!(s!=null&&s.data))return Promise.reject(new Error("Failed to fetch coaches data"));const l=s.data.map(f=>({id:f.id,name:f.name,lastUpdated:Date.now(),relativeUrl:f.relativeUrl??"",cacheKey:n}));return await ht.coaches.bulkPut(l),Promise.resolve([...r.filter(Boolean),...l])}return Promise.resolve(r.filter(Boolean))}const Vb=async(e,t)=>{const{data:n,error:r}=await t.GET("/competitions",{params:{query:{"ids[]":e}}});if(!(n!=null&&n.data)||r)throw new Error("Failed to fetch competition");return n.data},Wb=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t)),qb=150;async function Xb(e,t,n){const r=await ht.competitions.bulkGet(e),{notCachedIds:i}=ja(r,e,n);if(i.length){await ht.competitions.where("id").anyOf(i).delete();const u=(await Promise.all(Wb(i,qb).map(l=>Vb(l,t)))).flat().map(l=>{var f;return{id:l.id,name:l.name,shortName:l.baseDetails.shortName??l.name,countryId:l.originDetails.countryId??0,logoUrl:((f=l.logoUrl)==null?void 0:f.replace("medium","mediumsmall"))??"",confederationId:l.originDetails.confederationId??0,relativeUrl:l.relativeUrl??"",typeId:l.typeId??0,isTournament:l.baseDetails.isTournament??!1,historical:{names:l.historical.names??[],logos:(l.historical.images??[]).map(d=>{var m;return{...d,url:((m=d.url)==null?void 0:m.replace("medium","mediumsmall"))??""}})},lastUpdated:Date.now(),cacheKey:n}});return await ht.competitions.bulkPut(u),[...r.filter(Boolean),...u]}return r.filter(Boolean)}const Gb=(e,t)=>({...e,lastUpdated:Date.now(),cacheKey:t});async function Qb(e,t,n){const r=await ht.players.bulkGet(e),{notCachedIds:i}=ja(r,e,n);if(i.length){await ht.players.where("id").anyOf(i).delete();const{data:s,error:u}=await t.GET("/players",{params:{query:{"ids[]":i}}});if(u||!(s!=null&&s.data))return Promise.reject(new Error("Failed to fetch players data"));const l=s.data.map(f=>Gb(f,n));return await ht.players.bulkPut(l),Promise.resolve([...r.filter(Boolean),...l])}return Promise.resolve(r.filter(Boolean))}async function Zb(e,t,n){const r=await ht.referees.bulkGet(e),{notCachedIds:i}=ja(r,e,n);if(i.length){await ht.referees.where("id").anyOf(i).delete();const{data:s,error:u}=await t.GET("/referees",{params:{query:{"ids[]":i}}});if(u||!(s!=null&&s.data))return Promise.reject(new Error("Failed to fetch referees data"));const l=s.data.map(f=>({id:f.id,name:f.name,gender:f.gender,portraitUrl:f.portraitUrl??"",dateOfBirth:f.dateOfBirth,nationalities:f.nationalities,lastUpdated:Date.now(),cacheKey:n}));return await ht.referees.bulkPut(l),Promise.resolve([...r.filter(Boolean),...l])}return Promise.resolve(r.filter(Boolean))}async function Jb({clubs:e=[],competitions:t=[],coaches:n=[],players:r=[],referees:i=[]}){const s=performance.now(),u=od({useLocale:!0}),l=document.body.getAttribute("data-db-name")||"",[f,d,m,p,g,_]=await Promise.all([Hb(e,u,l),Yb(n,u,l),Xb(t,u,l),Qb(r,u,l),Zb(i,u,l),zb(u,l)]),w=_||{},S={clubs:f.reduce((E,A)=>(E[A.id]=A,E),{}),coaches:d.reduce((E,A)=>(E[A.id]=A,E),{}),competitions:m.reduce((E,A)=>(E[A.id]=A,E),{}),positions:w.positions.reduce((E,A)=>(E[A.id]=A,E),{}),injuries:w.injuries.reduce((E,A)=>(E[A.id]=A,E),{}),absences:w.absences.reduce((E,A)=>(E[A.id]=A,E),{}),competitionTypes:w.competitionTypes.reduce((E,A)=>(E[A.id]=A,E),{}),countries:w.countries.reduce((E,A)=>(E[A.id]=A,E),{}),confederations:w.confederations.reduce((E,A)=>(E[A.id]=A,E),{}),players:p.reduce((E,A)=>(E[A.id]=A,E),{}),referees:g.reduce((E,A)=>(E[A.id]=A,E),{})};return console.log("Resolved entities",S),console.log("Resolved entities in",performance.now()-s,"ms"),Promise.resolve(S)}const e1=[{digitLang:"de",domain:"at",formatPlan:"v n c",lang:"de-AT",wishCurrency:"€"},{digitLang:"nl",domain:"be",formatPlan:"v n c",lang:"nl-BE",wishCurrency:"€"},{digitLang:"br",domain:"br",formatPlan:"c v n",lang:"pt-BR",wishCurrency:"€"},{digitLang:"de",domain:"ch",formatPlan:"v n c",lang:"de-CH",wishCurrency:"€"},{digitLang:"de",domain:"de",formatPlan:"v n c",lang:"de-DE",wishCurrency:"€"},{digitLang:"es",domain:"es",formatPlan:"v n c",lang:"es-ES",wishCurrency:"€"},{digitLang:"fr",domain:"fr",formatPlan:"v n c",lang:"fr-FR",wishCurrency:"€"},{digitLang:"en",domain:"in",formatPlan:"cvn",lang:"en-GB",wishCurrency:"₹"},{digitLang:"it",domain:"it",formatPlan:"v n c",lang:"it-IT",wishCurrency:"€"},{digitLang:"nl",domain:"nl",formatPlan:"v n c",lang:"nl-NL",wishCurrency:"€"},{digitLang:"es",domain:"pe",formatPlan:"v n c",lang:"pe-ES",wishCurrency:"€"},{digitLang:"pl",domain:"pl",formatPlan:"v n c",lang:"pl-PL",wishCurrency:"€"},{digitLang:"pt",domain:"pt",formatPlan:"v n c",lang:"pt-PT",wishCurrency:"€"},{digitLang:"ru",domain:"ru",formatPlan:"v n c",lang:"ru-RU",wishCurrency:"€"},{digitLang:"ru",domain:"world",formatPlan:"v n c",lang:"ru-RU",wishCurrency:"€"},{digitLang:"tr",domain:"tr",formatPlan:"v n c",lang:"tr-TR",wishCurrency:"€"},{digitLang:"en",domain:"uk",formatPlan:"cvn",lang:"en-GB",wishCurrency:"€"},{digitLang:"en",domain:"us",formatPlan:"cvn",lang:"en-US",wishCurrency:"€"},{digitLang:"de",domain:"tv",formatPlan:"v n c",lang:"de-DE",wishCurrency:"€"},{digitLang:"id",domain:"id",formatPlan:"cvn",lang:"id-ID",wishCurrency:"Rp"},{digitLang:"en",domain:"jp",formatPlan:"v n c",lang:"ja-JP",wishCurrency:"€"},{digitLang:"es",domain:"co",formatPlan:"v n c",lang:"es-CO",wishCurrency:"€"},{digitLang:"es",domain:"mx",formatPlan:"v n c",lang:"es-MX",wishCurrency:"€"},{digitLang:"es",domain:"ar",formatPlan:"v n c",lang:"es-AR",wishCurrency:"€"},{digitLang:"es",domain:"my",formatPlan:"v n c",lang:"en-GB",wishCurrency:"€"},{digitLang:"en",domain:"za",formatPlan:"v n c",lang:"en-GB",wishCurrency:"€"},{digitLang:"en",domain:"com",formatPlan:"cvn",lang:"en-GB",wishCurrency:"€"},{digitLang:"en",domain:"kr",formatPlan:"v n c",lang:"en-GB",wishCurrency:"€"},{digitLang:"en",domain:"gr",formatPlan:"v n c",lang:"el-GR",wishCurrency:"€"},{digitLang:"ro",domain:"ro",formatPlan:"v n c",lang:"ro-RO",wishCurrency:"€"}];class t1{constructor(){vt(this,"rates",{"€":1,"£":.9,$:1.1,"₹":80,Rp:17381.64});vt(this,"countriesConfigMap",[{digitFormats:["mil","mill.","mil mill."],lang:"es",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["Tsd.","Mio.","Mrd."],lang:"de",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["dzd.","mln.","mld."],lang:"nl",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["mil","mi.","bilhões"],lang:"br",decimalSeparator:".",showTwoDecimals:!0},{digitFormats:["mil","M.","Mil milhões"],lang:"pt",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["K","mio","mrd."],lang:"fr",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["Rb.","Jt.","Mlyr."],lang:"id",decimalSeparator:".",showTwoDecimals:!0},{digitFormats:["mila","mln","mld"],lang:"it",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["tys.","mln","mld"],lang:"pl",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["тыс","млн","Млрд"],lang:"ru",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["bin","mil.","milyar"],lang:"tr",decimalSeparator:".",showTwoDecimals:!0},{digitFormats:["k","mil.","bn"],lang:"za",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["k","m","bn"],lang:"en",decimalSeparator:".",showTwoDecimals:!0},{digitFormats:["k","mil.","bn"],lang:"kr",decimalSeparator:".",showTwoDecimals:!0},{digitFormats:["χιλ.","εκατ.","δισ."],lang:"gr",decimalSeparator:",",showTwoDecimals:!0},{digitFormats:["mii","mil.","mld."],lang:"ro",decimalSeparator:",",showTwoDecimals:!0}]);vt(this,"configValuesMap",[{digitFormat:"",max:999,min:0},{digitFormat:"k",max:999999,min:1e3},{digitFormat:"m",max:999999999,min:1e6},{digitFormat:"bn",max:999999999999999,min:1e9}])}formatIndianValue(t){return t=t*this.rates["₹"],t>1e7?(t=t/1e7,"₹"+t+" Cr"):(t=t/1e5,t===100?"₹1 Cr":"₹"+t+" L")}formatIndonesianValue(t){return t=t*this.rates.Rp,t>1e9?(t=t/1e9,t.toFixed(2).replace(".",",")+"Mlyr."):t<1e9?(t=t/1e6,t.toFixed(2).replace(".",",")+"Jt."):t.toFixed(2).replace(".",",")}format(t,n="en"){if(n=="in")return this.formatIndianValue(t);if(n=="id")return this.formatIndonesianValue(t);const r=e1.find(u=>n===u.domain)||{digitLang:"en",formatPlan:"cvn",wishCurrency:"$"},i=this.countriesConfigMap.find(u=>u.lang===n)||this.countriesConfigMap.find(u=>u.lang===r.digitLang);if(i)for(let u=1;u<this.configValuesMap.length;u++)this.configValuesMap[u].digitFormat=i.digitFormats[u-1];const s=this.configValuesMap.find(u=>t>=u.min&&t<=u.max);if(s){const u=s.min||1,l=(i==null?void 0:i.decimalSeparator)||".",f=+(t*this.rates[r.wishCurrency]/u).toFixed(2),m=(i==null?void 0:i.showTwoDecimals)&&(s.digitFormat===i.digitFormats[1]||s.digitFormat===i.digitFormats[2])?f.toFixed(2).replace(".",l):Math.round(f).toString().replace(".",l);return r.formatPlan.replace("c",r.wishCurrency).replace("v",m).replace("n",s.digitFormat)}return""}}const n1=async(e,t="")=>{var E,A,N,I,j,q,R;const r=await od({useLocale:!0}).GET("/player/{id}/market-value-history",{params:{path:{id:e.toString()}}}),i=((A=(E=r.data)==null?void 0:E.data)==null?void 0:A.history)??[],s=((I=(N=r.data)==null?void 0:N.data)==null?void 0:I.clubIds)??[],u=((q=(j=r.data)==null?void 0:j.data)==null?void 0:q.current)??null,l=await Jb({clubs:s}),f=Nb(),d=new t1,m=id[f]??"en-US",p=((R=u==null?void 0:u.marketValue)==null?void 0:R.value)??0,g=p>0?d.format(p,f):"",_=i.map(L=>{const J=l.clubs[L.clubId],O=d.format(L.marketValue.value??0,f);return{x:new Date(L.marketValue.determined).getTime(),y:L.marketValue.value,mw:O,datum_mw:Fb(new Date(L.marketValue.determined),m,Ob),verein:(J==null?void 0:J.name)??"Unbekannt",age:L.age.toString(),wappen:(J==null?void 0:J.crestUrl)??""}}),w=[..._].sort((L,J)=>J.y-L.y)[0],S=_[_.length-1];return{list:_,current:u?g:"",current_value:u?p:0,highest:(w==null?void 0:w.mw)??"",highest_date:(w==null?void 0:w.datum_mw)??"",last_change:(S==null?void 0:S.datum_mw)??"",details_url:`/spieler/${e}/marktwertverlauf`,thread:{url:"",thread_title:"",count_replies:0}}},r1=(e,t)=>{const n=new IntersectionObserver(r=>{(r[0].isIntersecting||r[0].intersectionRatio>0)&&(t(),n.disconnect())},{root:null,rootMargin:"200px 0px 200px 0px",threshold:1});n.observe(e)},i1=(e=[])=>{let t="";return e.map(n=>{var s;const r=((s=n.verein)==null?void 0:s.toLowerCase())??"";return t!==r?(t=r,n):{...n,wappen:""}})};xt[Ae]="src/market-value-development-graph-integrated/components/MarketValueDevelopmentGraphIntegrated.svelte";var a1=tt(hn("<div> </div>"),xt[Ae],[[87,12]]),o1=tt(hn('<a> </a> <a class="link svelte-iykzvx"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJJJREFUeNpiPHPmzH8G0oAeEF/GJcnEQGXAQkD+FxAvQBN7R4mB34E4nRQXEuvlaUD8nxhM9TAcgQaCYnkWEMsBsQdUbD0Qv0aKZZINBCULb6iBoDSXSK2EvQ9PmnsExGeR+PxArALEH4H4DrJCRmBeBtHS0FzxmkiHsAHxdmiQ+GCLlKckGAbLkqHorgMBgAADANThJ7ryl26wAAAAAElFTkSuQmCC" height="14" width="20"/></a>',1),xt[Ae],[[91,14],[92,14,[[93,16]]]]),s1=tt(hn('<div class="graph svelte-iykzvx"><a><!></a></div>'),xt[Ae],[[111,8,[[112,10]]]]),u1=tt(hn('<div><!> <div class="current-and-max svelte-iykzvx"><div><!> <div class="current-value svelte-iykzvx"><!></div></div> <div class="max svelte-iykzvx"><div> </div> <div class="max-value svelte-iykzvx"> </div> <div> </div></div></div> <!> <div class="update svelte-iykzvx"> </div></div> <a class="content-link"> </a>',1),xt[Ae],[[77,4,[[84,6,[[85,8,[[89,10]]],[104,8,[[105,10],[106,10],[107,10]]]]],[117,6]]],[121,4]]),l1=tt(hn('<div class="tm-market-value-development-graph-small svelte-iykzvx"><!></div>'),xt[Ae],[[73,0]]);const c1={hash:"svelte-iykzvx",code:`/* stylelint-disable */
/* stylelint-enable */
.tm-market-value-development-graph-small.svelte-iykzvx {
  background: var(--tm-white, #fff);
  max-width: 750px;
}

.current-and-max.svelte-iykzvx {
  display: flex;
  justify-content: space-between;
  margin: 0.625rem auto;
  width: calc(100% - 1.25rem);
}

.current-value.svelte-iykzvx {
  display: flex;
  font-size: 1.125rem;
  line-height: 1.5rem;
}

.max.svelte-iykzvx {
  text-align: right;
}

.max-value.svelte-iykzvx {
  font-size: 0.75rem;
  line-height: 1.0625rem;
}

.max-value.svelte-iykzvx,
.current-value.svelte-iykzvx {
  font-weight: bold;
}

.link.svelte-iykzvx {
  align-items: center;
  display: flex;
  margin-left: 0.3125rem;
}

.graph.svelte-iykzvx {
  margin: 0 auto 0.3125rem;
  width: calc(100% - 1.25rem);
}

.update.svelte-iykzvx {
  margin: 0 auto 0.3125rem;
  text-align: right;
  width: calc(100% - 1.25rem);
}`};function xt(e,t){Kt(new.target),$t(t,!1,xt),Un(e,c1);const n={top:3,right:10,bottom:10,left:10};let r=de(t,"baseurl",12,""),i=de(t,"playerId",12,0),s=de(t,"mobile",12,"false"),u=de(t,"translations",12),l=de(t,"thread",12),f=de(t,"detailsUrl",12),d=Fe(),m=Fe(!0),p=Fe(),g=Fe(),_=Fe(0),w=Fe(),S=Fe(),E=Fe();const A=async()=>{const L=(await tp(n1(i(),r())))();_e(p,vv(L.list,()=>[],!0)),_e(g,L.current),_e(_,L.current_value),_e(w,L.highest),_e(S,L.highest_date),_e(E,L.last_change),_e(p,i1(C(p))),Ut(C(p).length,0)&&C(d)&&C(d).parentElement?C(d).parentElement.remove():_e(m,!1)};Fp(async()=>{r1(C(d),A)});var N={get baseurl(){return r()},set baseurl(L){r(L),le()},get playerId(){return i()},set playerId(L){i(L),le()},get mobile(){return s()},set mobile(L){s(L),le()},get translations(){return u()},set translations(L){u(L),le()},get thread(){return l()},set thread(L){l(L),le()},get detailsUrl(){return f()},set detailsUrl(L){f(L),le()},...jt()};Bn();var I=l1(),j=Re(I);{var q=L=>{$e(()=>Yt(L,{}),"component",xt,75,4,{componentTag:"Skeleton"})},R=L=>{var J=u1(),O=Jn(J),te=Re(O);{var X=fe=>{{let Le=_a(()=>(ee(u()),ve(()=>{var Ke;return(Ke=u())==null?void 0:Ke["market value"]})));$e(()=>Po(fe,{elementType:"h2",get headline(){return C(Le)}}),"component",xt,79,8,{componentTag:"ContentBoxHeadline"})}},oe=fe=>{{let Le=_a(()=>(ee(u()),ve(()=>{var Ke;return(Ke=u())==null?void 0:Ke["market value"]})));$e(()=>Sa(fe,{get headline(){return C(Le)}}),"component",xt,81,8,{componentTag:"ContentBoxSubHeadline"})}};$e(()=>Ct(te,fe=>{Ut(s(),"false",!1)?fe(X):fe(oe,!1)}),"if",xt,78,6)}var B=Ne(te,2),ce=Re(B),pe=Re(ce);{var ge=fe=>{var Le=a1(),Ke=Re(Le);Me(Le),at(()=>ft(Ke,`${ee(u()),ve(()=>{var ut;return((ut=u())==null?void 0:ut.current)??""})??""}:`)),We(fe,Le)};$e(()=>Ct(pe,fe=>{C(_)>0&&fe(ge)}),"if",xt,86,10)}var we=Ne(pe,2),Ee=Re(we);{var Te=fe=>{var Le=o1(),Ke=Jn(Le),ut=Re(Ke,!0);Me(Ke);var ie=Ne(Ke,2),nt=Re(ie);Me(ie),at(()=>{be(Ke,"href",(ee(l()),ve(()=>{var ne;return(ne=l())==null?void 0:ne.url}))),be(Ke,"title",(ee(l()),ve(()=>{var ne;return(ne=l())==null?void 0:ne.thread_title}))),ft(ut,C(g)),be(ie,"href",(ee(l()),ve(()=>{var ne;return(ne=l())==null?void 0:ne.url}))),be(ie,"title",(ee(l()),ve(()=>{var ne;return(ne=l())==null?void 0:ne.thread_title}))),be(nt,"alt",(ee(u()),ve(()=>{var ne;return(ne=u())==null?void 0:ne.forum})))}),We(fe,Le)},Qe=fe=>{var Le=tf();at(()=>ft(Le,C(g))),We(fe,Le)};$e(()=>Ct(Ee,fe=>{ee(l()),ve(()=>{var Le;return(Le=l())==null?void 0:Le.url})?fe(Te):fe(Qe,!1)}),"if",xt,90,12)}Me(we),Me(ce);var Ze=Ne(ce,2),nn=Re(Ze),yn=Re(nn);Me(nn);var _n=Ne(nn,2),yi=Re(_n,!0);Me(_n);var Ft=Ne(_n,2),rn=Re(Ft,!0);Me(Ft),Me(Ze),Me(B);var Mt=Ne(B,2);{var ue=fe=>{var Le=s1(),Ke=Re(Le),ut=Re(Ke);$e(()=>et(ut,{get data(){return C(p)},get translations(){return u()},get margin(){return n}}),"component",xt,113,12,{componentTag:"Chart"}),Me(Ke),Me(Le),at(()=>be(Ke,"href",f())),We(fe,Le)};$e(()=>Ct(Mt,fe=>{C(p),ve(()=>C(p).length>1)&&fe(ue)}),"if",xt,110,6)}var De=Ne(Mt,2),Ue=Re(De);Me(De),Me(O);var G=Ne(O,2),dt=Re(G,!0);Me(G),at(()=>{ft(yn,`${ee(u()),ve(()=>{var fe;return(fe=u())==null?void 0:fe.highest})??""}:`),ft(yi,C(w)),ft(rn,C(S)),ft(Ue,`${ee(u()),ve(()=>{var fe;return(fe=u())==null?void 0:fe.lastChange})??""}: ${C(E)??""}`),be(G,"href",f()),ft(dt,(ee(u()),ve(()=>{var fe;return(fe=u())==null?void 0:fe.details})))}),We(L,J)};$e(()=>Ct(j,L=>{C(m)?L(q):L(R,!1)}),"if",xt,74,2)}return Me(I),bu(I,L=>_e(d,L),()=>C(d)),We(e,I),Pt(N)}return customElements.define("tm-market-value-development-graph-integrated",zt(xt,{playerId:{attribute:"player-id",type:"String"},translations:{attribute:"translations",type:"Object"},thread:{attribute:"thread",type:"Object"},detailsUrl:{attribute:"details-url",type:"String"},baseurl:{},mobile:{}},[],[],!1)),xt}();
