var playerNationalTeamCareer=function(){"use strict";var Uh=Object.defineProperty;var ll=Ce=>{throw TypeError(Ce)};var qh=(Ce,be,Ue)=>be in Ce?Uh(Ce,be,{enumerable:!0,configurable:!0,writable:!0,value:Ue}):Ce[be]=Ue;var Ze=(Ce,be,Ue)=>qh(Ce,typeof be!="symbol"?be+"":be,Ue),zo=(Ce,be,Ue)=>be.has(Ce)||ll("Cannot "+Ue);var B=(Ce,be,Ue)=>(zo(Ce,be,"read from private field"),Ue?Ue.call(Ce):be.get(Ce)),ge=(Ce,be,Ue)=>be.has(Ce)?ll("Cannot add the same private member more than once"):be instanceof WeakSet?be.add(Ce):be.set(Ce,Ue),ne=(Ce,be,Ue,wi)=>(zo(Ce,be,"write to private field"),wi?wi.call(Ce,Ue):be.set(Ce,Ue),Ue),ze=(Ce,be,Ue)=>(zo(Ce,be,"access private method"),Ue);var Eu,Ar,Cr,En,ri,kr,Rr,er,Or,ii,ai,Ot,Ho,wa,Vo,Lt,wt,oi,Qt,tr,Xt,$t,pt,Jt,xn,nr,Tn,rr,cn,Hi,Vi,We,cl,fl,Ea,xa,Yo,fn,It;typeof window<"u"&&((Eu=window.__svelte??(window.__svelte={})).v??(Eu.v=new Set)).add("5");let be=!1,Ue=!1;function wi(){be=!0}wi();const dl=1,hl=2,vl=16,pl=2,yl=8,ml=1,_l=2,Ta="[",Lr="[!",Ei="]",hr={},He=Symbol(),Se=Symbol("filename"),gl="http://www.w3.org/1999/xhtml",bl="http://www.w3.org/2000/svg",Wo=!0;var Sa=Array.isArray,wl=Array.prototype.indexOf,Aa=Array.from,xi=Object.keys,Kt=Object.defineProperty,yn=Object.getOwnPropertyDescriptor,Go=Object.getOwnPropertyDescriptors,El=Object.prototype,xl=Array.prototype,Ca=Object.getPrototypeOf,Qo=Object.isExtensible;const Tl=()=>{};function Sl(n){return n()}function ka(n){for(var r=0;r<n.length;r++)n[r]()}function Xo(){var n,r,a=new Promise((l,u)=>{n=l,r=u});return{promise:a,resolve:n,reject:r}}const st=2,Ra=4,Ti=8,Mn=16,rn=32,mn=64,Oa=128,St=256,Si=512,Ve=1024,mt=2048,an=4096,Bt=8192,Kn=16384,$a=32768,Ur=65536,Ai=1<<17,Al=1<<18,Bn=1<<19,Jo=1<<20,Ci=1<<21,qr=1<<22,Nn=1<<23,qt=Symbol("$state"),Zo=Symbol("legacy props"),Cl=Symbol(""),es=Symbol("proxy path"),zr=new class extends Error{constructor(){super(...arguments);Ze(this,"name","StaleReactionError");Ze(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},ts=1,ki=3,Fn=8,kl=11;function Rl(n){{const r=new Error(`lifecycle_outside_component
\`${n}(...)\` can only be used during component initialisation
https://svelte.dev/e/lifecycle_outside_component`);throw r.name="Svelte error",r}}function Ol(){{const n=new Error("svelte_element_invalid_this_value\nThe `this` prop on `<svelte:element>` must be a string, if defined\nhttps://svelte.dev/e/svelte_element_invalid_this_value");throw n.name="Svelte error",n}}function $l(){{const n=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw n.name="Svelte error",n}}function Il(n,r){{const a=new Error(`component_api_changed
Calling \`${n}\` on a component instance (of ${r}) is no longer valid in Svelte 5
https://svelte.dev/e/component_api_changed`);throw a.name="Svelte error",a}}function Dl(n,r){{const a=new Error(`component_api_invalid_new
Attempted to instantiate ${n} with \`new ${r}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.
https://svelte.dev/e/component_api_invalid_new`);throw a.name="Svelte error",a}}function Pl(){{const n=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw n.name="Svelte error",n}}function Ml(n){{const r=new Error(`effect_in_teardown
\`${n}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw r.name="Svelte error",r}}function Kl(){{const n=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw n.name="Svelte error",n}}function Bl(n){{const r=new Error(`effect_orphan
\`${n}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw r.name="Svelte error",r}}function Nl(){{const n=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw n.name="Svelte error",n}}function Fl(){{const n=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw n.name="Svelte error",n}}function jl(n){{const r=new Error(`props_invalid_value
Cannot do \`bind:${n}={undefined}\` when \`${n}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw r.name="Svelte error",r}}function Ll(n){{const r=new Error(`rune_outside_svelte
The \`${n}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw r.name="Svelte error",r}}function Ul(){{const n=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw n.name="Svelte error",n}}function ql(){{const n=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw n.name="Svelte error",n}}function zl(){{const n=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw n.name="Svelte error",n}}function Hl(){{const n=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw n.name="Svelte error",n}}var jn="font-weight: bold",Ln="font-weight: normal";function Vl(n){console.warn(`%c[svelte] await_reactivity_loss
%cDetected reactivity loss when reading \`${n}\`. This happens when state is read in an async function after an earlier \`await\`
https://svelte.dev/e/await_reactivity_loss`,jn,Ln)}function Yl(n,r,a){console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${n}\` attribute on \`${r}\` changed its value between server and client renders. The client value, \`${a}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,jn,Ln)}function Ri(n){console.warn(`%c[svelte] hydration_mismatch
%cHydration failed because the initial UI does not match what was rendered on the server
https://svelte.dev/e/hydration_mismatch`,jn,Ln)}function Wl(){console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,jn,Ln)}function Oi(n){console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${n}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,jn,Ln)}function Gl(){console.warn(`%c[svelte] state_proxy_unmount
%cTried to unmount a state proxy, rather than a component
https://svelte.dev/e/state_proxy_unmount`,jn,Ln)}function Ql(){console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",jn,Ln)}let re=!1;function _t(n){re=n}let se;function Ye(n){if(n===null)throw Ri(),hr;return se=n}function vr(){return Ye(Yt(se))}function ye(n){if(re){if(Yt(se)!==null)throw Ri(),hr;se=n}}function Xl(n=1){if(re){for(var r=n,a=se;r--;)a=Yt(a);se=a}}function $i(n=!0){for(var r=0,a=se;;){if(a.nodeType===Fn){var l=a.data;if(l===Ei){if(r===0)return a;r-=1}else(l===Ta||l===Lr)&&(r+=1)}var u=Yt(a);n&&a.remove(),a=u}}function ns(n){if(!n||n.nodeType!==Fn)throw Ri(),hr;return n.data}function rs(n){return n===this.v}function Jl(n,r){return n!=n?r==r:n!==r||n!==null&&typeof n=="object"||typeof n=="function"}function is(n){return!Jl(n,this.v)}var Zl="font-weight: bold",ec="font-weight: normal";function tc(n){console.warn(`%c[svelte] dynamic_void_element_content
%c\`<svelte:element this="${n}">\` is a void element — it cannot have content
https://svelte.dev/e/dynamic_void_element_content`,Zl,ec)}function as(n){let r=Error();const a=r.stack;if(!a)return null;const l=a.split(`
`),u=[`
`];for(let f=0;f<l.length;f++){const h=l[f];if(h!=="Error"){if(h.includes("validate_each_keys"))return null;h.includes("svelte/src/internal")||u.push(h)}}return u.length===1?null:(Kt(r,"stack",{value:u.join(`
`)}),Kt(r,"name",{value:`${n}Error`}),r)}function zt(n,r){return n.label=r,os(n.v,r),n}function os(n,r){var a;return(a=n==null?void 0:n[es])==null||a.call(n,r),n}let _e=null;function pr(n){_e=n}let on=null;function ss(n){on=n}function Ie(n,r,a,l,u,f){const h=on;on={type:r,file:a[Se],line:l,column:u,parent:h,...f};try{return n()}finally{on=h}}let Hr=null;function us(n){Hr=n}function Un(n,r=!1,a){_e={p:_e,c:null,e:null,s:n,x:null,l:be&&!r?{s:null,u:null,$:[]}:null},_e.function=a,Hr=a}function qn(n){var r=_e,a=r.e;if(a!==null){r.e=null;for(var l of a)ks(l)}return n!==void 0&&(r.x=n),_e=r.p,Hr=(_e==null?void 0:_e.function)??null,n??{}}function Vr(){return!be||_e!==null&&_e.l===null}let zn=[];function ls(){var n=zn;zn=[],ka(n)}function Yr(n){if(zn.length===0&&!Wr){var r=zn;queueMicrotask(()=>{r===zn&&ls()})}zn.push(n)}function nc(){for(;zn.length>0;)ls()}const Ia=new WeakMap;function cs(n){var r=ie;if(r===null)return ue.f|=Nn,n;if(n instanceof Error&&!Ia.has(n)&&Ia.set(n,rc(n,r)),(r.f&$a)===0){if((r.f&Oa)===0)throw!r.parent&&n instanceof Error&&fs(n),n;r.b.error(n)}else yr(n,r)}function yr(n,r){for(;r!==null;){if((r.f&Oa)!==0)try{r.b.error(n);return}catch(a){n=a}r=r.parent}throw n instanceof Error&&fs(n),n}function rc(n,r){var h,y,g;const a=yn(n,"message");if(!(a&&!a.configurable)){for(var l=La?"  ":"	",u=`
${l}in ${((h=r.fn)==null?void 0:h.name)||"<unknown>"}`,f=r.ctx;f!==null;)u+=`
${l}in ${(y=f.function)==null?void 0:y[Se].split("/").pop()}`,f=f.p;return{message:n.message+`
${u}
`,stack:(g=n.stack)==null?void 0:g.split(`
`).filter(k=>!k.includes("svelte/src/internal")).join(`
`)}}}function fs(n){const r=Ia.get(n);r&&(Kt(n,"message",{value:r.message}),Kt(n,"stack",{value:r.stack}))}const Ii=new Set;let Pe=null,Da=new Set,Ht=[],Di=null,Pa=!1,Wr=!1;const $r=class $r{constructor(){ge(this,Ot);Ze(this,"current",new Map);ge(this,Ar,new Map);ge(this,Cr,new Set);ge(this,En,0);ge(this,ri,null);ge(this,kr,[]);ge(this,Rr,[]);ge(this,er,[]);ge(this,Or,[]);ge(this,ii,[]);ge(this,ai,[]);Ze(this,"skipped_effects",new Set)}process(r){var f;Ht=[];var a=$r.apply(this);for(const h of r)ze(this,Ot,Ho).call(this,h);if(B(this,En)===0){ze(this,Ot,Vo).call(this);var l=B(this,Rr),u=B(this,er);ne(this,Rr,[]),ne(this,er,[]),ne(this,Or,[]),Pe=null,hs(l),hs(u),(f=B(this,ri))==null||f.resolve()}else ze(this,Ot,wa).call(this,B(this,Rr)),ze(this,Ot,wa).call(this,B(this,er)),ze(this,Ot,wa).call(this,B(this,Or));a();for(const h of B(this,kr))br(h);ne(this,kr,[])}capture(r,a){B(this,Ar).has(r)||B(this,Ar).set(r,a),this.current.set(r,r.v)}activate(){Pe=this}deactivate(){Pe=null;for(const r of Da)if(Da.delete(r),r(),Pe!==null)break}flush(){if(Ht.length>0){if(this.activate(),ds(),Pe!==null&&Pe!==this)return}else B(this,En)===0&&ze(this,Ot,Vo).call(this);this.deactivate()}increment(){ne(this,En,B(this,En)+1)}decrement(){if(ne(this,En,B(this,En)-1),B(this,En)===0){for(const r of B(this,ii))Qe(r,mt),Hn(r);for(const r of B(this,ai))Qe(r,an),Hn(r);this.flush()}else this.deactivate()}add_callback(r){B(this,Cr).add(r)}settled(){return(B(this,ri)??ne(this,ri,Xo())).promise}static ensure(){if(Pe===null){const r=Pe=new $r;Ii.add(Pe),Wr||$r.enqueue(()=>{Pe===r&&r.flush()})}return Pe}static enqueue(r){Yr(r)}static apply(r){return Tl}};Ar=new WeakMap,Cr=new WeakMap,En=new WeakMap,ri=new WeakMap,kr=new WeakMap,Rr=new WeakMap,er=new WeakMap,Or=new WeakMap,ii=new WeakMap,ai=new WeakMap,Ot=new WeakSet,Ho=function(r){var k;r.f^=Ve;for(var a=r.first;a!==null;){var l=a.f,u=(l&(rn|mn))!==0,f=u&&(l&Ve)!==0,h=f||(l&Bt)!==0||this.skipped_effects.has(a);if(!h&&a.fn!==null){u?a.f^=Ve:(l&Ra)!==0?B(this,er).push(a):(l&Ve)===0&&((l&qr)!==0&&((k=a.b)!=null&&k.is_pending())?B(this,kr).push(a):ei(a)&&((a.f&Mn)!==0&&B(this,Or).push(a),br(a)));var y=a.first;if(y!==null){a=y;continue}}var g=a.parent;for(a=a.next;a===null&&g!==null;)a=g.next,g=g.parent}},wa=function(r){for(const a of r)((a.f&mt)!==0?B(this,ii):B(this,ai)).push(a),Qe(a,Ve);r.length=0},Vo=function(){var r;for(const a of B(this,Cr))a();if(B(this,Cr).clear(),Ii.size>1){B(this,Ar).clear();let a=!0;for(const l of Ii){if(l===this){a=!1;continue}for(const[u,f]of this.current){if(l.current.has(u))if(a)l.current.set(u,f);else continue;vs(u)}if(Ht.length>0){Pe=l;const u=$r.apply(l);for(const f of Ht)ze(r=l,Ot,Ho).call(r,f);Ht=[],u()}}Pe=null}Ii.delete(this)};let Vt=$r;function et(n){var r=Wr;Wr=!0;try{for(var a;;){if(nc(),Ht.length===0&&(Pe==null||Pe.flush(),Ht.length===0))return Di=null,a;ds()}}finally{Wr=r}}function ds(){var n=gr;Pa=!0;try{var r=0;for(Ms(!0);Ht.length>0;){var a=Vt.ensure();if(r++>1e3){if(Wo){var l=new Map;for(const f of a.current.keys())for(const[h,y]of f.updated??[]){var u=l.get(h);u||(u={error:y.error,count:0},l.set(h,u)),u.count+=y.count}for(const f of l.values())console.error(f.error)}ic()}a.process(Ht),gn.clear()}}finally{Pa=!1,Ms(n),Di=null}}function ic(){try{Nl()}catch(n){Kt(n,"stack",{value:""}),yr(n,Di)}}let sn=null;function hs(n){var r=n.length;if(r!==0){for(var a=0;a<r;){var l=n[a++];if((l.f&(Kn|Bt))===0&&ei(l)&&(sn=[],br(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?Is(l):l.fn=null),(sn==null?void 0:sn.length)>0)){gn.clear();for(const u of sn)br(u);sn=[]}}sn=null}}function vs(n){if(n.reactions!==null)for(const r of n.reactions){const a=r.f;(a&st)!==0?vs(r):(a&(qr|Mn))!==0&&(Qe(r,mt),Hn(r))}}function Hn(n){for(var r=Di=n;r.parent!==null;){r=r.parent;var a=r.f;if(Pa&&r===ie&&(a&Mn)!==0)return;if((a&(mn|rn))!==0){if((a&Ve)===0)return;r.f^=Ve}}Ht.push(r)}function ac(n){let r=0,a=Vn(0),l;return zt(a,"createSubscriber version"),()=>{Ec()&&(Te(a),za(()=>(r===0&&(l=fe(()=>n(()=>Qr(a)))),r+=1,()=>{Yr(()=>{r-=1,r===0&&(l==null||l(),l=void 0,Qr(a))})})))}}var oc=Ur|Bn|Oa;function sc(n,r,a){new uc(n,r,a)}class uc{constructor(r,a,l){ge(this,We);Ze(this,"parent");ge(this,Lt,!1);ge(this,wt);ge(this,oi,re?se:null);ge(this,Qt);ge(this,tr);ge(this,Xt);ge(this,$t,null);ge(this,pt,null);ge(this,Jt,null);ge(this,xn,null);ge(this,nr,0);ge(this,Tn,0);ge(this,rr,!1);ge(this,cn,null);ge(this,Hi,()=>{B(this,cn)&&Gr(B(this,cn),B(this,nr))});ge(this,Vi,ac(()=>(ne(this,cn,Vn(B(this,nr))),zt(B(this,cn),"$effect.pending()"),()=>{ne(this,cn,null)})));ne(this,wt,r),ne(this,Qt,a),ne(this,tr,l),this.parent=ie.b,ne(this,Lt,!!B(this,Qt).pending),ne(this,Xt,Mi(()=>{if(ie.b=this,re){const u=B(this,oi);vr(),u.nodeType===Fn&&u.data===Lr?ze(this,We,fl).call(this):ze(this,We,cl).call(this)}else{try{ne(this,$t,gt(()=>l(B(this,wt))))}catch(u){this.error(u)}B(this,Tn)>0?ze(this,We,xa).call(this):ne(this,Lt,!1)}},oc)),re&&ne(this,wt,se)}is_pending(){return B(this,Lt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!B(this,Qt).pending}update_pending_count(r){ze(this,We,Yo).call(this,r),ne(this,nr,B(this,nr)+r),Da.add(B(this,Hi))}get_effect_pending(){return B(this,Vi).call(this),Te(B(this,cn))}error(r){var a=B(this,Qt).onerror;let l=B(this,Qt).failed;if(B(this,rr)||!a&&!l)throw r;B(this,$t)&&(lt(B(this,$t)),ne(this,$t,null)),B(this,pt)&&(lt(B(this,pt)),ne(this,pt,null)),B(this,Jt)&&(lt(B(this,Jt)),ne(this,Jt,null)),re&&(Ye(B(this,oi)),Xl(),Ye($i()));var u=!1,f=!1;const h=()=>{if(u){Ql();return}u=!0,f&&Hl(),Vt.ensure(),ne(this,nr,0),B(this,Jt)!==null&&Qn(B(this,Jt),()=>{ne(this,Jt,null)}),ne(this,Lt,this.has_pending_snippet()),ne(this,$t,ze(this,We,Ea).call(this,()=>(ne(this,rr,!1),gt(()=>B(this,tr).call(this,B(this,wt)))))),B(this,Tn)>0?ze(this,We,xa).call(this):ne(this,Lt,!1)};var y=ue;try{ct(null),f=!0,a==null||a(r,h),f=!1}catch(g){yr(g,B(this,Xt)&&B(this,Xt).parent)}finally{ct(y)}l&&Yr(()=>{ne(this,Jt,ze(this,We,Ea).call(this,()=>{ne(this,rr,!0);try{return gt(()=>{l(B(this,wt),()=>r,()=>h)})}catch(g){return yr(g,B(this,Xt).parent),null}finally{ne(this,rr,!1)}}))})}}Lt=new WeakMap,wt=new WeakMap,oi=new WeakMap,Qt=new WeakMap,tr=new WeakMap,Xt=new WeakMap,$t=new WeakMap,pt=new WeakMap,Jt=new WeakMap,xn=new WeakMap,nr=new WeakMap,Tn=new WeakMap,rr=new WeakMap,cn=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,We=new WeakSet,cl=function(){try{ne(this,$t,gt(()=>B(this,tr).call(this,B(this,wt))))}catch(r){this.error(r)}ne(this,Lt,!1)},fl=function(){const r=B(this,Qt).pending;r&&(ne(this,pt,gt(()=>r(B(this,wt)))),Vt.enqueue(()=>{ne(this,$t,ze(this,We,Ea).call(this,()=>(Vt.ensure(),gt(()=>B(this,tr).call(this,B(this,wt)))))),B(this,Tn)>0?ze(this,We,xa).call(this):(Qn(B(this,pt),()=>{ne(this,pt,null)}),ne(this,Lt,!1))}))},Ea=function(r){var a=ie,l=ue,u=_e;Wt(B(this,Xt)),ct(B(this,Xt)),pr(B(this,Xt).ctx);try{return r()}catch(f){return cs(f),null}finally{Wt(a),ct(l),pr(u)}},xa=function(){const r=B(this,Qt).pending;B(this,$t)!==null&&(ne(this,xn,document.createDocumentFragment()),lc(B(this,$t),B(this,xn))),B(this,pt)===null&&ne(this,pt,gt(()=>r(B(this,wt))))},Yo=function(r){var a;if(!this.has_pending_snippet()){this.parent&&ze(a=this.parent,We,Yo).call(a,r);return}ne(this,Tn,B(this,Tn)+r),B(this,Tn)===0&&(ne(this,Lt,!1),B(this,pt)&&Qn(B(this,pt),()=>{ne(this,pt,null)}),B(this,xn)&&(B(this,wt).before(B(this,xn)),ne(this,xn,null)),Yr(()=>{Vt.ensure().flush()}))};function lc(n,r){for(var a=n.nodes_start,l=n.nodes_end;a!==null;){var u=a===l?null:Yt(a);r.append(a),a=u}}function cc(n,r,a){const l=Vr()?Ka:Ba;if(r.length===0){a(n.map(l));return}var u=Pe,f=ie,h=fc(),y=re;Promise.all(r.map(g=>vc(g))).then(g=>{u==null||u.activate(),h();try{a([...n.map(l),...g])}catch(k){(f.f&Kn)===0&&yr(k,f)}y&&_t(!1),u==null||u.deactivate(),ps()}).catch(g=>{yr(g,f)})}function fc(){var n=ie,r=ue,a=_e,l=Pe,u=re;if(u)var f=se;return function(){Wt(n),ct(r),pr(a),l==null||l.activate(),u&&(_t(!0),Ye(f)),Ma(null)}}async function dc(n){var r=_n,a=await n;return()=>(Ma(r),a)}function ps(){Wt(null),ct(null),pr(null),Ma(null)}let _n=null;function Ma(n){_n=n}const hc=new Set;function Ka(n){var r=st|mt,a=ue!==null&&(ue.f&st)!==0?ue:null;return ie===null||a!==null&&(a.f&St)!==0?r|=St:ie.f|=Bn,{ctx:_e,deps:null,effects:null,equals:rs,f:r,fn:n,reactions:null,rv:0,v:He,wv:0,parent:a??ie,ac:null}}function vc(n,r){let a=ie;a===null&&$l();var l=a.b,u=void 0,f=Vn(He),h=!ue,y=new Map;return Cc(()=>{var E;_n=ie;var g=Xo();u=g.promise;try{Promise.resolve(n()).then(g.resolve,g.reject)}catch(C){g.reject(C)}_n=null;var k=Pe,R=l.is_pending();h&&(l.update_pending_count(1),R||(k.increment(),(E=y.get(k))==null||E.reject(zr),y.set(k,g)));const T=(C,$=void 0)=>{_n=null,R||k.activate(),$?$!==zr&&(f.f|=Nn,Gr(f,$)):((f.f&Nn)!==0&&(f.f^=Nn),Gr(f,C)),h&&(l.update_pending_count(-1),R||k.decrement()),ps()};g.promise.then(T,C=>T(null,C||"unknown"))}),xc(()=>{for(const g of y.values())g.reject(zr)}),f.f|=qr,new Promise(g=>{function k(R){function T(){R===u?g(f):k(u)}R.then(T,T)}k(u)})}function Ba(n){const r=Ka(n);return r.equals=is,r}function ys(n){var r=n.effects;if(r!==null){n.effects=null;for(var a=0;a<r.length;a+=1)lt(r[a])}}let Na=[];function pc(n){for(var r=n.parent;r!==null;){if((r.f&st)===0)return r;r=r.parent}return null}function Fa(n){var r,a=ie;Wt(pc(n));{let l=mr;_s(new Set);try{Na.includes(n)&&Pl(),Na.push(n),ys(n),r=Ls(n)}finally{Wt(a),_s(l),Na.pop()}}return r}function ms(n){var r=Fa(n);if(n.equals(r)||(n.v=r,n.wv=Fs()),!Xn){var a=(wn||(n.f&St)!==0)&&n.deps!==null?an:Ve;Qe(n,a)}}let mr=new Set;const gn=new Map;function _s(n){mr=n}let ja=!1;function yc(){ja=!0}function Vn(n,r){var a={f:0,v:n,reactions:null,equals:rs,rv:0,wv:0};return a}function bn(n,r){const a=Vn(n);return Oc(a),a}function Yn(n,r=!1,a=!0){var u;const l=Vn(n);return r||(l.equals=is),be&&a&&_e!==null&&_e.l!==null&&((u=_e.l).s??(u.s=[])).push(l),l}function ut(n,r,a=!1){ue!==null&&(!At||(ue.f&Ai)!==0)&&Vr()&&(ue.f&(st|Mn|qr|Ai))!==0&&!(tt!=null&&tt.includes(n))&&zl();let l=a?_r(r):r;return os(l,n.label),Gr(n,l)}function Gr(n,r){if(!n.equals(r)){var a=n.v;Xn?gn.set(n,r):gn.set(n,a),n.v=r;var l=Vt.ensure();l.capture(n,a);{if(ie!==null){const u=as("UpdatedAt");if(u!==null){n.updated??(n.updated=new Map);let f=n.updated.get(u.stack);f||(f={error:u,count:0},n.updated.set(u.stack,f)),f.count++}}ie!==null&&(n.set_during_effect=!0)}(n.f&st)!==0&&((n.f&mt)!==0&&Fa(n),Qe(n,(n.f&St)===0?Ve:an)),n.wv=Fs(),bs(n,mt),Vr()&&ie!==null&&(ie.f&Ve)!==0&&(ie.f&(rn|mn))===0&&(Ct===null?$c([n]):Ct.push(n)),mr.size>0&&!ja&&gs()}return r}function gs(){ja=!1;const n=Array.from(mr);for(const r of n)(r.f&Ve)!==0&&Qe(r,an),ei(r)&&br(r);mr.clear()}function Qr(n){ut(n,n.v+1)}function bs(n,r){var a=n.reactions;if(a!==null)for(var l=Vr(),u=a.length,f=0;f<u;f++){var h=a[f],y=h.f;if(!(!l&&h===ie)){if((y&Ai)!==0){mr.add(h);continue}var g=(y&mt)===0;g&&Qe(h,r),(y&st)!==0?bs(h,an):g&&((y&Mn)!==0&&sn!==null&&sn.push(h),Hn(h))}}}const mc=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function _r(n){if(typeof n!="object"||n===null||qt in n)return n;const r=Ca(n);if(r!==El&&r!==xl)return n;var a=new Map,l=Sa(n),u=bn(0),f=Jn,h=R=>{if(Jn===f)return R();var T=ue,E=Jn;ct(null),Ns(f);var C=R();return ct(T),Ns(E),C};l&&(a.set("length",bn(n.length)),n=gc(n));var y="";let g=!1;function k(R){if(!g){g=!0,y=R,zt(u,`${y} version`);for(const[T,E]of a)zt(E,Wn(y,T));g=!1}}return new Proxy(n,{defineProperty(R,T,E){(!("value"in E)||E.configurable===!1||E.enumerable===!1||E.writable===!1)&&Ul();var C=a.get(T);return C===void 0?C=h(()=>{var $=bn(E.value);return a.set(T,$),typeof T=="string"&&zt($,Wn(y,T)),$}):ut(C,E.value,!0),!0},deleteProperty(R,T){var E=a.get(T);if(E===void 0){if(T in R){const C=h(()=>bn(He));a.set(T,C),Qr(u),zt(C,Wn(y,T))}}else ut(E,He),Qr(u);return!0},get(R,T,E){var F;if(T===qt)return n;if(T===es)return k;var C=a.get(T),$=T in R;if(C===void 0&&(!$||(F=yn(R,T))!=null&&F.writable)&&(C=h(()=>{var L=_r($?R[T]:He),ae=bn(L);return zt(ae,Wn(y,T)),ae}),a.set(T,C)),C!==void 0){var K=Te(C);return K===He?void 0:K}return Reflect.get(R,T,E)},getOwnPropertyDescriptor(R,T){var E=Reflect.getOwnPropertyDescriptor(R,T);if(E&&"value"in E){var C=a.get(T);C&&(E.value=Te(C))}else if(E===void 0){var $=a.get(T),K=$==null?void 0:$.v;if($!==void 0&&K!==He)return{enumerable:!0,configurable:!0,value:K,writable:!0}}return E},has(R,T){var K;if(T===qt)return!0;var E=a.get(T),C=E!==void 0&&E.v!==He||Reflect.has(R,T);if(E!==void 0||ie!==null&&(!C||(K=yn(R,T))!=null&&K.writable)){E===void 0&&(E=h(()=>{var F=C?_r(R[T]):He,L=bn(F);return zt(L,Wn(y,T)),L}),a.set(T,E));var $=Te(E);if($===He)return!1}return C},set(R,T,E,C){var de;var $=a.get(T),K=T in R;if(l&&T==="length")for(var F=E;F<$.v;F+=1){var L=a.get(F+"");L!==void 0?ut(L,He):F in R&&(L=h(()=>bn(He)),a.set(F+"",L),zt(L,Wn(y,F)))}if($===void 0)(!K||(de=yn(R,T))!=null&&de.writable)&&($=h(()=>bn(void 0)),zt($,Wn(y,T)),ut($,_r(E)),a.set(T,$));else{K=$.v!==He;var ae=h(()=>_r(E));ut($,ae)}var H=Reflect.getOwnPropertyDescriptor(R,T);if(H!=null&&H.set&&H.set.call(C,E),!K){if(l&&typeof T=="string"){var Y=a.get("length"),ee=Number(T);Number.isInteger(ee)&&ee>=Y.v&&ut(Y,ee+1)}Qr(u)}return!0},ownKeys(R){Te(u);var T=Reflect.ownKeys(R).filter($=>{var K=a.get($);return K===void 0||K.v!==He});for(var[E,C]of a)C.v!==He&&!(E in R)&&T.push(E);return T},setPrototypeOf(){ql()}})}function Wn(n,r){return typeof r=="symbol"?`${n}[Symbol(${r.description??""})]`:mc.test(r)?`${n}.${r}`:/^\d+$/.test(r)?`${n}[${r}]`:`${n}['${r}']`}function Xr(n){try{if(n!==null&&typeof n=="object"&&qt in n)return n[qt]}catch{}return n}const _c=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function gc(n){return new Proxy(n,{get(r,a,l){var u=Reflect.get(r,a,l);return _c.has(a)?function(...f){yc();var h=u.apply(this,f);return gs(),h}:u}})}function bc(){const n=Array.prototype,r=Array.__svelte_cleanup;r&&r();const{indexOf:a,lastIndexOf:l,includes:u}=n;n.indexOf=function(f,h){const y=a.call(this,f,h);if(y===-1){for(let g=h??0;g<this.length;g+=1)if(Xr(this[g])===f){Oi("array.indexOf(...)");break}}return y},n.lastIndexOf=function(f,h){const y=l.call(this,f,h??this.length-1);if(y===-1){for(let g=0;g<=(h??this.length-1);g+=1)if(Xr(this[g])===f){Oi("array.lastIndexOf(...)");break}}return y},n.includes=function(f,h){const y=u.call(this,f,h);if(!y){for(let g=0;g<this.length;g+=1)if(Xr(this[g])===f){Oi("array.includes(...)");break}}return y},Array.__svelte_cleanup=()=>{n.indexOf=a,n.lastIndexOf=l,n.includes=u}}function Pi(n,r,a=!0){try{n===r!=(Xr(n)===Xr(r))&&Oi(a?"===":"!==")}catch{}return n===r===a}var ws,La,Es,xs;function Ua(){if(ws===void 0){ws=window,La=/Firefox/.test(navigator.userAgent);var n=Element.prototype,r=Node.prototype,a=Text.prototype;Es=yn(r,"firstChild").get,xs=yn(r,"nextSibling").get,Qo(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),Qo(a)&&(a.__t=void 0),n.__svelte_meta=null,bc()}}function Nt(n=""){return document.createTextNode(n)}function Gn(n){return Es.call(n)}function Yt(n){return xs.call(n)}function me(n,r){if(!re)return Gn(n);var a=Gn(se);if(a===null)a=se.appendChild(Nt());else if(r&&a.nodeType!==ki){var l=Nt();return a==null||a.before(l),Ye(l),l}return Ye(a),a}function Jr(n,r=!1){if(!re){var a=Gn(n);return a instanceof Comment&&a.data===""?Yt(a):a}if(r&&(se==null?void 0:se.nodeType)!==ki){var l=Nt();return se==null||se.before(l),Ye(l),l}return se}function ke(n,r=1,a=!1){let l=re?se:n;for(var u;r--;)u=l,l=Yt(l);if(!re)return l;if(a&&(l==null?void 0:l.nodeType)!==ki){var f=Nt();return l===null?u==null||u.after(f):l.before(f),Ye(f),f}return Ye(l),l}function Ts(n){n.textContent=""}function Ss(){return!1}function As(n){var r=ue,a=ie;ct(null),Wt(null);try{return n()}finally{ct(r),Wt(a)}}function Cs(n){ie===null&&ue===null&&Bl(n),ue!==null&&(ue.f&St)!==0&&ie===null&&Kl(),Xn&&Ml(n)}function wc(n,r){var a=r.last;a===null?r.last=r.first=n:(a.next=n,n.prev=a,r.last=n)}function Ft(n,r,a,l=!0){for(var u=ie;u!==null&&(u.f&Ai)!==0;)u=u.parent;u!==null&&(u.f&Bt)!==0&&(n|=Bt);var f={ctx:_e,deps:null,nodes_start:null,nodes_end:null,f:n|mt,first:null,fn:r,last:null,next:null,parent:u,b:u&&u.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(f.component_function=Hr,a)try{br(f),f.f|=$a}catch(g){throw lt(f),g}else r!==null&&Hn(f);if(l){var h=f;if(a&&h.deps===null&&h.teardown===null&&h.nodes_start===null&&h.first===h.last&&(h.f&Bn)===0&&(h=h.first),h!==null&&(h.parent=u,u!==null&&wc(h,u),ue!==null&&(ue.f&st)!==0&&(n&mn)===0)){var y=ue;(y.effects??(y.effects=[])).push(h)}}return f}function Ec(){return ue!==null&&!At}function xc(n){const r=Ft(Ti,null,!1);return Qe(r,Ve),r.teardown=n,r}function qa(n){Cs("$effect"),Kt(n,"name",{value:"$effect"});var r=ie.f,a=!ue&&(r&rn)!==0&&(r&$a)===0;if(a){var l=_e;(l.e??(l.e=[])).push(n)}else return ks(n)}function ks(n){return Ft(Ra|Jo,n,!1)}function Tc(n){return Cs("$effect.pre"),Kt(n,"name",{value:"$effect.pre"}),Ft(Ti|Jo,n,!0)}function Sc(n){Vt.ensure();const r=Ft(mn|Bn,n,!0);return()=>{lt(r)}}function Ac(n){Vt.ensure();const r=Ft(mn|Bn,n,!0);return(a={})=>new Promise(l=>{a.outro?Qn(r,()=>{lt(r),l(void 0)}):(lt(r),l(void 0))})}function Rs(n){return Ft(Ra,n,!1)}function Cc(n){return Ft(qr|Bn,n,!0)}function za(n,r=0){return Ft(Ti|r,n,!0)}function jt(n,r=[],a=[]){cc(r,a,l=>{Ft(Ti,()=>n(...l.map(Te)),!0)})}function Mi(n,r=0){var a=Ft(Mn|r,n,!0);return a.dev_stack=on,a}function gt(n,r=!0){return Ft(rn|Bn,n,!0,r)}function Os(n){var r=n.teardown;if(r!==null){const a=Xn,l=ue;Ks(!0),ct(null);try{r.call(null)}finally{Ks(a),ct(l)}}}function $s(n,r=!1){var a=n.first;for(n.first=n.last=null;a!==null;){const u=a.ac;u!==null&&As(()=>{u.abort(zr)});var l=a.next;(a.f&mn)!==0?a.parent=null:lt(a,r),a=l}}function kc(n){for(var r=n.first;r!==null;){var a=r.next;(r.f&rn)===0&&lt(r),r=a}}function lt(n,r=!0){var a=!1;(r||(n.f&Al)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(Rc(n.nodes_start,n.nodes_end),a=!0),$s(n,r&&!a),Bi(n,0),Qe(n,Kn);var l=n.transitions;if(l!==null)for(const f of l)f.stop();Os(n);var u=n.parent;u!==null&&u.first!==null&&Is(n),n.component_function=null,n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function Rc(n,r){for(;n!==null;){var a=n===r?null:Yt(n);n.remove(),n=a}}function Is(n){var r=n.parent,a=n.prev,l=n.next;a!==null&&(a.next=l),l!==null&&(l.prev=a),r!==null&&(r.first===n&&(r.first=l),r.last===n&&(r.last=a))}function Qn(n,r){var a=[];Ha(n,a,!0),Ds(a,()=>{lt(n),r&&r()})}function Ds(n,r){var a=n.length;if(a>0){var l=()=>--a||r();for(var u of n)u.out(l)}else r()}function Ha(n,r,a){if((n.f&Bt)===0){if(n.f^=Bt,n.transitions!==null)for(const h of n.transitions)(h.is_global||a)&&r.push(h);for(var l=n.first;l!==null;){var u=l.next,f=(l.f&Ur)!==0||(l.f&rn)!==0;Ha(l,r,f?a:!1),l=u}}}function Ki(n){Ps(n,!0)}function Ps(n,r){if((n.f&Bt)!==0){n.f^=Bt,(n.f&Ve)===0&&(Qe(n,mt),Hn(n));for(var a=n.first;a!==null;){var l=a.next,u=(a.f&Ur)!==0||(a.f&rn)!==0;Ps(a,u?r:!1),a=l}if(n.transitions!==null)for(const f of n.transitions)(f.is_global||r)&&f.in()}}let gr=!1;function Ms(n){gr=n}let Xn=!1;function Ks(n){Xn=n}let ue=null,At=!1;function ct(n){ue=n}let ie=null;function Wt(n){ie=n}let tt=null;function Oc(n){ue!==null&&(tt===null?tt=[n]:tt.push(n))}let nt=null,bt=0,Ct=null;function $c(n){Ct=n}let Bs=1,Zr=0,Jn=Zr;function Ns(n){Jn=n}let wn=!1;function Fs(){return++Bs}function ei(n){var T;var r=n.f;if((r&mt)!==0)return!0;if((r&an)!==0){var a=n.deps,l=(r&St)!==0;if(a!==null){var u,f,h=(r&Si)!==0,y=l&&ie!==null&&!wn,g=a.length;if((h||y)&&(ie===null||(ie.f&Kn)===0)){var k=n,R=k.parent;for(u=0;u<g;u++)f=a[u],(h||!((T=f==null?void 0:f.reactions)!=null&&T.includes(k)))&&(f.reactions??(f.reactions=[])).push(k);h&&(k.f^=Si),y&&R!==null&&(R.f&St)===0&&(k.f^=St)}for(u=0;u<g;u++)if(f=a[u],ei(f)&&ms(f),f.wv>n.wv)return!0}(!l||ie!==null&&!wn)&&Qe(n,Ve)}return!1}function js(n,r,a=!0){var l=n.reactions;if(l!==null&&!(tt!=null&&tt.includes(n)))for(var u=0;u<l.length;u++){var f=l[u];(f.f&st)!==0?js(f,r,!1):r===f&&(a?Qe(f,mt):(f.f&Ve)!==0&&Qe(f,an),Hn(f))}}function Ls(n){var K;var r=nt,a=bt,l=Ct,u=ue,f=wn,h=tt,y=_e,g=At,k=Jn,R=n.f;nt=null,bt=0,Ct=null,wn=(R&St)!==0&&(At||!gr||ue===null),ue=(R&(rn|mn))===0?n:null,tt=null,pr(n.ctx),At=!1,Jn=++Zr,n.ac!==null&&(As(()=>{n.ac.abort(zr)}),n.ac=null);try{n.f|=Ci;var T=n.fn,E=T(),C=n.deps;if(nt!==null){var $;if(Bi(n,bt),C!==null&&bt>0)for(C.length=bt+nt.length,$=0;$<nt.length;$++)C[bt+$]=nt[$];else n.deps=C=nt;if(!wn||(R&st)!==0&&n.reactions!==null)for($=bt;$<C.length;$++)((K=C[$]).reactions??(K.reactions=[])).push(n)}else C!==null&&bt<C.length&&(Bi(n,bt),C.length=bt);if(Vr()&&Ct!==null&&!At&&C!==null&&(n.f&(st|an|mt))===0)for($=0;$<Ct.length;$++)js(Ct[$],n);return u!==null&&u!==n&&(Zr++,Ct!==null&&(l===null?l=Ct:l.push(...Ct))),(n.f&Nn)!==0&&(n.f^=Nn),E}catch(F){return cs(F)}finally{n.f^=Ci,nt=r,bt=a,Ct=l,ue=u,wn=f,tt=h,pr(y),At=g,Jn=k}}function Ic(n,r){let a=r.reactions;if(a!==null){var l=wl.call(a,n);if(l!==-1){var u=a.length-1;u===0?a=r.reactions=null:(a[l]=a[u],a.pop())}}a===null&&(r.f&st)!==0&&(nt===null||!nt.includes(r))&&(Qe(r,an),(r.f&(St|Si))===0&&(r.f^=Si),ys(r),Bi(r,0))}function Bi(n,r){var a=n.deps;if(a!==null)for(var l=r;l<a.length;l++)Ic(n,a[l])}function br(n){var r=n.f;if((r&Kn)===0){Qe(n,Ve);var a=ie,l=gr;ie=n,gr=!0;{var u=Hr;us(n.component_function);var f=on;ss(n.dev_stack??on)}try{(r&Mn)!==0?kc(n):$s(n),Os(n);var h=Ls(n);n.teardown=typeof h=="function"?h:null,n.wv=Bs;var y;Wo&&Ue&&(n.f&mt)!==0&&n.deps}finally{gr=l,ie=a,us(u),ss(f)}}}function Te(n){var E;var r=n.f,a=(r&st)!==0;if(ue!==null&&!At){var l=ie!==null&&(ie.f&Kn)!==0;if(!l&&!(tt!=null&&tt.includes(n))){var u=ue.deps;if((ue.f&Ci)!==0)n.rv<Zr&&(n.rv=Zr,nt===null&&u!==null&&u[bt]===n?bt++:nt===null?nt=[n]:(!wn||!nt.includes(n))&&nt.push(n));else{(ue.deps??(ue.deps=[])).push(n);var f=n.reactions;f===null?n.reactions=[ue]:f.includes(ue)||f.push(ue)}}}else if(a&&n.deps===null&&n.effects===null){var h=n,y=h.parent;y!==null&&(y.f&St)===0&&(h.f^=St)}{if(_n){var g=(_n.f&Ci)!==0,k=(E=_n.deps)==null?void 0:E.includes(n);if(!g&&!At&&!k){Vl(n.label);var R=as("TracedAt");R&&console.warn(R)}}hc.delete(n)}if(Xn){if(gn.has(n))return gn.get(n);if(a){h=n;var T=h.v;return((h.f&Ve)===0&&h.reactions!==null||Us(h))&&(T=Fa(h)),gn.set(h,T),T}}else a&&(h=n,ei(h)&&ms(h));if((n.f&Nn)!==0)throw n.v;return n.v}function Us(n){if(n.v===He)return!0;if(n.deps===null)return!1;for(const r of n.deps)if(gn.has(r)||(r.f&st)!==0&&Us(r))return!0;return!1}function fe(n){var r=At;try{return At=!0,n()}finally{At=r}}const Dc=-7169;function Qe(n,r){n.f=n.f&Dc|r}function le(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(qt in n)Va(n);else if(!Array.isArray(n))for(let r in n){const a=n[r];typeof a=="object"&&a&&qt in a&&Va(a)}}}function Va(n,r=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!r.has(n)){r.add(n),n instanceof Date&&n.getTime();for(let l in n)try{Va(n[l],r)}catch{}const a=Ca(n);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const l=Go(a);for(let u in l){const f=l[u].get;if(f)try{f.call(n)}catch{}}}}}const Pc=new Set,qs=new Set;let zs=null;function Ni(n){var ae;var r=this,a=r.ownerDocument,l=n.type,u=((ae=n.composedPath)==null?void 0:ae.call(n))||[],f=u[0]||n.target;zs=n;var h=0,y=zs===n&&n.__root;if(y){var g=u.indexOf(y);if(g!==-1&&(r===document||r===window)){n.__root=r;return}var k=u.indexOf(r);if(k===-1)return;g<=k&&(h=g)}if(f=u[h]||n.target,f!==r){Kt(n,"currentTarget",{configurable:!0,get(){return f||a}});var R=ue,T=ie;ct(null),Wt(null);try{for(var E,C=[];f!==null;){var $=f.assignedSlot||f.parentNode||f.host||null;try{var K=f["__"+l];if(K!=null&&(!f.disabled||n.target===f))if(Sa(K)){var[F,...L]=K;F.apply(f,[n,...L])}else K.call(f,n)}catch(H){E?C.push(H):E=H}if(n.cancelBubble||$===r||$===null)break;f=$}if(E){for(let H of C)queueMicrotask(()=>{throw H});throw E}}finally{n.__root=r,delete n.currentTarget,ct(R),Wt(T)}}}function Mc(n){var r=document.createElement("template");return r.innerHTML=n.replaceAll("<!>","<!---->"),r.content}function un(n,r){var a=ie;a.nodes_start===null&&(a.nodes_start=n,a.nodes_end=r)}function ft(n,r){var a=(r&ml)!==0,l=(r&_l)!==0,u,f=!n.startsWith("<!>");return()=>{if(re)return un(se,null),se;u===void 0&&(u=Mc(f?n:"<!>"+n),a||(u=Gn(u)));var h=l||La?document.importNode(u,!0):u.cloneNode(!0);if(a){var y=Gn(h),g=h.lastChild;un(y,g)}else un(h,h);return h}}function Ya(n=""){if(!re){var r=Nt(n+"");return un(r,r),r}var a=se;return a.nodeType!==ki&&(a.before(a=Nt()),Ye(a)),un(a,a),a}function Hs(){if(re)return un(se,null),se;var n=document.createDocumentFragment(),r=document.createComment(""),a=Nt();return n.append(r,a),un(r,a),n}function Be(n,r){if(re){ie.nodes_end=se,vr();return}n!==null&&n.before(r)}const Kc=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function Bc(n){return Kc.includes(n)||n.toLowerCase()==="!doctype"}const Nc=["touchstart","touchmove"];function Fc(n){return Nc.includes(n)}const jc=["textarea","script","style","title"];function Lc(n){return jc.includes(n)}function rt(n,r){var a=r==null?"":typeof r=="object"?r+"":r;a!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=a,n.nodeValue=a+"")}function Vs(n,r){return Ys(n,r)}function Uc(n,r){Ua(),r.intro=r.intro??!1;const a=r.target,l=re,u=se;try{for(var f=Gn(a);f&&(f.nodeType!==Fn||f.data!==Ta);)f=Yt(f);if(!f)throw hr;_t(!0),Ye(f);const h=Ys(n,{...r,anchor:f});return _t(!1),h}catch(h){if(h instanceof Error&&h.message.split(`
`).some(y=>y.startsWith("https://svelte.dev/e/")))throw h;return h!==hr&&console.warn("Failed to hydrate: ",h),r.recover===!1&&Fl(),Ua(),Ts(a),_t(!1),Vs(n,r)}finally{_t(l),Ye(u)}}const wr=new Map;function Ys(n,{target:r,anchor:a,props:l={},events:u,context:f,intro:h=!0}){Ua();var y=new Set,g=T=>{for(var E=0;E<T.length;E++){var C=T[E];if(!y.has(C)){y.add(C);var $=Fc(C);r.addEventListener(C,Ni,{passive:$});var K=wr.get(C);K===void 0?(document.addEventListener(C,Ni,{passive:$}),wr.set(C,1)):wr.set(C,K+1)}}};g(Aa(Pc)),qs.add(g);var k=void 0,R=Ac(()=>{var T=a??r.appendChild(Nt());return sc(T,{pending:()=>{}},E=>{if(f){Un({});var C=_e;C.c=f}if(u&&(l.$$events=u),re&&un(E,null),k=n(E,l)||{},re&&(ie.nodes_end=se,se===null||se.nodeType!==Fn||se.data!==Ei))throw Ri(),hr;f&&qn()}),()=>{var $;for(var E of y){r.removeEventListener(E,Ni);var C=wr.get(E);--C===0?(document.removeEventListener(E,Ni),wr.delete(E)):wr.set(E,C)}qs.delete(g),T!==a&&(($=T.parentNode)==null||$.removeChild(T))}});return Wa.set(k,R),k}let Wa=new WeakMap;function qc(n,r){const a=Wa.get(n);return a?(Wa.delete(n),a(r)):(qt in n?Gl():Wl(),Promise.resolve())}function zc(n){const r=n();r&&Bc(r)&&tc(r)}function Hc(n){const r=n();r&&!(typeof r=="string")&&Ol()}{let n=function(r){if(!(r in globalThis)){let a;Object.defineProperty(globalThis,r,{configurable:!0,get:()=>{if(a!==void 0)return a;Ll(r)},set:l=>{a=l}})}};n("$state"),n("$effect"),n("$derived"),n("$inspect"),n("$props"),n("$bindable")}function Vc(n){_e===null&&Rl("onMount"),be&&_e.l!==null?Yc(_e).m.push(n):qa(()=>{const r=fe(n);if(typeof r=="function")return r})}function Yc(n){var r=n.l;return r.u??(r.u={a:[],b:[],m:[]})}var Ws=new Map;function Wc(n,r){var a=Ws.get(n);a||(a=new Set,Ws.set(n,a)),a.add(r)}function dt(n,r,a){return(...l)=>{const u=n(...l);var f=re?u:u.nodeType===kl?u.firstChild:u;return Gs(f,r,a),u}}function Gc(n,r,a){n.__svelte_meta={parent:on,loc:{file:r,line:a[0],column:a[1]}},a[2]&&Gs(n.firstChild,r,a[2])}function Gs(n,r,a){for(var l=0,u=0;n&&l<a.length;){if(re&&n.nodeType===Fn){var f=n;f.data===Ta||f.data===Lr?u+=1:f.data[0]===Ei&&(u-=1)}u===0&&n.nodeType===ts&&Gc(n,r,a[l++]),n=n.nextSibling}}function Er(n){n&&Dl(n[Se]??"a component",n.name)}function xr(){const n=_e==null?void 0:_e.function;function r(a){Il(a,n[Se])}return{$destroy:()=>r("$destroy()"),$on:()=>r("$on(...)"),$set:()=>r("$set(...)")}}function ln(n,r,a=!1){re&&vr();var l=n,u=null,f=null,h=He,y=a?Ur:0,g=!1;const k=(C,$=!0)=>{g=!0,E($,C)};var R=null;function T(){R!==null&&(R.lastChild.remove(),l.before(R),R=null);var C=h?u:f,$=h?f:u;C&&Ki(C),$&&Qn($,()=>{h?f=null:u=null})}const E=(C,$)=>{if(h===(h=C))return;let K=!1;if(re){const ee=ns(l)===Lr;!!h===ee&&(l=$i(),Ye(l),_t(!1),K=!0)}var F=Ss(),L=l;if(F&&(R=document.createDocumentFragment(),R.append(L=Nt())),h?u??(u=$&&gt(()=>$(L))):f??(f=$&&gt(()=>$(L))),F){var ae=Pe,H=h?u:f,Y=h?f:u;H&&ae.skipped_effects.delete(H),Y&&ae.skipped_effects.add(Y),ae.add_callback(T)}else T();K&&_t(!0)};Mi(()=>{g=!1,r(k),g||E(null,null)},y),re&&(l=se)}function Qs(n,r){return r}function Qc(n,r,a){for(var l=n.items,u=[],f=r.length,h=0;h<f;h++)Ha(r[h].e,u,!0);var y=f>0&&u.length===0&&a!==null;if(y){var g=a.parentNode;Ts(g),g.append(a),l.clear(),Gt(n,r[0].prev,r[f-1].next)}Ds(u,()=>{for(var k=0;k<f;k++){var R=r[k];y||(l.delete(R.k),Gt(n,R.prev,R.next)),lt(R.e,!y)}})}function Xs(n,r,a,l,u,f=null){var h=n,y={flags:r,items:new Map,first:null};re&&vr();var g=null,k=!1,R=new Map,T=Ba(()=>{var K=a();return Sa(K)?K:K==null?[]:Aa(K)}),E,C;function $(){Xc(C,E,y,R,h,u,r,l,a),f!==null&&(E.length===0?g?Ki(g):g=gt(()=>f(h)):g!==null&&Qn(g,()=>{g=null}))}Mi(()=>{C??(C=ie),E=Te(T);var K=E.length;if(k&&K===0)return;k=K===0;let F=!1;if(re){var L=ns(h)===Lr;L!==(K===0)&&(h=$i(),Ye(h),_t(!1),F=!0)}if(re){for(var ae=null,H,Y=0;Y<K;Y++){if(se.nodeType===Fn&&se.data===Ei){h=se,F=!0,_t(!1);break}var ee=E[Y],de=l(ee,Y);H=Ga(se,y,ae,null,ee,de,Y,u,r,a),y.items.set(de,H),ae=H}K>0&&Ye($i())}if(re)K===0&&f&&(g=gt(()=>f(h)));else if(Ss()){var Fe=new Set,Me=Pe;for(Y=0;Y<K;Y+=1){ee=E[Y],de=l(ee,Y);var pe=y.items.get(de)??R.get(de);pe?Js(pe,ee,Y):(H=Ga(null,y,null,null,ee,de,Y,u,r,a,!0),R.set(de,H)),Fe.add(de)}for(const[we,je]of y.items)Fe.has(we)||Me.skipped_effects.add(je.e);Me.add_callback($)}else $();F&&_t(!0),Te(T)}),re&&(h=se)}function Xc(n,r,a,l,u,f,h,y,g){var k=r.length,R=a.items,T=a.first,E=T,C,$=null,K=[],F=[],L,ae,H,Y;for(Y=0;Y<k;Y+=1){if(L=r[Y],ae=y(L,Y),H=R.get(ae),H===void 0){var ee=l.get(ae);if(ee!==void 0){l.delete(ae),R.set(ae,ee);var de=$?$.next:E;Gt(a,$,ee),Gt(a,ee,de),Qa(ee,de,u),$=ee}else{var Fe=E?E.e.nodes_start:u;$=Ga(Fe,a,$,$===null?a.first:$.next,L,ae,Y,f,h,g)}R.set(ae,$),K=[],F=[],E=$.next;continue}if(Js(H,L,Y),(H.e.f&Bt)!==0&&Ki(H.e),H!==E){if(C!==void 0&&C.has(H)){if(K.length<F.length){var Me=F[0],pe;$=Me.prev;var we=K[0],je=K[K.length-1];for(pe=0;pe<K.length;pe+=1)Qa(K[pe],Me,u);for(pe=0;pe<F.length;pe+=1)C.delete(F[pe]);Gt(a,we.prev,je.next),Gt(a,$,we),Gt(a,je,Me),E=Me,$=je,Y-=1,K=[],F=[]}else C.delete(H),Qa(H,E,u),Gt(a,H.prev,H.next),Gt(a,H,$===null?a.first:$.next),Gt(a,$,H),$=H;continue}for(K=[],F=[];E!==null&&E.k!==ae;)(E.e.f&Bt)===0&&(C??(C=new Set)).add(E),F.push(E),E=E.next;if(E===null)continue;H=E}K.push(H),$=H,E=H.next}if(E!==null||C!==void 0){for(var Re=C===void 0?[]:Aa(C);E!==null;)(E.e.f&Bt)===0&&Re.push(E),E=E.next;var Ge=Re.length;if(Ge>0){var at=null;Qc(a,Re,at)}}n.first=a.first&&a.first.e,n.last=$&&$.e;for(var Oe of l.values())lt(Oe.e);l.clear()}function Js(n,r,a,l){Gr(n.v,r),n.i=a}function Ga(n,r,a,l,u,f,h,y,g,k,R){var T=(g&dl)!==0,E=(g&vl)===0,C=T?E?Yn(u,!1,!1):Vn(u):u,$=(g&hl)===0?h:Vn(h);C.trace=()=>{var L=typeof $=="number"?h:$.v;k()[L]};var K={i:$,v:C,k:f,a:null,e:null,prev:a,next:l};try{if(n===null){var F=document.createDocumentFragment();F.append(n=Nt())}return K.e=gt(()=>y(n,C,$,k),re),K.e.prev=a&&a.e,K.e.next=l&&l.e,a===null?R||(r.first=K):(a.next=K,a.e.next=K.e),l!==null&&(l.prev=K,l.e.prev=K.e),K}finally{}}function Qa(n,r,a){for(var l=n.next?n.next.e.nodes_start:a,u=r?r.e.nodes_start:a,f=n.e.nodes_start;f!==null&&f!==l;){var h=Yt(f);u.before(f),f=h}}function Gt(n,r,a){r===null?n.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Jc(n,r,a,l,u,f){let h=re;re&&vr();var y=f&&(_e==null?void 0:_e.function[Se]),g,k,R=null;re&&se.nodeType===ts&&(R=se,vr());var T=re?se:n,E;Mi(()=>{const C=r()||null;var $=C==="svg"?bl:null;C!==g&&(E&&(C===null?Qn(E,()=>{E=null,k=null}):C===k?Ki(E):lt(E)),C&&C!==k&&(E=gt(()=>{if(R=re?R:$?document.createElementNS($,C):document.createElement(C),f&&(R.__svelte_meta={parent:on,loc:{file:y,line:f[0],column:f[1]}}),un(R,R),l){re&&Lc(C)&&R.append(document.createComment(""));var K=re?Gn(R):R.appendChild(Nt());re&&(K===null?_t(!1):Ye(K)),l(R,K)}ie.nodes_end=R,T.before(R)})),g=C,g&&(k=g))},Ur),h&&(_t(!0),Ye(T))}function Tr(n,r){Rs(()=>{var a=n.getRootNode(),l=a.host?a:a.head??a.ownerDocument.head;if(!l.querySelector("#"+r.hash)){const u=document.createElement("style");u.id=r.hash,u.textContent=r.code,l.appendChild(u),Wc(r.hash,u)}})}const Zs=[...` 	
\r\f \v\uFEFF`];function Zc(n,r,a){var l=n==null?"":""+n;if(r&&(l=l?l+" "+r:r),a){for(var u in a)if(a[u])l=l?l+" "+u:u;else if(l.length)for(var f=u.length,h=0;(h=l.indexOf(u,h))>=0;){var y=h+f;(h===0||Zs.includes(l[h-1]))&&(y===l.length||Zs.includes(l[y]))?l=(h===0?"":l.substring(0,h))+l.substring(y+1):h=y}}return l===""?null:l}function ef(n,r){return n==null?null:String(n)}function eu(n,r,a,l,u,f){var h=n.__className;if(re||h!==a||h===void 0){var y=Zc(a,l,f);(!re||y!==n.getAttribute("class"))&&(y==null?n.removeAttribute("class"):r?n.className=y:n.setAttribute("class",y)),n.__className=a}else if(f&&u!==f)for(var g in f){var k=!!f[g];(u==null||k!==!!u[g])&&n.classList.toggle(g,k)}return f}function tf(n,r,a,l){var u=n.__style;if(re||u!==r){var f=ef(r);(!re||f!==n.getAttribute("style"))&&(f==null?n.removeAttribute("style"):n.style.cssText=f),n.__style=r}return l}const nf=Symbol("is custom element"),rf=Symbol("is html");function kt(n,r,a,l){var u=af(n);if(re&&(u[r]=n.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&n.nodeName==="LINK")){sf(n,r,a??"");return}u[r]!==(u[r]=a)&&(r==="loading"&&(n[Cl]=a),a==null?n.removeAttribute(r):typeof a!="string"&&of(n).includes(r)?n[r]=a:n.setAttribute(r,a))}function af(n){return n.__attributes??(n.__attributes={[nf]:n.nodeName.includes("-"),[rf]:n.namespaceURI===gl})}var tu=new Map;function of(n){var r=n.getAttribute("is")||n.nodeName,a=tu.get(r);if(a)return a;tu.set(r,a=[]);for(var l,u=n,f=Element.prototype;f!==u;){l=Go(u);for(var h in l)l[h].set&&a.push(h);u=Ca(u)}return a}function sf(n,r,a){r==="srcset"&&uf(n,a)||Xa(n.getAttribute(r)??"",a)||Yl(r,n.outerHTML.replace(n.innerHTML,n.innerHTML&&"..."),String(a))}function Xa(n,r){return n===r?!0:new URL(n,document.baseURI).href===new URL(r,document.baseURI).href}function nu(n){return n.split(",").map(r=>r.trim().split(" ").filter(Boolean))}function uf(n,r){var a=nu(n.srcset),l=nu(r);return l.length===a.length&&l.every(([u,f],h)=>f===a[h][1]&&(Xa(a[h][0],u)||Xa(u,a[h][0])))}function ru(n,r){return n===r||(n==null?void 0:n[qt])===r}function lf(n={},r,a,l){return Rs(()=>{var u,f;return za(()=>{u=f,f=[],fe(()=>{n!==a(...f)&&(r(n,...f),u&&ru(a(...u),n)&&r(null,...u))})}),()=>{Yr(()=>{f&&ru(a(...f),n)&&r(null,...f)})}}),n}function Ja(n=!1){const r=_e,a=r.l.u;if(!a)return;let l=()=>le(r.s);if(n){let u=0,f={};const h=Ka(()=>{let y=!1;const g=r.s;for(const k in g)g[k]!==f[k]&&(f[k]=g[k],y=!0);return y&&u++,u});l=()=>Te(h)}a.b.length&&Tc(()=>{iu(r,l),ka(a.b)}),qa(()=>{const u=fe(()=>a.m.map(Sl));return()=>{for(const f of u)typeof f=="function"&&f()}}),a.a.length&&qa(()=>{iu(r,l),ka(a.a)})}function iu(n,r){if(n.l.s)for(const a of n.l.s)Te(a);r()}let Fi=!1;function cf(n){var r=Fi;try{return Fi=!1,[n(),Fi]}finally{Fi=r}}function ht(n,r,a,l){var ae;var u=!be||(a&pl)!==0,f=(a&yl)!==0,h=l,y=!0,g=()=>(y&&(y=!1,h=l),h),k;{var R=qt in n||Zo in n;k=((ae=yn(n,r))==null?void 0:ae.set)??(R&&r in n?H=>n[r]=H:void 0)}var T,E=!1;[T,E]=cf(()=>n[r]),T===void 0&&l!==void 0&&(T=g(),k&&(u&&jl(r),k(T)));var C;if(u?C=()=>{var H=n[r];return H===void 0?g():(y=!0,H)}:C=()=>{var H=n[r];return H!==void 0&&(h=void 0),H===void 0?h:H},k){var $=n.$$legacy;return function(H,Y){return arguments.length>0?((!u||!Y||$||E)&&k(Y?C():H),H):C()}}var K=!1,F=Ba(()=>(K=!1,C()));F.label=r,Te(F);var L=ie;return function(H,Y){if(arguments.length>0){const ee=Y?Te(F):u&&f?_r(H):H;return ut(F,ee),K=!0,h!==void 0&&(h=ee),H}return Xn&&K||(L.f&Kn)!==0?F.v:Te(F)}}function ff(n){return new df(n)}class df{constructor(r){ge(this,fn);ge(this,It);var f;var a=new Map,l=(h,y)=>{var g=Yn(y,!1,!1);return a.set(h,g),g};const u=new Proxy({...r.props||{},$$events:{}},{get(h,y){return Te(a.get(y)??l(y,Reflect.get(h,y)))},has(h,y){return y===Zo?!0:(Te(a.get(y)??l(y,Reflect.get(h,y))),Reflect.has(h,y))},set(h,y,g){return ut(a.get(y)??l(y,g),g),Reflect.set(h,y,g)}});ne(this,It,(r.hydrate?Uc:Vs)(r.component,{target:r.target,anchor:r.anchor,props:u,context:r.context,intro:r.intro??!1,recover:r.recover})),(!((f=r==null?void 0:r.props)!=null&&f.$$host)||r.sync===!1)&&et(),ne(this,fn,u.$$events);for(const h of Object.keys(B(this,It)))h==="$set"||h==="$destroy"||h==="$on"||Kt(this,h,{get(){return B(this,It)[h]},set(y){B(this,It)[h]=y},enumerable:!0});B(this,It).$set=h=>{Object.assign(u,h)},B(this,It).$destroy=()=>{qc(B(this,It))}}$set(r){B(this,It).$set(r)}$on(r,a){B(this,fn)[r]=B(this,fn)[r]||[];const l=(...u)=>a.call(this,...u);return B(this,fn)[r].push(l),()=>{B(this,fn)[r]=B(this,fn)[r].filter(u=>u!==l)}}$destroy(){B(this,It).$destroy()}}fn=new WeakMap,It=new WeakMap;let au;typeof HTMLElement=="function"&&(au=class extends HTMLElement{constructor(r,a,l){super();Ze(this,"$$ctor");Ze(this,"$$s");Ze(this,"$$c");Ze(this,"$$cn",!1);Ze(this,"$$d",{});Ze(this,"$$r",!1);Ze(this,"$$p_d",{});Ze(this,"$$l",{});Ze(this,"$$l_u",new Map);Ze(this,"$$me");this.$$ctor=r,this.$$s=a,l&&this.attachShadow({mode:"open"})}addEventListener(r,a,l){if(this.$$l[r]=this.$$l[r]||[],this.$$l[r].push(a),this.$$c){const u=this.$$c.$on(r,a);this.$$l_u.set(a,u)}super.addEventListener(r,a,l)}removeEventListener(r,a,l){if(super.removeEventListener(r,a,l),this.$$c){const u=this.$$l_u.get(a);u&&(u(),this.$$l_u.delete(a))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let r=function(u){return f=>{const h=document.createElement("slot");u!=="default"&&(h.name=u),Be(f,h)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const a={},l=hf(this);for(const u of this.$$s)u in l&&(u==="default"&&!this.$$d.children?(this.$$d.children=r(u),a.default=!0):a[u]=r(u));for(const u of this.attributes){const f=this.$$g_p(u.name);f in this.$$d||(this.$$d[f]=ji(f,u.value,this.$$p_d,"toProp"))}for(const u in this.$$p_d)!(u in this.$$d)&&this[u]!==void 0&&(this.$$d[u]=this[u],delete this[u]);this.$$c=ff({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:a,$$host:this}}),this.$$me=Sc(()=>{za(()=>{var u;this.$$r=!0;for(const f of xi(this.$$c)){if(!((u=this.$$p_d[f])!=null&&u.reflect))continue;this.$$d[f]=this.$$c[f];const h=ji(f,this.$$d[f],this.$$p_d,"toAttribute");h==null?this.removeAttribute(this.$$p_d[f].attribute||f):this.setAttribute(this.$$p_d[f].attribute||f,h)}this.$$r=!1})});for(const u in this.$$l)for(const f of this.$$l[u]){const h=this.$$c.$on(u,f);this.$$l_u.set(f,h)}this.$$l={}}}attributeChangedCallback(r,a,l){var u;this.$$r||(r=this.$$g_p(r),this.$$d[r]=ji(r,l,this.$$p_d,"toProp"),(u=this.$$c)==null||u.$set({[r]:this.$$d[r]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(r){return xi(this.$$p_d).find(a=>this.$$p_d[a].attribute===r||!this.$$p_d[a].attribute&&a.toLowerCase()===r)||r}});function ji(n,r,a,l){var f;const u=(f=a[n])==null?void 0:f.type;if(r=u==="Boolean"&&typeof r!="boolean"?r!=null:r,!l||!a[n])return r;if(l==="toAttribute")switch(u){case"Object":case"Array":return r==null?null:JSON.stringify(r);case"Boolean":return r?"":null;case"Number":return r??null;default:return r}else switch(u){case"Object":case"Array":return r&&JSON.parse(r);case"Boolean":return r;case"Number":return r!=null?+r:r;default:return r}}function hf(n){const r={};return n.childNodes.forEach(a=>{r[a.slot||"default"]=!0}),r}function Sr(n,r,a,l,u,f){let h=class extends au{constructor(){super(n,a,u),this.$$p_d=r}static get observedAttributes(){return xi(r).map(y=>(r[y].attribute||y).toLowerCase())}};return xi(r).forEach(y=>{Kt(h.prototype,y,{get(){return this.$$c&&y in this.$$c?this.$$c[y]:this.$$d[y]},set(g){var T;g=ji(y,g,r),this.$$d[y]=g;var k=this.$$c;if(k){var R=(T=yn(k,y))==null?void 0:T.get;R?k[y]=g:k.$set({[y]:g})}}})}),l.forEach(y=>{Kt(h.prototype,y,{get(){var g;return(g=this.$$c)==null?void 0:g[y]}})}),n.element=h,h}const vf=/\{[^{}]+\}/g,pf=()=>{var n,r;return typeof process=="object"&&Number.parseInt((r=(n=process==null?void 0:process.versions)==null?void 0:n.node)==null?void 0:r.substring(0,2))>=18&&process.versions.undici};function yf(){return Math.random().toString(36).slice(2,11)}function mf(n){let{baseUrl:r="",Request:a=globalThis.Request,fetch:l=globalThis.fetch,querySerializer:u,bodySerializer:f,headers:h,requestInitExt:y=void 0,...g}={...n};y=pf()?y:void 0,r=cu(r);const k=[];async function R(T,E){const{baseUrl:C,fetch:$=l,Request:K=a,headers:F,params:L={},parseAs:ae="json",querySerializer:H,bodySerializer:Y=f??gf,body:ee,...de}=E||{};let Fe=r;C&&(Fe=cu(C)??r);let Me=typeof u=="function"?u:uu(u);H&&(Me=typeof H=="function"?H:uu({...typeof u=="object"?u:{},...H}));const pe=ee===void 0?void 0:Y(ee,lu(h,F,L.header)),we=lu(pe===void 0||pe instanceof FormData?{}:{"Content-Type":"application/json"},h,F,L.header),je={redirect:"follow",...g,...de,body:pe,headers:we};let Re,Ge,at=new K(bf(T,{baseUrl:Fe,params:L,querySerializer:Me}),je),Oe;for(const G in de)G in at||(at[G]=de[G]);if(k.length){Re=yf(),Ge=Object.freeze({baseUrl:Fe,fetch:$,parseAs:ae,querySerializer:Me,bodySerializer:Y});for(const G of k)if(G&&typeof G=="object"&&typeof G.onRequest=="function"){const te=await G.onRequest({request:at,schemaPath:T,params:L,options:Ge,id:Re});if(te)if(te instanceof K)at=te;else if(te instanceof Response){Oe=te;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!Oe){try{Oe=await $(at,y)}catch(G){let te=G;if(k.length)for(let De=k.length-1;De>=0;De--){const Le=k[De];if(Le&&typeof Le=="object"&&typeof Le.onError=="function"){const ot=await Le.onError({request:at,error:te,schemaPath:T,params:L,options:Ge,id:Re});if(ot){if(ot instanceof Response){te=void 0,Oe=ot;break}if(ot instanceof Error){te=ot;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(te)throw te}if(k.length)for(let G=k.length-1;G>=0;G--){const te=k[G];if(te&&typeof te=="object"&&typeof te.onResponse=="function"){const De=await te.onResponse({request:at,response:Oe,schemaPath:T,params:L,options:Ge,id:Re});if(De){if(!(De instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");Oe=De}}}}if(Oe.status===204||at.method==="HEAD"||Oe.headers.get("Content-Length")==="0")return Oe.ok?{data:void 0,response:Oe}:{error:void 0,response:Oe};if(Oe.ok)return ae==="stream"?{data:Oe.body,response:Oe}:{data:await Oe[ae](),response:Oe};let Sn=await Oe.text();try{Sn=JSON.parse(Sn)}catch{}return{error:Sn,response:Oe}}return{request(T,E,C){return R(E,{...C,method:T.toUpperCase()})},GET(T,E){return R(T,{...E,method:"GET"})},PUT(T,E){return R(T,{...E,method:"PUT"})},POST(T,E){return R(T,{...E,method:"POST"})},DELETE(T,E){return R(T,{...E,method:"DELETE"})},OPTIONS(T,E){return R(T,{...E,method:"OPTIONS"})},HEAD(T,E){return R(T,{...E,method:"HEAD"})},PATCH(T,E){return R(T,{...E,method:"PATCH"})},TRACE(T,E){return R(T,{...E,method:"TRACE"})},use(...T){for(const E of T)if(E){if(typeof E!="object"||!("onRequest"in E||"onResponse"in E||"onError"in E))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");k.push(E)}},eject(...T){for(const E of T){const C=k.indexOf(E);C!==-1&&k.splice(C,1)}}}}function Li(n,r,a){if(r==null)return"";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${n}=${(a==null?void 0:a.allowReserved)===!0?r:encodeURIComponent(r)}`}function ou(n,r,a){if(!r||typeof r!="object")return"";const l=[],u={simple:",",label:".",matrix:";"}[a.style]||"&";if(a.style!=="deepObject"&&a.explode===!1){for(const y in r)l.push(y,a.allowReserved===!0?r[y]:encodeURIComponent(r[y]));const h=l.join(",");switch(a.style){case"form":return`${n}=${h}`;case"label":return`.${h}`;case"matrix":return`;${n}=${h}`;default:return h}}for(const h in r){const y=a.style==="deepObject"?`${n}[${h}]`:h;l.push(Li(y,r[h],a))}const f=l.join(u);return a.style==="label"||a.style==="matrix"?`${u}${f}`:f}function su(n,r,a){if(!Array.isArray(r))return"";if(a.explode===!1){const f={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[a.style]||",",h=(a.allowReserved===!0?r:r.map(y=>encodeURIComponent(y))).join(f);switch(a.style){case"simple":return h;case"label":return`.${h}`;case"matrix":return`;${n}=${h}`;default:return`${n}=${h}`}}const l={simple:",",label:".",matrix:";"}[a.style]||"&",u=[];for(const f of r)a.style==="simple"||a.style==="label"?u.push(a.allowReserved===!0?f:encodeURIComponent(f)):u.push(Li(n,f,a));return a.style==="label"||a.style==="matrix"?`${l}${u.join(l)}`:u.join(l)}function uu(n){return function(a){const l=[];if(a&&typeof a=="object")for(const u in a){const f=a[u];if(f!=null){if(Array.isArray(f)){if(f.length===0)continue;l.push(su(u,f,{style:"form",explode:!0,...n==null?void 0:n.array,allowReserved:(n==null?void 0:n.allowReserved)||!1}));continue}if(typeof f=="object"){l.push(ou(u,f,{style:"deepObject",explode:!0,...n==null?void 0:n.object,allowReserved:(n==null?void 0:n.allowReserved)||!1}));continue}l.push(Li(u,f,n))}}return l.join("&")}}function _f(n,r){let a=n;for(const l of n.match(vf)??[]){let u=l.substring(1,l.length-1),f=!1,h="simple";if(u.endsWith("*")&&(f=!0,u=u.substring(0,u.length-1)),u.startsWith(".")?(h="label",u=u.substring(1)):u.startsWith(";")&&(h="matrix",u=u.substring(1)),!r||r[u]===void 0||r[u]===null)continue;const y=r[u];if(Array.isArray(y)){a=a.replace(l,su(u,y,{style:h,explode:f}));continue}if(typeof y=="object"){a=a.replace(l,ou(u,y,{style:h,explode:f}));continue}if(h==="matrix"){a=a.replace(l,`;${Li(u,y)}`);continue}a=a.replace(l,h==="label"?`.${encodeURIComponent(y)}`:encodeURIComponent(y))}return a}function gf(n,r){return n instanceof FormData?n:r&&(r.get instanceof Function?r.get("Content-Type")??r.get("content-type"):r["Content-Type"]??r["content-type"])==="application/x-www-form-urlencoded"?new URLSearchParams(n).toString():JSON.stringify(n)}function bf(n,r){var u;let a=`${r.baseUrl}${n}`;(u=r.params)!=null&&u.path&&(a=_f(a,r.params.path));let l=r.querySerializer(r.params.query??{});return l.startsWith("?")&&(l=l.substring(1)),l&&(a+=`?${l}`),a}function lu(...n){const r=new Headers;for(const a of n){if(!a||typeof a!="object")continue;const l=a instanceof Headers?a.entries():Object.entries(a);for(const[u,f]of l)if(f===null)r.delete(u);else if(Array.isArray(f))for(const h of f)r.append(u,h);else f!==void 0&&r.set(u,f)}return r}function cu(n){return n.endsWith("/")?n.substring(0,n.length-1):n}const fu={at:"de-AT",ar:"es-AR",be:"nl-BE",br:"pt-BR",ch:"de-CH",co:"es-CO",com:"en-US",de:"de-DE",es:"es-ES",fr:"fr-FR",gr:"el-GR",id:"id-ID",in:"en-IN",it:"it-IT",jp:"ja-JP",kr:"ko-KR",mx:"es-MX",nl:"nl-NL",pe:"es-PE",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",tr:"tr-TR",uk:"en-GB",us:"en-US",world:"ru-RU",za:"en-ZA"},wf="com",du="en-US",Ef={baseUrl:"https://tmapi-alpha.transfermarkt.technology/",useDomainContext:!1,useLocale:!1},hu=(n={})=>{const r={...Ef,...n},a=document.body.getAttribute("data-tm-tld")??wf,l=fu[a]??du,u=mf({baseUrl:r.baseUrl,headers:{Accept:"application/json","Accept-Language":r.useLocale?l:du}});if(r.useDomainContext){const f={async onRequest({request:h}){const y=new URL(h.url);return y.searchParams.set("_x_preferred_context",a),new Request(y.toString(),h)}};u.use(f)}return u},xf=async n=>{var u,f;const r=hu(),{data:a,error:l}=await r.GET("/player/{id}/national-career-history",{params:{path:{id:n}}});if(l||!(a!=null&&a.success)||!(a!=null&&a.data)||!((f=(u=a==null?void 0:a.data)==null?void 0:u.history)!=null&&f.length))throw new Error("Failed to fetch or empty player national career history");return a.data};var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ui={exports:{}},Af=Ui.exports,vu;function Cf(){return vu||(vu=1,function(n,r){(function(a,l){n.exports=l()})(Af,function(){/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},a(e,t)};function l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var u=function(){return u=Object.assign||function(t){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},u.apply(this,arguments)};function f(e,t,i){for(var o=0,s=t.length,c;o<s;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||Array.prototype.slice.call(t))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Tf,y=Object.keys,g=Array.isArray;typeof Promise<"u"&&!h.Promise&&(h.Promise=Promise);function k(e,t){return typeof t!="object"||y(t).forEach(function(i){e[i]=t[i]}),e}var R=Object.getPrototypeOf,T={}.hasOwnProperty;function E(e,t){return T.call(e,t)}function C(e,t){typeof t=="function"&&(t=t(R(e))),(typeof Reflect>"u"?y:Reflect.ownKeys)(t).forEach(function(i){K(e,i,t[i])})}var $=Object.defineProperty;function K(e,t,i,o){$(e,t,k(i&&E(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function F(e){return{from:function(t){return e.prototype=Object.create(t.prototype),K(e.prototype,"constructor",e),{extend:C.bind(null,e.prototype)}}}}var L=Object.getOwnPropertyDescriptor;function ae(e,t){var i=L(e,t),o;return i||(o=R(e))&&ae(o,t)}var H=[].slice;function Y(e,t,i){return H.call(e,t,i)}function ee(e,t){return t(e)}function de(e){if(!e)throw new Error("Assertion Failed")}function Fe(e){h.setImmediate?setImmediate(e):setTimeout(e,0)}function Me(e,t){return e.reduce(function(i,o,s){var c=t(o,s);return c&&(i[c[0]]=c[1]),i},{})}function pe(e,t){if(typeof t=="string"&&E(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var i=[],o=0,s=t.length;o<s;++o){var c=pe(e,t[o]);i.push(c)}return i}var d=t.indexOf(".");if(d!==-1){var v=e[t.substr(0,d)];return v==null?void 0:pe(v,t.substr(d+1))}}function we(e,t,i){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){de(typeof i!="string"&&"length"in i);for(var o=0,s=t.length;o<s;++o)we(e,t[o],i[o])}else{var c=t.indexOf(".");if(c!==-1){var d=t.substr(0,c),v=t.substr(c+1);if(v==="")i===void 0?g(e)&&!isNaN(parseInt(d))?e.splice(d,1):delete e[d]:e[d]=i;else{var p=e[d];(!p||!E(e,d))&&(p=e[d]={}),we(p,v,i)}}else i===void 0?g(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=i}}function je(e,t){typeof t=="string"?we(e,t,void 0):"length"in t&&[].map.call(t,function(i){we(e,i,void 0)})}function Re(e){var t={};for(var i in e)E(e,i)&&(t[i]=e[i]);return t}var Ge=[].concat;function at(e){return Ge.apply([],e)}var Oe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(at([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return h[e]}),Sn=new Set(Oe.map(function(e){return h[e]}));function G(e){var t={};for(var i in e)if(E(e,i)){var o=e[i];t[i]=!o||typeof o!="object"||Sn.has(o.constructor)?o:G(o)}return t}function te(e){for(var t in e)if(E(e,t))return!1;return!0}var De=null;function Le(e){De=new WeakMap;var t=ot(e);return De=null,t}function ot(e){if(!e||typeof e!="object")return e;var t=De.get(e);if(t)return t;if(g(e)){t=[],De.set(e,t);for(var i=0,o=e.length;i<o;++i)t.push(ot(e[i]))}else if(Sn.has(e.constructor))t=e;else{var s=R(e);t=s===Object.prototype?{}:Object.create(s),De.set(e,t);for(var c in e)E(e,c)&&(t[c]=ot(e[c]))}return t}var Et={}.toString;function xt(e){return Et.call(e).slice(8,-1)}var Dt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",dn=typeof Dt=="symbol"?function(e){var t;return e!=null&&(t=e[Dt])&&t.apply(e)}:function(){return null};function Zt(e,t){var i=e.indexOf(t);return i>=0&&e.splice(i,1),i>=0}var Ir={};function hn(e){var t,i,o,s;if(arguments.length===1){if(g(e))return e.slice();if(this===Ir&&typeof e=="string")return[e];if(s=dn(e)){for(i=[];o=s.next(),!o.done;)i.push(o.value);return i}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(i=new Array(t);t--;)i[t]=e[t];return i}return[e]}for(t=arguments.length,i=new Array(t);t--;)i[t]=arguments[t];return i}var no=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},yd=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],xu=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ro=yd.concat(xu),md={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Dr(e,t){this.name=e,this.message=t}F(Dr).from(Error).extend({toString:function(){return this.name+": "+this.message}});function Tu(e,t){return e+". Errors: "+Object.keys(t).map(function(i){return t[i].toString()}).filter(function(i,o,s){return s.indexOf(i)===o}).join(`
`)}function Yi(e,t,i,o){this.failures=t,this.failedKeys=o,this.successCount=i,this.message=Tu(e,t)}F(Yi).from(Dr);function Pr(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(i){return t[i]}),this.failuresByPos=t,this.message=Tu(e,this.failures)}F(Pr).from(Dr);var io=ro.reduce(function(e,t){return e[t]=t+"Error",e},{}),_d=Dr,X=ro.reduce(function(e,t){var i=t+"Error";function o(s,c){this.name=i,s?typeof s=="string"?(this.message="".concat(s).concat(c?`
 `+c:""),this.inner=c||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=md[t]||i,this.inner=null)}return F(o).from(_d),e[t]=o,e},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Su=xu.reduce(function(e,t){return e[t+"Error"]=X[t],e},{});function gd(e,t){if(!e||e instanceof Dr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Su[e.name])return e;var i=new Su[e.name](t||e.message,e);return"stack"in e&&K(i,"stack",{get:function(){return this.inner.stack}}),i}var Wi=ro.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=X[t]),e},{});Wi.ModifyError=Yi,Wi.DexieError=Dr,Wi.BulkError=Pr;function Ee(){}function si(e){return e}function bd(e,t){return e==null||e===si?t:function(i){return t(e(i))}}function ir(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function wd(e,t){return e===Ee?t:function(){var i=e.apply(this,arguments);i!==void 0&&(arguments[0]=i);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var c=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ir(o,this.onsuccess):o),s&&(this.onerror=this.onerror?ir(s,this.onerror):s),c!==void 0?c:i}}function Ed(e,t){return e===Ee?t:function(){e.apply(this,arguments);var i=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?ir(i,this.onsuccess):i),o&&(this.onerror=this.onerror?ir(o,this.onerror):o)}}function xd(e,t){return e===Ee?t:function(i){var o=e.apply(this,arguments);k(i,o);var s=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var d=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?ir(s,this.onsuccess):s),c&&(this.onerror=this.onerror?ir(c,this.onerror):c),o===void 0?d===void 0?void 0:d:k(o,d)}}function Td(e,t){return e===Ee?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function ao(e,t){return e===Ee?t:function(){var i=e.apply(this,arguments);if(i&&typeof i.then=="function"){for(var o=this,s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return i.then(function(){return t.apply(o,c)})}return t.apply(this,arguments)}}var en=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Au(e,t){en=e}var ui={},Cu=100,oo=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,R(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,R(t),e]}(),ku=oo[0],Ru=oo[1],Sd=oo[2],Ad=Ru&&Ru.then,ar=ku&&ku.constructor,so=!!Sd;function Cd(){queueMicrotask(Rd)}var li=function(e,t){ci.push([e,t]),Gi&&(Cd(),Gi=!1)},uo=!0,Gi=!0,or=[],Qi=[],lo=si,An={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},W=An,ci=[],sr=0,Xi=[];function z(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=W;if(typeof e!="function"){if(e!==ui)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&fo(this,this._value);return}this._state=null,this._value=null,++t.ref,$u(this,e)}var co={get:function(){var e=W,t=ta;function i(o,s){var c=this,d=!e.global&&(e!==W||t!==ta),v=d&&!kn(),p=new z(function(m,w){ho(c,new Ou(Pu(o,e,d,v),Pu(s,e,d,v),m,w,e))});return this._consoleTask&&(p._consoleTask=this._consoleTask),p}return i.prototype=ui,i},set:function(e){K(this,"then",e&&e.prototype===ui?co:{get:function(){return e},set:co.set})}};C(z.prototype,{then:co,_then:function(e,t){ho(this,new Ou(null,null,e,t,W))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],i=arguments[1];return typeof t=="function"?this.then(null,function(o){return o instanceof t?i(o):Ji(o)}):this.then(null,function(o){return o&&o.name===t?i(o):Ji(o)})},finally:function(e){return this.then(function(t){return z.resolve(e()).then(function(){return t})},function(t){return z.resolve(e()).then(function(){return Ji(t)})})},timeout:function(e,t){var i=this;return e<1/0?new z(function(o,s){var c=setTimeout(function(){return s(new X.Timeout(t))},e);i.then(o,s).finally(clearTimeout.bind(null,c))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&K(z.prototype,Symbol.toStringTag,"Dexie.Promise"),An.env=Du();function Ou(e,t,i,o,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=i,this.reject=o,this.psd=s}C(z,{all:function(){var e=hn.apply(null,arguments).map(na);return new z(function(t,i){e.length===0&&t([]);var o=e.length;e.forEach(function(s,c){return z.resolve(s).then(function(d){e[c]=d,--o||t(e)},i)})})},resolve:function(e){if(e instanceof z)return e;if(e&&typeof e.then=="function")return new z(function(i,o){e.then(i,o)});var t=new z(ui,!0,e);return t},reject:Ji,race:function(){var e=hn.apply(null,arguments).map(na);return new z(function(t,i){e.map(function(o){return z.resolve(o).then(t,i)})})},PSD:{get:function(){return W},set:function(e){return W=e}},totalEchoes:{get:function(){return ta}},newPSD:Cn,usePSD:ur,scheduler:{get:function(){return li},set:function(e){li=e}},rejectionMapper:{get:function(){return lo},set:function(e){lo=e}},follow:function(e,t){return new z(function(i,o){return Cn(function(s,c){var d=W;d.unhandleds=[],d.onunhandled=c,d.finalize=ir(function(){var v=this;Od(function(){v.unhandleds.length===0?s():c(v.unhandleds[0])})},d.finalize),e()},t,i,o)})}}),ar&&(ar.allSettled&&K(z,"allSettled",function(){var e=hn.apply(null,arguments).map(na);return new z(function(t){e.length===0&&t([]);var i=e.length,o=new Array(i);e.forEach(function(s,c){return z.resolve(s).then(function(d){return o[c]={status:"fulfilled",value:d}},function(d){return o[c]={status:"rejected",reason:d}}).then(function(){return--i||t(o)})})})}),ar.any&&typeof AggregateError<"u"&&K(z,"any",function(){var e=hn.apply(null,arguments).map(na);return new z(function(t,i){e.length===0&&i(new AggregateError([]));var o=e.length,s=new Array(o);e.forEach(function(c,d){return z.resolve(c).then(function(v){return t(v)},function(v){s[d]=v,--o||i(new AggregateError(s))})})})}),ar.withResolvers&&(z.withResolvers=ar.withResolvers));function $u(e,t){try{t(function(i){if(e._state===null){if(i===e)throw new TypeError("A promise cannot be resolved with itself.");var o=e._lib&&Mr();i&&typeof i.then=="function"?$u(e,function(s,c){i instanceof z?i._then(s,c):i.then(s,c)}):(e._state=!0,e._value=i,Iu(e)),o&&Kr()}},fo.bind(null,e))}catch(i){fo(e,i)}}function fo(e,t){if(Qi.push(t),e._state===null){var i=e._lib&&Mr();t=lo(t),e._state=!1,e._value=t,$d(e),Iu(e),i&&Kr()}}function Iu(e){var t=e._listeners;e._listeners=[];for(var i=0,o=t.length;i<o;++i)ho(e,t[i]);var s=e._PSD;--s.ref||s.finalize(),sr===0&&(++sr,li(function(){--sr===0&&vo()},[]))}function ho(e,t){if(e._state===null){e._listeners.push(t);return}var i=e._state?t.onFulfilled:t.onRejected;if(i===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++sr,li(kd,[i,e,t])}function kd(e,t,i){try{var o,s=t._value;!t._state&&Qi.length&&(Qi=[]),o=en&&t._consoleTask?t._consoleTask.run(function(){return e(s)}):e(s),!t._state&&Qi.indexOf(s)===-1&&Id(t),i.resolve(o)}catch(c){i.reject(c)}finally{--sr===0&&vo(),--i.psd.ref||i.psd.finalize()}}function Rd(){ur(An,function(){Mr()&&Kr()})}function Mr(){var e=uo;return uo=!1,Gi=!1,e}function Kr(){var e,t,i;do for(;ci.length>0;)for(e=ci,ci=[],i=e.length,t=0;t<i;++t){var o=e[t];o[0].apply(null,o[1])}while(ci.length>0);uo=!0,Gi=!0}function vo(){var e=or;or=[],e.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var t=Xi.slice(0),i=t.length;i;)t[--i]()}function Od(e){function t(){e(),Xi.splice(Xi.indexOf(t),1)}Xi.push(t),++sr,li(function(){--sr===0&&vo()},[])}function $d(e){or.some(function(t){return t._value===e._value})||or.push(e)}function Id(e){for(var t=or.length;t;)if(or[--t]._value===e._value){or.splice(t,1);return}}function Ji(e){return new z(ui,!1,e)}function $e(e,t){var i=W;return function(){var o=Mr(),s=W;try{return Rn(i,!0),e.apply(this,arguments)}catch(c){t&&t(c)}finally{Rn(s,!1),o&&Kr()}}}var qe={awaits:0,echoes:0,id:0},Dd=0,Zi=[],ea=0,ta=0,Pd=0;function Cn(e,t,i,o){var s=W,c=Object.create(s);c.parent=s,c.ref=0,c.global=!1,c.id=++Pd,An.env,c.env=so?{Promise:z,PromiseProp:{value:z,configurable:!0,writable:!0},all:z.all,race:z.race,allSettled:z.allSettled,any:z.any,resolve:z.resolve,reject:z.reject}:{},t&&k(c,t),++s.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()};var d=ur(c,e,i,o);return c.ref===0&&c.finalize(),d}function Br(){return qe.id||(qe.id=++Dd),++qe.awaits,qe.echoes+=Cu,qe.id}function kn(){return qe.awaits?(--qe.awaits===0&&(qe.id=0),qe.echoes=qe.awaits*Cu,!0):!1}(""+Ad).indexOf("[native code]")===-1&&(Br=kn=Ee);function na(e){return qe.echoes&&e&&e.constructor===ar?(Br(),e.then(function(t){return kn(),t},function(t){return kn(),Ke(t)})):e}function Md(e){++ta,(!qe.echoes||--qe.echoes===0)&&(qe.echoes=qe.awaits=qe.id=0),Zi.push(W),Rn(e,!0)}function Kd(){var e=Zi[Zi.length-1];Zi.pop(),Rn(e,!1)}function Rn(e,t){var i=W;if((t?qe.echoes&&(!ea++||e!==W):ea&&(!--ea||e!==W))&&queueMicrotask(t?Md.bind(null,e):Kd),e!==W&&(W=e,i===An&&(An.env=Du()),so)){var o=An.env.Promise,s=e.env;(i.global||e.global)&&(Object.defineProperty(h,"Promise",s.PromiseProp),o.all=s.all,o.race=s.race,o.resolve=s.resolve,o.reject=s.reject,s.allSettled&&(o.allSettled=s.allSettled),s.any&&(o.any=s.any))}}function Du(){var e=h.Promise;return so?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function ur(e,t,i,o,s){var c=W;try{return Rn(e,!0),t(i,o,s)}finally{Rn(c,!1)}}function Pu(e,t,i,o){return typeof e!="function"?e:function(){var s=W;i&&Br(),Rn(t,!0);try{return e.apply(this,arguments)}finally{Rn(s,!1),o&&queueMicrotask(kn)}}}function po(e){Promise===ar&&qe.echoes===0?ea===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}var Ke=z.reject;function yo(e,t,i,o){if(!e.idbdb||!e._state.openComplete&&!W.letThrough&&!e._vip){if(e._state.openComplete)return Ke(new X.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return Ke(new X.DatabaseClosed);e.open().catch(Ee)}return e._state.dbReadyPromise.then(function(){return yo(e,t,i,o)})}else{var s=e._createTransaction(t,i,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(c){return c.name===io.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return yo(e,t,i,o)})):Ke(c)}return s._promise(t,function(c,d){return Cn(function(){return W.trans=s,o(c,d,s)})}).then(function(c){if(t==="readwrite")try{s.idbtrans.commit()}catch{}return t==="readonly"?c:s._completion.then(function(){return c})})}}var Mu="4.2.0",lr="￿",mo=-1/0,vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ku="String expected.",Nr=[],ra="__dbnames",_o="readonly",go="readwrite";function cr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Bu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ia(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=Le(t),delete t[e]),t}:function(t){return t}}function Nu(){throw X.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function he(e,t){try{var i=Fu(e),o=Fu(t);if(i!==o)return i==="Array"?1:o==="Array"?-1:i==="binary"?1:o==="binary"?-1:i==="string"?1:o==="string"?-1:i==="Date"?1:o!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Nd(ju(e),ju(t));case"Array":return Bd(e,t)}}catch{}return NaN}function Bd(e,t){for(var i=e.length,o=t.length,s=i<o?i:o,c=0;c<s;++c){var d=he(e[c],t[c]);if(d!==0)return d}return i===o?0:i<o?-1:1}function Nd(e,t){for(var i=e.length,o=t.length,s=i<o?i:o,c=0;c<s;++c)if(e[c]!==t[c])return e[c]<t[c]?-1:1;return i===o?0:i<o?-1:1}function Fu(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var i=xt(e);return i==="ArrayBuffer"?"binary":i}function ju(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function aa(e,t,i){var o=e.schema.yProps;return o?(t&&i.numFailures>0&&(t=t.filter(function(s,c){return!i.failures[c]})),Promise.all(o.map(function(s){var c=s.updatesTable;return t?e.db.table(c).where("k").anyOf(t).delete():e.db.table(c).clear()})).then(function(){return i})):i}var Lu=function(){function e(){}return e.prototype._trans=function(t,i,o){var s=this._tx||W.trans,c=this.name,d=en&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(t==="readonly"?"read":"write"," ").concat(this.name));function v(w,_,S){if(!S.schema[c])throw new X.NotFound("Table "+c+" not part of transaction");return i(S.idbtrans,S)}var p=Mr();try{var m=s&&s.db._novip===this.db._novip?s===W.trans?s._promise(t,v,o):Cn(function(){return s._promise(t,v,o)},{trans:s,transless:W.transless||W}):yo(this.db,t,[this.name],v);return d&&(m._consoleTask=d,m=m.catch(function(w){return console.trace(w),Ke(w)})),m}finally{p&&Kr()}},e.prototype.get=function(t,i){var o=this;return t&&t.constructor===Object?this.where(t).first(i):t==null?Ke(new X.Type("Invalid argument to Table.get()")):this._trans("readonly",function(s){return o.core.get({trans:s,key:t}).then(function(c){return o.hook.reading.fire(c)})}).then(i)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(g(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var i=y(t);if(i.length===1)return this.where(i[0]).equals(t[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&i.every(function(S){return w.keyPath.indexOf(S)>=0})){for(var _=0;_<i.length;++_)if(i.indexOf(w.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(w,_){return w.keyPath.length-_.keyPath.length})[0];if(o&&this.db._maxKey!==lr){var s=o.keyPath.slice(0,i.length);return this.where(s).equals(s.map(function(w){return t[w]}))}!o&&en&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var c=this.schema.idxByName;function d(w,_){return he(w,_)===0}var v=i.reduce(function(w,_){var S=w[0],N=w[1],b=c[_],x=t[_];return[S||b,S||!b?cr(N,b&&b.multi?function(A){var D=pe(A,_);return g(D)&&D.some(function(P){return d(x,P)})}:function(A){return d(x,pe(A,_))}):N]},[null,null]),p=v[0],m=v[1];return p?this.where(p.name).equals(t[p.keyPath]).filter(m):o?this.filter(m):this.where(i).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,g(t)?"[".concat(t.join("+"),"]"):t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){var i=this,o=i.db,s=i.name;this.schema.mappedClass=t,t.prototype instanceof Nu&&(t=function(p){l(m,p);function m(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(m.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),m.prototype.table=function(){return s},m}(t));for(var c=new Set,d=t.prototype;d;d=R(d))Object.getOwnPropertyNames(d).forEach(function(p){return c.add(p)});var v=function(p){if(!p)return p;var m=Object.create(t.prototype);for(var w in p)if(!c.has(w))try{m[w]=p[w]}catch{}return m};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),t},e.prototype.defineClass=function(){function t(i){k(this,i)}return this.mapToClass(t)},e.prototype.add=function(t,i){var o=this,s=this.schema.primKey,c=s.auto,d=s.keyPath,v=t;return d&&c&&(v=ia(d)(t)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"add",keys:i!=null?[i]:null,values:[v]})}).then(function(p){return p.numFailures?z.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{we(t,d,p)}catch{}return p})},e.prototype.update=function(t,i){if(typeof t=="object"&&!g(t)){var o=pe(t,this.schema.primKey.keyPath);return o===void 0?Ke(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(i)}else return this.where(":id").equals(t).modify(i)},e.prototype.put=function(t,i){var o=this,s=this.schema.primKey,c=s.auto,d=s.keyPath,v=t;return d&&c&&(v=ia(d)(t)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"put",values:[v],keys:i!=null?[i]:null})}).then(function(p){return p.numFailures?z.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{we(t,d,p)}catch{}return p})},e.prototype.delete=function(t){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"delete",keys:[t]}).then(function(s){return aa(i,[t],s)}).then(function(s){return s.numFailures?z.reject(s.failures[0]):void 0})})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"deleteRange",range:Bu}).then(function(o){return aa(t,null,o)})}).then(function(i){return i.numFailures?z.reject(i.failures[0]):void 0})},e.prototype.bulkGet=function(t){var i=this;return this._trans("readonly",function(o){return i.core.getMany({keys:t,trans:o}).then(function(s){return s.map(function(c){return i.hook.reading.fire(c)})})})},e.prototype.bulkAdd=function(t,i,o){var s=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=s.schema.primKey,m=p.auto,w=p.keyPath;if(w&&c)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(c&&c.length!==t.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var _=t.length,S=w&&m?t.map(ia(w)):t;return s.core.mutate({trans:v,type:"add",keys:c,values:S,wantResults:d}).then(function(N){var b=N.numFailures,x=N.results,A=N.lastResult,D=N.failures,P=d?x:A;if(b===0)return P;throw new Pr("".concat(s.name,".bulkAdd(): ").concat(b," of ").concat(_," operations failed"),D)})})},e.prototype.bulkPut=function(t,i,o){var s=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=s.schema.primKey,m=p.auto,w=p.keyPath;if(w&&c)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(c&&c.length!==t.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var _=t.length,S=w&&m?t.map(ia(w)):t;return s.core.mutate({trans:v,type:"put",keys:c,values:S,wantResults:d}).then(function(N){var b=N.numFailures,x=N.results,A=N.lastResult,D=N.failures,P=d?x:A;if(b===0)return P;throw new Pr("".concat(s.name,".bulkPut(): ").concat(b," of ").concat(_," operations failed"),D)})})},e.prototype.bulkUpdate=function(t){var i=this,o=this.core,s=t.map(function(v){return v.key}),c=t.map(function(v){return v.changes}),d=[];return this._trans("readwrite",function(v){return o.getMany({trans:v,keys:s,cache:"clone"}).then(function(p){var m=[],w=[];t.forEach(function(S,N){var b=S.key,x=S.changes,A=p[N];if(A){for(var D=0,P=Object.keys(x);D<P.length;D++){var O=P[D],M=x[O];if(O===i.schema.primKey.keyPath){if(he(M,b)!==0)throw new X.Constraint("Cannot update primary key in bulkUpdate()")}else we(A,O,M)}d.push(N),m.push(b),w.push(A)}});var _=m.length;return o.mutate({trans:v,type:"put",keys:m,values:w,updates:{keys:s,changeSpecs:c}}).then(function(S){var N=S.numFailures,b=S.failures;if(N===0)return _;for(var x=0,A=Object.keys(b);x<A.length;x++){var D=A[x],P=d[Number(D)];if(P!=null){var O=b[D];delete b[D],b[P]=O}}throw new Pr("".concat(i.name,".bulkUpdate(): ").concat(N," of ").concat(_," operations failed"),b)})})})},e.prototype.bulkDelete=function(t){var i=this,o=t.length;return this._trans("readwrite",function(s){return i.core.mutate({trans:s,type:"delete",keys:t}).then(function(c){return aa(i,t,c)})}).then(function(s){var c=s.numFailures,d=s.lastResult,v=s.failures;if(c===0)return d;throw new Pr("".concat(i.name,".bulkDelete(): ").concat(c," of ").concat(o," operations failed"),v)})},e}();function fi(e){var t={},i=function(v,p){if(p){for(var m=arguments.length,w=new Array(m-1);--m;)w[m-1]=arguments[m];return t[v].subscribe.apply(null,w),e}else if(typeof v=="string")return t[v]};i.addEventType=c;for(var o=1,s=arguments.length;o<s;++o)c(arguments[o]);return i;function c(v,p,m){if(typeof v=="object")return d(v);p||(p=Td),m||(m=Ee);var w={subscribers:[],fire:m,subscribe:function(_){w.subscribers.indexOf(_)===-1&&(w.subscribers.push(_),w.fire=p(w.fire,_))},unsubscribe:function(_){w.subscribers=w.subscribers.filter(function(S){return S!==_}),w.fire=w.subscribers.reduce(p,m)}};return t[v]=i[v]=w,w}function d(v){y(v).forEach(function(p){var m=v[p];if(g(m))c(p,v[p][0],v[p][1]);else if(m==="asap")var w=c(p,si,function(){for(var S=arguments.length,N=new Array(S);S--;)N[S]=arguments[S];w.subscribers.forEach(function(b){Fe(function(){b.apply(null,N)})})});else throw new X.InvalidArgument("Invalid event config")})}}function di(e,t){return F(t).from({prototype:e}),t}function Fd(e){return di(Lu.prototype,function(i,o,s){this.db=e,this._tx=s,this.name=i,this.schema=o,this.hook=e._allTables[i]?e._allTables[i].hook:fi(null,{creating:[wd,Ee],reading:[bd,si],updating:[xd,Ee],deleting:[Ed,Ee]})})}function Fr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function bo(e,t){e.filter=cr(e.filter,t)}function wo(e,t,i){var o=e.replayFilter;e.replayFilter=o?function(){return cr(o(),t())}:t,e.justLimit=i&&!o}function jd(e,t){e.isMatch=cr(e.isMatch,t)}function oa(e,t){if(e.isPrimKey)return t.primaryKey;var i=t.getIndexByKeyPath(e.index);if(!i)throw new X.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return i}function Uu(e,t,i){var o=oa(e,t.schema);return t.openCursor({trans:i,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:o,range:e.range}})}function sa(e,t,i,o){var s=e.replayFilter?cr(e.filter,e.replayFilter()):e.filter;if(e.or){var c={},d=function(v,p,m){if(!s||s(p,m,function(S){return p.stop(S)},function(S){return p.fail(S)})){var w=p.primaryKey,_=""+w;_==="[object ArrayBuffer]"&&(_=""+new Uint8Array(w)),E(c,_)||(c[_]=!0,t(v,p,m))}};return Promise.all([e.or._iterate(d,i),qu(Uu(e,o,i),e.algorithm,d,!e.keysOnly&&e.valueMapper)])}else return qu(Uu(e,o,i),cr(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function qu(e,t,i,o){var s=o?function(d,v,p){return i(o(d),v,p)}:i,c=$e(s);return e.then(function(d){if(d)return d.start(function(){var v=function(){return d.continue()};(!t||t(d,function(p){return v=p},function(p){d.stop(p),v=Ee},function(p){d.fail(p),v=Ee}))&&c(d.value,d,function(p){return v=p}),v()})})}var hi=function(){function e(t){this["@@propmod"]=t}return e.prototype.execute=function(t){var i,o=this["@@propmod"];if(o.add!==void 0){var s=o.add;if(g(s))return f(f([],g(t)?t:[],!0),s).sort();if(typeof s=="number")return(Number(t)||0)+s;if(typeof s=="bigint")try{return BigInt(t)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(o.remove!==void 0){var c=o.remove;if(g(c))return g(t)?t.filter(function(v){return!c.includes(v)}).sort():[];if(typeof c=="number")return Number(t)-c;if(typeof c=="bigint")try{return BigInt(t)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}var d=(i=o.replacePrefix)===null||i===void 0?void 0:i[0];return d&&typeof t=="string"&&t.startsWith(d)?o.replacePrefix[1]+t.substring(d.length):t},e}(),Ld=function(){function e(){}return e.prototype._read=function(t,i){var o=this._ctx;return o.error?o.table._trans(null,Ke.bind(null,o.error)):o.table._trans("readonly",t).then(i)},e.prototype._write=function(t){var i=this._ctx;return i.error?i.table._trans(null,Ke.bind(null,i.error)):i.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var i=this._ctx;i.algorithm=cr(i.algorithm,t)},e.prototype._iterate=function(t,i){return sa(this._ctx,t,i,this._ctx.table.core)},e.prototype.clone=function(t){var i=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return t&&k(o,t),i._ctx=o,i},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var i=this._ctx;return this._read(function(o){return sa(i,t,o,i.table.core)})},e.prototype.count=function(t){var i=this;return this._read(function(o){var s=i._ctx,c=s.table.core;if(Fr(s,!0))return c.count({trans:o,query:{index:oa(s,c.schema),range:s.range}}).then(function(v){return Math.min(v,s.limit)});var d=0;return sa(s,function(){return++d,!1},o,c).then(function(){return d})}).then(t)},e.prototype.sortBy=function(t,i){var o=t.split(".").reverse(),s=o[0],c=o.length-1;function d(m,w){return w?d(m[o[w]],w-1):m[s]}var v=this._ctx.dir==="next"?1:-1;function p(m,w){var _=d(m,c),S=d(w,c);return he(_,S)*v}return this.toArray(function(m){return m.sort(p)}).then(i)},e.prototype.toArray=function(t){var i=this;return this._read(function(o){var s=i._ctx;if(s.dir==="next"&&Fr(s,!0)&&s.limit>0){var c=s.valueMapper,d=oa(s,s.table.core.schema);return s.table.core.query({trans:o,limit:s.limit,values:!0,query:{index:d,range:s.range}}).then(function(p){var m=p.result;return c?m.map(c):m})}else{var v=[];return sa(s,function(p){return v.push(p)},o,s.table.core).then(function(){return v})}},t)},e.prototype.offset=function(t){var i=this._ctx;return t<=0?this:(i.offset+=t,Fr(i)?wo(i,function(){var o=t;return function(s,c){return o===0?!0:o===1?(--o,!1):(c(function(){s.advance(o),o=0}),!1)}}):wo(i,function(){var o=t;return function(){return--o<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),wo(this._ctx,function(){var i=t;return function(o,s,c){return--i<=0&&s(c),i>=0}},!0),this},e.prototype.until=function(t,i){return bo(this._ctx,function(o,s,c){return t(o.value)?(s(c),i):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(i){return i[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return bo(this._ctx,function(i){return t(i.value)}),jd(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,s){t(s.key,s)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,s){t(s.primaryKey,s)})},e.prototype.keys=function(t){var i=this._ctx;i.keysOnly=!i.isMatch;var o=[];return this.each(function(s,c){o.push(c.key)}).then(function(){return o}).then(t)},e.prototype.primaryKeys=function(t){var i=this._ctx;if(i.dir==="next"&&Fr(i,!0)&&i.limit>0)return this._read(function(s){var c=oa(i,i.table.core.schema);return i.table.core.query({trans:s,values:!1,limit:i.limit,query:{index:c,range:i.range}})}).then(function(s){var c=s.result;return c}).then(t);i.keysOnly=!i.isMatch;var o=[];return this.each(function(s,c){o.push(c.primaryKey)}).then(function(){return o}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(i){return i[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,i=t.index&&t.table.schema.idxByName[t.index];if(!i||!i.multi)return this;var o={};return bo(this._ctx,function(s){var c=s.primaryKey.toString(),d=E(o,c);return o[c]=!0,!d}),this},e.prototype.modify=function(t){var i=this,o=this._ctx;return this._write(function(s){var c;if(typeof t=="function")c=t;else{var d=y(t),v=d.length;c=function(O){for(var M=!1,I=0;I<v;++I){var j=d[I],q=t[j],U=pe(O,j);q instanceof hi?(we(O,j,q.execute(U)),M=!0):U!==q&&(we(O,j,q),M=!0)}return M}}var p=o.table.core,m=p.schema.primaryKey,w=m.outbound,_=m.extractKey,S=200,N=i.db._options.modifyChunkSize;N&&(typeof N=="object"?S=N[p.name]||N["*"]||200:S=N);var b=[],x=0,A=[],D=function(O,M){var I=M.failures,j=M.numFailures;x+=O-j;for(var q=0,U=y(I);q<U.length;q++){var J=U[q];b.push(I[J])}},P=t===zu;return i.clone().primaryKeys().then(function(O){var M=Fr(o)&&o.limit===1/0&&(typeof t!="function"||P)&&{index:o.index,range:o.range},I=function(j){var q=Math.min(S,O.length-j),U=O.slice(j,j+q);return(P?Promise.resolve([]):p.getMany({trans:s,keys:U,cache:"immutable"})).then(function(J){var oe=[],V=[],ce=w?[]:null,Q=P?U:[];if(!P)for(var ve=0;ve<q;++ve){var Z=J[ve],xe={value:Le(Z),primKey:O[j+ve]};c.call(xe,xe.value,xe)!==!1&&(xe.value==null?Q.push(O[j+ve]):!w&&he(_(Z),_(xe.value))!==0?(Q.push(O[j+ve]),oe.push(xe.value)):(V.push(xe.value),w&&ce.push(O[j+ve])))}return Promise.resolve(oe.length>0&&p.mutate({trans:s,type:"add",values:oe}).then(function(Ae){for(var Pt in Ae.failures)Q.splice(parseInt(Pt),1);D(oe.length,Ae)})).then(function(){return(V.length>0||M&&typeof t=="object")&&p.mutate({trans:s,type:"put",keys:ce,values:V,criteria:M,changeSpec:typeof t!="function"&&t,isAdditionalChunk:j>0}).then(function(Ae){return D(V.length,Ae)})}).then(function(){return(Q.length>0||M&&P)&&p.mutate({trans:s,type:"delete",keys:Q,criteria:M,isAdditionalChunk:j>0}).then(function(Ae){return aa(o.table,Q,Ae)}).then(function(Ae){return D(Q.length,Ae)})}).then(function(){return O.length>j+q&&I(j+S)})})};return I(0).then(function(){if(b.length>0)throw new Yi("Error modifying one or more objects",b,x,A);return O.length})})})},e.prototype.delete=function(){var t=this._ctx,i=t.range;return Fr(t)&&!t.table.schema.yProps&&(t.isPrimKey||i.type===3)?this._write(function(o){var s=t.table.core.schema.primaryKey,c=i;return t.table.core.count({trans:o,query:{index:s,range:c}}).then(function(d){return t.table.core.mutate({trans:o,type:"deleteRange",range:c}).then(function(v){var p=v.failures,m=v.numFailures;if(m)throw new Yi("Could not delete some values",Object.keys(p).map(function(w){return p[w]}),d-m);return d-m})})}):this.modify(zu)},e}(),zu=function(e,t){return t.value=null};function Ud(e){return di(Ld.prototype,function(i,o){this.db=e;var s=Bu,c=null;if(o)try{s=o()}catch(m){c=m}var d=i._ctx,v=d.table,p=v.hook.reading.fire;this._ctx={table:v,index:d.index,isPrimKey:!d.index||v.schema.primKey.keyPath&&d.index===v.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:p!==si?p:null}})}function qd(e,t){return e<t?-1:e===t?0:1}function zd(e,t){return e>t?-1:e===t?0:1}function Tt(e,t,i){var o=e instanceof Vu?new e.Collection(e):e;return o._ctx.error=i?new i(t):new TypeError(t),o}function jr(e){return new e.Collection(e,function(){return Hu("")}).limit(0)}function Hd(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Vd(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function Yd(e,t,i,o,s,c){for(var d=Math.min(e.length,o.length),v=-1,p=0;p<d;++p){var m=t[p];if(m!==o[p])return s(e[p],i[p])<0?e.substr(0,p)+i[p]+i.substr(p+1):s(e[p],o[p])<0?e.substr(0,p)+o[p]+i.substr(p+1):v>=0?e.substr(0,v)+t[v]+i.substr(v+1):null;s(e[p],m)<0&&(v=p)}return d<o.length&&c==="next"?e+i.substr(e.length):d<e.length&&c==="prev"?e.substr(0,i.length):v<0?null:e.substr(0,v)+o[v]+i.substr(v+1)}function ua(e,t,i,o){var s,c,d,v,p,m,w,_=i.length;if(!i.every(function(x){return typeof x=="string"}))return Tt(e,Ku);function S(x){s=Hd(x),c=Vd(x),d=x==="next"?qd:zd;var A=i.map(function(D){return{lower:c(D),upper:s(D)}}).sort(function(D,P){return d(D.lower,P.lower)});v=A.map(function(D){return D.upper}),p=A.map(function(D){return D.lower}),m=x,w=x==="next"?"":o}S("next");var N=new e.Collection(e,function(){return On(v[0],p[_-1]+o)});N._ondirectionchange=function(x){S(x)};var b=0;return N._addAlgorithm(function(x,A,D){var P=x.key;if(typeof P!="string")return!1;var O=c(P);if(t(O,p,b))return!0;for(var M=null,I=b;I<_;++I){var j=Yd(P,O,v[I],p[I],d,m);j===null&&M===null?b=I+1:(M===null||d(M,j)>0)&&(M=j)}return A(M!==null?function(){x.continue(M+w)}:D),!1}),N}function On(e,t,i,o){return{type:2,lower:e,upper:t,lowerOpen:i,upperOpen:o}}function Hu(e){return{type:1,lower:e,upper:e}}var Vu=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,i,o,s){o=o!==!1,s=s===!0;try{return this._cmp(t,i)>0||this._cmp(t,i)===0&&(o||s)&&!(o&&s)?jr(this):new this.Collection(this,function(){return On(t,i,!o,!s)})}catch{return Tt(this,vn)}},e.prototype.equals=function(t){return t==null?Tt(this,vn):new this.Collection(this,function(){return Hu(t)})},e.prototype.above=function(t){return t==null?Tt(this,vn):new this.Collection(this,function(){return On(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?Tt(this,vn):new this.Collection(this,function(){return On(t,void 0,!1)})},e.prototype.below=function(t){return t==null?Tt(this,vn):new this.Collection(this,function(){return On(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?Tt(this,vn):new this.Collection(this,function(){return On(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?Tt(this,Ku):this.between(t,t+lr,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):ua(this,function(i,o){return i.indexOf(o[0])===0},[t],lr)},e.prototype.equalsIgnoreCase=function(t){return ua(this,function(i,o){return i===o[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=hn.apply(Ir,arguments);return t.length===0?jr(this):ua(this,function(i,o){return o.indexOf(i)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=hn.apply(Ir,arguments);return t.length===0?jr(this):ua(this,function(i,o){return o.some(function(s){return i.indexOf(s)===0})},t,lr)},e.prototype.anyOf=function(){var t=this,i=hn.apply(Ir,arguments),o=this._cmp;try{i.sort(o)}catch{return Tt(this,vn)}if(i.length===0)return jr(this);var s=new this.Collection(this,function(){return On(i[0],i[i.length-1])});s._ondirectionchange=function(d){o=d==="next"?t._ascending:t._descending,i.sort(o)};var c=0;return s._addAlgorithm(function(d,v,p){for(var m=d.key;o(m,i[c])>0;)if(++c,c===i.length)return v(p),!1;return o(m,i[c])===0?!0:(v(function(){d.continue(i[c])}),!1)}),s},e.prototype.notEqual=function(t){return this.inAnyRange([[mo,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=hn.apply(Ir,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Tt(this,vn)}var i=t.reduce(function(o,s){return o?o.concat([[o[o.length-1][1],s]]):[[mo,s]]},null);return i.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,i){var o=this,s=this._cmp,c=this._ascending,d=this._descending,v=this._min,p=this._max;if(t.length===0)return jr(this);if(!t.every(function(I){return I[0]!==void 0&&I[1]!==void 0&&c(I[0],I[1])<=0}))return Tt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var m=!i||i.includeLowers!==!1,w=i&&i.includeUppers===!0;function _(I,j){for(var q=0,U=I.length;q<U;++q){var J=I[q];if(s(j[0],J[1])<0&&s(j[1],J[0])>0){J[0]=v(J[0],j[0]),J[1]=p(J[1],j[1]);break}}return q===U&&I.push(j),I}var S=c;function N(I,j){return S(I[0],j[0])}var b;try{b=t.reduce(_,[]),b.sort(N)}catch{return Tt(this,vn)}var x=0,A=w?function(I){return c(I,b[x][1])>0}:function(I){return c(I,b[x][1])>=0},D=m?function(I){return d(I,b[x][0])>0}:function(I){return d(I,b[x][0])>=0};function P(I){return!A(I)&&!D(I)}var O=A,M=new this.Collection(this,function(){return On(b[0][0],b[b.length-1][1],!m,!w)});return M._ondirectionchange=function(I){I==="next"?(O=A,S=c):(O=D,S=d),b.sort(N)},M._addAlgorithm(function(I,j,q){for(var U=I.key;O(U);)if(++x,x===b.length)return j(q),!1;return P(U)?!0:(o._cmp(U,b[x][1])===0||o._cmp(U,b[x][0])===0||j(function(){S===c?I.continue(b[x][0]):I.continue(b[x][1])}),!1)}),M},e.prototype.startsWithAnyOf=function(){var t=hn.apply(Ir,arguments);return t.every(function(i){return typeof i=="string"})?t.length===0?jr(this):this.inAnyRange(t.map(function(i){return[i,i+lr]})):Tt(this,"startsWithAnyOf() only works with strings")},e}();function Wd(e){return di(Vu.prototype,function(i,o,s){if(this.db=e,this._ctx={table:i,index:o===":id"?null:o,or:s},this._cmp=this._ascending=he,this._descending=function(c,d){return he(d,c)},this._max=function(c,d){return he(c,d)>0?c:d},this._min=function(c,d){return he(c,d)<0?c:d},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new X.MissingAPI})}function tn(e){return $e(function(t){return vi(t),e(t.target.error),!1})}function vi(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var pi="storagemutated",Eo="x-storagemutated-1",$n=fi(null,pi),Gd=function(){function e(){}return e.prototype._lock=function(){return de(!W.global),++this._reculock,this._reculock===1&&!W.global&&(W.lockOwnerFor=this),this},e.prototype._unlock=function(){if(de(!W.global),--this._reculock===0)for(W.global||(W.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ur(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&W.lockOwnerFor!==this},e.prototype.create=function(t){var i=this;if(!this.mode)return this;var o=this.db.idbdb,s=this.db._state.dbOpenError;if(de(!this.idbtrans),!t&&!o)switch(s&&s.name){case"DatabaseClosedError":throw new X.DatabaseClosed(s);case"MissingAPIError":throw new X.MissingAPI(s.message,s);default:throw new X.OpenFailed(s)}if(!this.active)throw new X.TransactionInactive;return de(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):o.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=$e(function(c){vi(c),i._reject(t.error)}),t.onabort=$e(function(c){vi(c),i.active&&i._reject(new X.Abort(t.error)),i.active=!1,i.on("abort").fire(c)}),t.oncomplete=$e(function(){i.active=!1,i._resolve(),"mutatedParts"in t&&$n.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,i,o){var s=this;if(t==="readwrite"&&this.mode!=="readwrite")return Ke(new X.ReadOnly("Transaction is readonly"));if(!this.active)return Ke(new X.TransactionInactive);if(this._locked())return new z(function(d,v){s._blockedFuncs.push([function(){s._promise(t,i,o).then(d,v)},W])});if(o)return Cn(function(){var d=new z(function(v,p){s._lock();var m=i(v,p,s);m&&m.then&&m.then(v,p)});return d.finally(function(){return s._unlock()}),d._lib=!0,d});var c=new z(function(d,v){var p=i(d,v,s);p&&p.then&&p.then(d,v)});return c._lib=!0,c},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var i=this._root(),o=z.resolve(t);if(i._waitingFor)i._waitingFor=i._waitingFor.then(function(){return o});else{i._waitingFor=o,i._waitingQueue=[];var s=i.idbtrans.objectStore(i.storeNames[0]);(function d(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(s.get(-1/0).onsuccess=d)})()}var c=i._waitingFor;return new z(function(d,v){o.then(function(p){return i._waitingQueue.push($e(d.bind(null,p)))},function(p){return i._waitingQueue.push($e(v.bind(null,p)))}).finally(function(){i._waitingFor===c&&(i._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))},e.prototype.table=function(t){var i=this._memoizedTables||(this._memoizedTables={});if(E(i,t))return i[t];var o=this.schema[t];if(!o)throw new X.NotFound("Table "+t+" not part of transaction");var s=new this.db.Table(t,o,this);return s.core=this.db.core.table(t),i[t]=s,s},e}();function Qd(e){return di(Gd.prototype,function(i,o,s,c,d){var v=this;i!=="readonly"&&o.forEach(function(p){var m,w=(m=s[p])===null||m===void 0?void 0:m.yProps;w&&(o=o.concat(w.map(function(_){return _.updatesTable})))}),this.db=e,this.mode=i,this.storeNames=o,this.schema=s,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=fi(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new z(function(p,m){v._resolve=p,v._reject=m}),this._completion.then(function(){v.active=!1,v.on.complete.fire()},function(p){var m=v.active;return v.active=!1,v.on.error.fire(p),v.parent?v.parent._reject(p):m&&v.idbtrans&&v.idbtrans.abort(),Ke(p)})})}function xo(e,t,i,o,s,c,d,v){return{name:e,keyPath:t,unique:i,multi:o,auto:s,compound:c,src:(i&&!d?"&":"")+(o?"*":"")+(s?"++":"")+Yu(t),type:v}}function Yu(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function To(e,t,i){return{name:e,primKey:t,indexes:i,mappedClass:null,idxByName:Me(i,function(o){return[o.name,o]})}}function Xd(e){return e.length===1?e[0]:e}var yi=function(e){try{return e.only([[]]),yi=function(){return[[]]},[[]]}catch{return yi=function(){return lr},lr}};function So(e){return e==null?function(){}:typeof e=="string"?Jd(e):function(t){return pe(t,e)}}function Jd(e){var t=e.split(".");return t.length===1?function(i){return i[e]}:function(i){return pe(i,e)}}function Wu(e){return[].slice.call(e)}var Zd=0;function mi(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function eh(e,t,i){function o(_,S){var N=Wu(_.objectStoreNames);return{schema:{name:_.name,tables:N.map(function(b){return S.objectStore(b)}).map(function(b){var x=b.keyPath,A=b.autoIncrement,D=g(x),P=x==null,O={},M={name:b.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P,compound:D,keyPath:x,autoIncrement:A,unique:!0,extractKey:So(x)},indexes:Wu(b.indexNames).map(function(I){return b.index(I)}).map(function(I){var j=I.name,q=I.unique,U=I.multiEntry,J=I.keyPath,oe=g(J),V={name:j,compound:oe,keyPath:J,unique:q,multiEntry:U,extractKey:So(J)};return O[mi(J)]=V,V}),getIndexByKeyPath:function(I){return O[mi(I)]}};return O[":id"]=M.primaryKey,x!=null&&(O[mi(x)]=M.primaryKey),M})},hasGetAll:N.length>0&&"getAll"in S.objectStore(N[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(_){if(_.type===3)return null;if(_.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=_.lower,N=_.upper,b=_.lowerOpen,x=_.upperOpen,A=S===void 0?N===void 0?null:t.upperBound(N,!!x):N===void 0?t.lowerBound(S,!!b):t.bound(S,N,!!b,!!x);return A}function c(_){var S=_.name;function N(A){var D=A.trans,P=A.type,O=A.keys,M=A.values,I=A.range;return new Promise(function(j,q){j=$e(j);var U=D.objectStore(S),J=U.keyPath==null,oe=P==="put"||P==="add";if(!oe&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var V=(O||M||{length:1}).length;if(O&&M&&O.length!==M.length)throw new Error("Given keys array must have same length as given values array.");if(V===0)return j({numFailures:0,failures:{},results:[],lastResult:void 0});var ce,Q=[],ve=[],Z=0,xe=function(nn){++Z,vi(nn)};if(P==="deleteRange"){if(I.type===4)return j({numFailures:Z,failures:ve,results:[],lastResult:void 0});I.type===3?Q.push(ce=U.clear()):Q.push(ce=U.delete(s(I)))}else{var Ae=oe?J?[M,O]:[M,null]:[O,null],Pt=Ae[0],yt=Ae[1];if(oe)for(var Mt=0;Mt<V;++Mt)Q.push(ce=yt&&yt[Mt]!==void 0?U[P](Pt[Mt],yt[Mt]):U[P](Pt[Mt])),ce.onerror=xe;else for(var Mt=0;Mt<V;++Mt)Q.push(ce=U[P](Pt[Mt])),ce.onerror=xe}var Pn=function(nn){var bi=nn.target.result;Q.forEach(function(Ut,ba){return Ut.error!=null&&(ve[ba]=Ut.error)}),j({numFailures:Z,failures:ve,results:P==="delete"?O:Q.map(function(Ut){return Ut.result}),lastResult:bi})};ce.onerror=function(nn){xe(nn),Pn(nn)},ce.onsuccess=Pn})}function b(A){var D=A.trans,P=A.values,O=A.query,M=A.reverse,I=A.unique;return new Promise(function(j,q){j=$e(j);var U=O.index,J=O.range,oe=D.objectStore(S),V=U.isPrimaryKey?oe:oe.index(U.name),ce=M?I?"prevunique":"prev":I?"nextunique":"next",Q=P||!("openKeyCursor"in V)?V.openCursor(s(J),ce):V.openKeyCursor(s(J),ce);Q.onerror=tn(q),Q.onsuccess=$e(function(ve){var Z=Q.result;if(!Z){j(null);return}Z.___id=++Zd,Z.done=!1;var xe=Z.continue.bind(Z),Ae=Z.continuePrimaryKey;Ae&&(Ae=Ae.bind(Z));var Pt=Z.advance.bind(Z),yt=function(){throw new Error("Cursor not started")},Mt=function(){throw new Error("Cursor not stopped")};Z.trans=D,Z.stop=Z.continue=Z.continuePrimaryKey=Z.advance=yt,Z.fail=$e(q),Z.next=function(){var Pn=this,nn=1;return this.start(function(){return nn--?Pn.continue():Pn.stop()}).then(function(){return Pn})},Z.start=function(Pn){var nn=new Promise(function(Ut,ba){Ut=$e(Ut),Q.onerror=tn(ba),Z.fail=ba,Z.stop=function(Lh){Z.stop=Z.continue=Z.continuePrimaryKey=Z.advance=Mt,Ut(Lh)}}),bi=function(){if(Q.result)try{Pn()}catch(Ut){Z.fail(Ut)}else Z.done=!0,Z.start=function(){throw new Error("Cursor behind last entry")},Z.stop()};return Q.onsuccess=$e(function(Ut){Q.onsuccess=bi,bi()}),Z.continue=xe,Z.continuePrimaryKey=Ae,Z.advance=Pt,bi(),nn},j(Z)},q)})}function x(A){return function(D){return new Promise(function(P,O){P=$e(P);var M=D.trans,I=D.values,j=D.limit,q=D.query,U=j===1/0?void 0:j,J=q.index,oe=q.range,V=M.objectStore(S),ce=J.isPrimaryKey?V:V.index(J.name),Q=s(oe);if(j===0)return P({result:[]});if(A){var ve=I?ce.getAll(Q,U):ce.getAllKeys(Q,U);ve.onsuccess=function(Pt){return P({result:Pt.target.result})},ve.onerror=tn(O)}else{var Z=0,xe=I||!("openKeyCursor"in ce)?ce.openCursor(Q):ce.openKeyCursor(Q),Ae=[];xe.onsuccess=function(Pt){var yt=xe.result;if(!yt)return P({result:Ae});if(Ae.push(I?yt.value:yt.primaryKey),++Z===j)return P({result:Ae});yt.continue()},xe.onerror=tn(O)}})}}return{name:S,schema:_,mutate:N,getMany:function(A){var D=A.trans,P=A.keys;return new Promise(function(O,M){O=$e(O);for(var I=D.objectStore(S),j=P.length,q=new Array(j),U=0,J=0,oe,V=function(Z){var xe=Z.target;(q[xe._pos]=xe.result)!=null,++J===U&&O(q)},ce=tn(M),Q=0;Q<j;++Q){var ve=P[Q];ve!=null&&(oe=I.get(P[Q]),oe._pos=Q,oe.onsuccess=V,oe.onerror=ce,++U)}U===0&&O(q)})},get:function(A){var D=A.trans,P=A.key;return new Promise(function(O,M){O=$e(O);var I=D.objectStore(S),j=I.get(P);j.onsuccess=function(q){return O(q.target.result)},j.onerror=tn(M)})},query:x(p),openCursor:b,count:function(A){var D=A.query,P=A.trans,O=D.index,M=D.range;return new Promise(function(I,j){var q=P.objectStore(S),U=O.isPrimaryKey?q:q.index(O.name),J=s(M),oe=J?U.count(J):U.count();oe.onsuccess=$e(function(V){return I(V.target.result)}),oe.onerror=tn(j)})}}}var d=o(e,i),v=d.schema,p=d.hasGetAll,m=v.tables.map(function(_){return c(_)}),w={};return m.forEach(function(_){return w[_.name]=_}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(_){var S=w[_];if(!S)throw new Error("Table '".concat(_,"' not found"));return w[_]},MIN_KEY:-1/0,MAX_KEY:yi(t),schema:v}}function th(e,t){return t.reduce(function(i,o){var s=o.create;return u(u({},i),s(i))},e)}function nh(e,t,i,o){var s=i.IDBKeyRange;i.indexedDB;var c=th(eh(t,s,o),e.dbcore);return{dbcore:c}}function la(e,t){var i=t.db,o=nh(e._middlewares,i,e._deps,t);e.core=o.dbcore,e.tables.forEach(function(s){var c=s.name;e.core.schema.tables.some(function(d){return d.name===c})&&(s.core=e.core.table(c),e[c]instanceof e.Table&&(e[c].core=s.core))})}function ca(e,t,i,o){i.forEach(function(s){var c=o[s];t.forEach(function(d){var v=ae(d,s);(!v||"value"in v&&v.value===void 0)&&(d===e.Transaction.prototype||d instanceof e.Transaction?K(d,s,{get:function(){return this.table(s)},set:function(p){$(this,s,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):d[s]=new e.Table(s,c))})})}function Ao(e,t){t.forEach(function(i){for(var o in i)i[o]instanceof e.Table&&delete i[o]})}function rh(e,t){return e._cfg.version-t._cfg.version}function ih(e,t,i,o){var s=e._dbSchema;i.objectStoreNames.contains("$meta")&&!s.$meta&&(s.$meta=To("$meta",Qu("")[0],[]),e._storeNames.push("$meta"));var c=e._createTransaction("readwrite",e._storeNames,s);c.create(i),c._completion.catch(o);var d=c._reject.bind(c),v=W.transless||W;Cn(function(){if(W.trans=c,W.transless=v,t===0)y(s).forEach(function(p){ko(i,p,s[p].primKey,s[p].indexes)}),la(e,i),z.follow(function(){return e.on.populate.fire(c)}).catch(d);else return la(e,i),oh(e,c,t).then(function(p){return sh(e,p,c,i)}).catch(d)})}function ah(e,t){Gu(e._dbSchema,t),t.db.version%10===0&&!t.objectStoreNames.contains("$meta")&&t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var i=da(e,e.idbdb,t);ha(e,e._dbSchema,t);for(var o=Co(i,e._dbSchema),s=function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=t.objectStore(m.name);m.add.forEach(function(_){en&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(_.src)),fa(w,_)})},c=0,d=o.change;c<d.length;c++){var v=d[c],p=s(v);if(typeof p=="object")return p.value}}function oh(e,t,i){return t.storeNames.includes("$meta")?t.table("$meta").get("version").then(function(o){return o??i}):z.resolve(i)}function sh(e,t,i,o){var s=[],c=e._versions,d=e._dbSchema=da(e,e.idbdb,o),v=c.filter(function(m){return m._cfg.version>=t});if(v.length===0)return z.resolve();v.forEach(function(m){s.push(function(){var w=d,_=m._cfg.dbschema;ha(e,w,o),ha(e,_,o),d=e._dbSchema=_;var S=Co(w,_);S.add.forEach(function(P){ko(o,P[0],P[1].primKey,P[1].indexes)}),S.change.forEach(function(P){if(P.recreate)throw new X.Upgrade("Not yet support for changing primary key");var O=o.objectStore(P.name);P.add.forEach(function(M){return fa(O,M)}),P.change.forEach(function(M){O.deleteIndex(M.name),fa(O,M)}),P.del.forEach(function(M){return O.deleteIndex(M)})});var N=m._cfg.contentUpgrade;if(N&&m._cfg.version>t){la(e,o),i._memoizedTables={};var b=Re(_);S.del.forEach(function(P){b[P]=w[P]}),Ao(e,[e.Transaction.prototype]),ca(e,[e.Transaction.prototype],y(b),b),i.schema=b;var x=no(N);x&&Br();var A,D=z.follow(function(){if(A=N(i),A&&x){var P=kn.bind(null,null);A.then(P,P)}});return A&&typeof A.then=="function"?z.resolve(A):D.then(function(){return A})}}),s.push(function(w){var _=m._cfg.dbschema;uh(_,w),Ao(e,[e.Transaction.prototype]),ca(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),i.schema=e._dbSchema}),s.push(function(w){e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(e.idbdb.version/10)===m._cfg.version?(e.idbdb.deleteObjectStore("$meta"),delete e._dbSchema.$meta,e._storeNames=e._storeNames.filter(function(_){return _!=="$meta"})):w.objectStore("$meta").put(m._cfg.version,"version"))})});function p(){return s.length?z.resolve(s.shift()(i.idbtrans)).then(p):z.resolve()}return p().then(function(){Gu(d,o)})}function Co(e,t){var i={del:[],add:[],change:[]},o;for(o in e)t[o]||i.del.push(o);for(o in t){var s=e[o],c=t[o];if(!s)i.add.push([o,c]);else{var d={name:o,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||s.primKey.auto!==c.primKey.auto)d.recreate=!0,i.change.push(d);else{var v=s.idxByName,p=c.idxByName,m=void 0;for(m in v)p[m]||d.del.push(m);for(m in p){var w=v[m],_=p[m];w?w.src!==_.src&&d.change.push(_):d.add.push(_)}(d.del.length>0||d.add.length>0||d.change.length>0)&&i.change.push(d)}}}return i}function ko(e,t,i,o){var s=e.db.createObjectStore(t,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return o.forEach(function(c){return fa(s,c)}),s}function Gu(e,t){y(e).forEach(function(i){t.db.objectStoreNames.contains(i)||(en&&console.debug("Dexie: Creating missing table",i),ko(t,i,e[i].primKey,e[i].indexes))})}function uh(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(i){return e[i]==null&&t.db.deleteObjectStore(i)})}function fa(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function da(e,t,i){var o={},s=Y(t.objectStoreNames,0);return s.forEach(function(c){for(var d=i.objectStore(c),v=d.keyPath,p=xo(Yu(v),v||"",!0,!1,!!d.autoIncrement,v&&typeof v!="string",!0),m=[],w=0;w<d.indexNames.length;++w){var _=d.index(d.indexNames[w]);v=_.keyPath;var S=xo(_.name,v,!!_.unique,!!_.multiEntry,!1,v&&typeof v!="string",!1);m.push(S)}o[c]=To(c,p,m)}),o}function lh(e,t,i){e.verno=t.version/10;var o=e._dbSchema=da(e,t,i);e._storeNames=Y(t.objectStoreNames,0),ca(e,[e._allTables],y(o),o)}function ch(e,t){var i=da(e,e.idbdb,t),o=Co(i,e._dbSchema);return!(o.add.length||o.change.some(function(s){return s.add.length||s.change.length}))}function ha(e,t,i){for(var o=i.db.objectStoreNames,s=0;s<o.length;++s){var c=o[s],d=i.objectStore(c);e._hasGetAll="getAll"in d;for(var v=0;v<d.indexNames.length;++v){var p=d.indexNames[v],m=d.index(p).keyPath,w=typeof m=="string"?m:"["+Y(m).join("+")+"]";if(t[c]){var _=t[c].idxByName[w];_&&(_.name=p,delete t[c].idxByName[w],t[c].idxByName[p]=_)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Qu(e){return e.split(",").map(function(t,i){var o,s=t.split(":"),c=(o=s[1])===null||o===void 0?void 0:o.trim();t=s[0].trim();var d=t.replace(/([&*]|\+\+)/g,""),v=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return xo(d,v||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),g(v),i===0,c)})}var fh=function(){function e(){}return e.prototype._createTableSchema=function(t,i,o){return To(t,i,o)},e.prototype._parseIndexSyntax=function(t){return Qu(t)},e.prototype._parseStoresSpec=function(t,i){var o=this;y(t).forEach(function(s){if(t[s]!==null){var c=o._parseIndexSyntax(t[s]),d=c.shift();if(!d)throw new X.Schema("Invalid schema for table "+s+": "+t[s]);if(d.unique=!0,d.multi)throw new X.Schema("Primary key cannot be multiEntry*");c.forEach(function(p){if(p.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!p.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")});var v=o._createTableSchema(s,d,c);i[s]=v}})},e.prototype.stores=function(t){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?k(this._cfg.storesSource,t):t;var o=i._versions,s={},c={};return o.forEach(function(d){k(s,d._cfg.storesSource),c=d._cfg.dbschema={},d._parseStoresSpec(s,c)}),i._dbSchema=c,Ao(i,[i._allTables,i,i.Transaction.prototype]),ca(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],y(c),c),i._storeNames=y(c),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=ao(this._cfg.contentUpgrade||Ee,t),this},e}();function dh(e){return di(fh.prototype,function(i){this.db=e,this._cfg={version:i,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Ro(e,t){var i=e._dbNamesDB;return i||(i=e._dbNamesDB=new pn(ra,{addons:[],indexedDB:e,IDBKeyRange:t}),i.version(1).stores({dbnames:"name"})),i.table("dbnames")}function Oo(e){return e&&typeof e.databases=="function"}function hh(e){var t=e.indexedDB,i=e.IDBKeyRange;return Oo(t)?Promise.resolve(t.databases()).then(function(o){return o.map(function(s){return s.name}).filter(function(s){return s!==ra})}):Ro(t,i).toCollection().primaryKeys()}function vh(e,t){var i=e.indexedDB,o=e.IDBKeyRange;!Oo(i)&&t!==ra&&Ro(i,o).put({name:t}).catch(Ee)}function ph(e,t){var i=e.indexedDB,o=e.IDBKeyRange;!Oo(i)&&t!==ra&&Ro(i,o).delete(t).catch(Ee)}function $o(e){return Cn(function(){return W.letThrough=!0,e()})}function yh(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(i){var o=function(){return indexedDB.databases().finally(i)};t=setInterval(o,100),o()}).finally(function(){return clearInterval(t)})}var Io;function Do(e){return!("from"in e)}var Je=function(e,t){if(this)k(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var i=new Je;return e&&"d"in e&&k(i,e),i}};C(Je.prototype,(Io={add:function(e){return gi(this,e),this},addKey:function(e){return _i(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(i){return _i(t,i,i)}),this},hasKey:function(e){var t=va(this).next(e).value;return t&&he(t.from,e)<=0&&he(t.to,e)>=0}},Io[Dt]=function(){return va(this)},Io));function _i(e,t,i){var o=he(t,i);if(!isNaN(o)){if(o>0)throw RangeError();if(Do(e))return k(e,{from:t,to:i,d:1});var s=e.l,c=e.r;if(he(i,e.from)<0)return s?_i(s,t,i):e.l={from:t,to:i,d:1,l:null,r:null},Ju(e);if(he(t,e.to)>0)return c?_i(c,t,i):e.r={from:t,to:i,d:1,l:null,r:null},Ju(e);he(t,e.from)<0&&(e.from=t,e.l=null,e.d=c?c.d+1:1),he(i,e.to)>0&&(e.to=i,e.r=null,e.d=e.l?e.l.d+1:1);var d=!e.r;s&&!e.l&&gi(e,s),c&&d&&gi(e,c)}}function gi(e,t){function i(o,s){var c=s.from,d=s.to,v=s.l,p=s.r;_i(o,c,d),v&&i(o,v),p&&i(o,p)}Do(t)||i(e,t)}function Xu(e,t){var i=va(t),o=i.next();if(o.done)return!1;for(var s=o.value,c=va(e),d=c.next(s.from),v=d.value;!o.done&&!d.done;){if(he(v.from,s.to)<=0&&he(v.to,s.from)>=0)return!0;he(s.from,v.from)<0?s=(o=i.next(v.from)).value:v=(d=c.next(s.from)).value}return!1}function va(e){var t=Do(e)?null:{s:0,n:e};return{next:function(i){for(var o=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,o)for(;t.n.l&&he(i,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!o||he(i,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ju(e){var t,i,o=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((i=e.l)===null||i===void 0?void 0:i.d)||0),s=o>1?"r":o<-1?"l":"";if(s){var c=s==="r"?"l":"r",d=u({},e),v=e[s];e.from=v.from,e.to=v.to,e[s]=v[s],d[s]=v[c],e[c]=d,d.d=Zu(d)}e.d=Zu(e)}function Zu(e){var t=e.r,i=e.l;return(t?i?Math.max(t.d,i.d):t.d:i?i.d:0)+1}function pa(e,t){return y(t).forEach(function(i){e[i]?gi(e[i],t[i]):e[i]=G(t[i])}),e}function Po(e,t){return e.all||t.all||Object.keys(e).some(function(i){return t[i]&&Xu(t[i],e[i])})}var fr={},Mo={},Ko=!1;function ya(e,t){pa(Mo,e),Ko||(Ko=!0,setTimeout(function(){Ko=!1;var i=Mo;Mo={},Bo(i,!1)},0))}function Bo(e,t){t===void 0&&(t=!1);var i=new Set;if(e.all)for(var o=0,s=Object.values(fr);o<s.length;o++){var c=s[o];el(c,e,i,t)}else for(var d in e){var v=/^idb\:\/\/(.*)\/(.*)\//.exec(d);if(v){var p=v[1],m=v[2],c=fr["idb://".concat(p,"/").concat(m)];c&&el(c,e,i,t)}}i.forEach(function(w){return w()})}function el(e,t,i,o){for(var s=[],c=0,d=Object.entries(e.queries.query);c<d.length;c++){for(var v=d[c],p=v[0],m=v[1],w=[],_=0,S=m;_<S.length;_++){var N=S[_];Po(t,N.obsSet)?N.subscribers.forEach(function(D){return i.add(D)}):o&&w.push(N)}o&&s.push([p,w])}if(o)for(var b=0,x=s;b<x.length;b++){var A=x[b],p=A[0],w=A[1];e.queries.query[p]=w}}function mh(e){var t=e._state,i=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Ke(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var o=t.openCanceller,s=Math.round(e.verno*10),c=!1;function d(){if(t.openCanceller!==o)throw new X.DatabaseClosed("db.open() was cancelled")}var v=t.dbReadyResolve,p=null,m=!1,w=function(){return new z(function(_,S){if(d(),!i)throw new X.MissingAPI;var N=e.name,b=t.autoSchema||!s?i.open(N):i.open(N,s);if(!b)throw new X.MissingAPI;b.onerror=tn(S),b.onblocked=$e(e._fireOnBlocked),b.onupgradeneeded=$e(function(x){if(p=b.transaction,t.autoSchema&&!e._options.allowEmptyDB){b.onerror=vi,p.abort(),b.result.close();var A=i.deleteDatabase(N);A.onsuccess=A.onerror=$e(function(){S(new X.NoSuchDatabase("Database ".concat(N," doesnt exist")))})}else{p.onerror=tn(S);var D=x.oldVersion>Math.pow(2,62)?0:x.oldVersion;m=D<1,e.idbdb=b.result,c&&ah(e,p),ih(e,D/10,p,S)}},S),b.onsuccess=$e(function(){p=null;var x=e.idbdb=b.result,A=Y(x.objectStoreNames);if(A.length>0)try{var D=x.transaction(Xd(A),"readonly");if(t.autoSchema)lh(e,x,D);else if(ha(e,e._dbSchema,D),!ch(e,D)&&!c)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),x.close(),s=x.version+1,c=!0,_(w());la(e,D)}catch{}Nr.push(e),x.onversionchange=$e(function(P){t.vcFired=!0,e.on("versionchange").fire(P)}),x.onclose=$e(function(P){e.on("close").fire(P)}),m&&vh(e._deps,N),_()},S)}).catch(function(_){switch(_==null?void 0:_.name){case"UnknownError":if(t.PR1398_maxLoop>0)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(s>0)return s=0,w();break}return z.reject(_)})};return z.race([o,(typeof navigator>"u"?z.resolve():yh()).then(w)]).then(function(){return d(),t.onReadyBeingFired=[],z.resolve($o(function(){return e.on.ready.fire(e.vip)})).then(function _(){if(t.onReadyBeingFired.length>0){var S=t.onReadyBeingFired.reduce(ao,Ee);return t.onReadyBeingFired=[],z.resolve($o(function(){return S(e.vip)})).then(_)}})}).finally(function(){t.openCanceller===o&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(_){t.dbOpenError=_;try{p&&p.abort()}catch{}return o===t.openCanceller&&e._close(),Ke(_)}).finally(function(){t.openComplete=!0,v()}).then(function(){if(m){var _={};e.tables.forEach(function(S){S.schema.indexes.forEach(function(N){N.name&&(_["idb://".concat(e.name,"/").concat(S.name,"/").concat(N.name)]=new Je(-1/0,[[[]]]))}),_["idb://".concat(e.name,"/").concat(S.name,"/")]=_["idb://".concat(e.name,"/").concat(S.name,"/:dels")]=new Je(-1/0,[[[]]])}),$n(pi).fire(_),Bo(_,!0)}return e})}function No(e){var t=function(d){return e.next(d)},i=function(d){return e.throw(d)},o=c(t),s=c(i);function c(d){return function(v){var p=d(v),m=p.value;return p.done?m:!m||typeof m.then!="function"?g(m)?Promise.all(m).then(o,s):o(m):m.then(o,s)}}return c(t)()}function _h(e,t,i){var o=arguments.length;if(o<2)throw new X.InvalidArgument("Too few arguments");for(var s=new Array(o-1);--o;)s[o-1]=arguments[o];i=s.pop();var c=at(s);return[e,c,i]}function tl(e,t,i,o,s){return z.resolve().then(function(){var c=W.transless||W,d=e._createTransaction(t,i,e._dbSchema,o);d.explicit=!0;var v={trans:d,transless:c};if(o)d.idbtrans=o.idbtrans;else try{d.create(),d.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(_){return _.name===io.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return tl(e,t,i,null,s)})):Ke(_)}var p=no(s);p&&Br();var m,w=z.follow(function(){if(m=s.call(d,d),m)if(p){var _=kn.bind(null,null);m.then(_,_)}else typeof m.next=="function"&&typeof m.throw=="function"&&(m=No(m))},v);return(m&&typeof m.then=="function"?z.resolve(m).then(function(_){return d.active?_:Ke(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):w.then(function(){return m})).then(function(_){return o&&d._resolve(),d._completion.then(function(){return _})}).catch(function(_){return d._reject(_),Ke(_)})})}function ma(e,t,i){for(var o=g(e)?e.slice():[e],s=0;s<i;++s)o.push(t);return o}function gh(e){return u(u({},e),{table:function(t){var i=e.table(t),o=i.schema,s={},c=[];function d(x,A,D){var P=mi(x),O=s[P]=s[P]||[],M=x==null?0:typeof x=="string"?1:x.length,I=A>0,j=u(u({},D),{name:I?"".concat(P,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:I,keyTail:A,keyLength:M,extractKey:So(x),unique:!I&&D.unique});if(O.push(j),j.isPrimaryKey||c.push(j),M>1){var q=M===2?x[0]:x.slice(0,M-1);d(q,A+1,D)}return O.sort(function(U,J){return U.keyTail-J.keyTail}),j}var v=d(o.primaryKey.keyPath,0,o.primaryKey);s[":id"]=[v];for(var p=0,m=o.indexes;p<m.length;p++){var w=m[p];d(w.keyPath,0,w)}function _(x){var A=s[mi(x)];return A&&A[0]}function S(x,A){return{type:x.type===1?2:x.type,lower:ma(x.lower,x.lowerOpen?e.MAX_KEY:e.MIN_KEY,A),lowerOpen:!0,upper:ma(x.upper,x.upperOpen?e.MIN_KEY:e.MAX_KEY,A),upperOpen:!0}}function N(x){var A=x.query.index;return A.isVirtual?u(u({},x),{query:{index:A.lowLevelIndex,range:S(x.query.range,A.keyTail)}}):x}var b=u(u({},i),{schema:u(u({},o),{primaryKey:v,indexes:c,getIndexByKeyPath:_}),count:function(x){return i.count(N(x))},query:function(x){return i.query(N(x))},openCursor:function(x){var A=x.query.index,D=A.keyTail,P=A.isVirtual,O=A.keyLength;if(!P)return i.openCursor(x);function M(I){function j(U){U!=null?I.continue(ma(U,x.reverse?e.MAX_KEY:e.MIN_KEY,D)):x.unique?I.continue(I.key.slice(0,O).concat(x.reverse?e.MIN_KEY:e.MAX_KEY,D)):I.continue()}var q=Object.create(I,{continue:{value:j},continuePrimaryKey:{value:function(U,J){I.continuePrimaryKey(ma(U,e.MAX_KEY,D),J)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var U=I.key;return O===1?U[0]:U.slice(0,O)}},value:{get:function(){return I.value}}});return q}return i.openCursor(N(x)).then(function(I){return I&&M(I)})}});return b}})}var bh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:gh};function Fo(e,t,i,o){return i=i||{},o=o||"",y(e).forEach(function(s){if(!E(t,s))i[o+s]=void 0;else{var c=e[s],d=t[s];if(typeof c=="object"&&typeof d=="object"&&c&&d){var v=xt(c),p=xt(d);v!==p?i[o+s]=t[s]:v==="Object"?Fo(c,d,i,o+s+"."):c!==d&&(i[o+s]=t[s])}else c!==d&&(i[o+s]=t[s])}}),y(t).forEach(function(s){E(e,s)||(i[o+s]=t[s])}),i}function jo(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var wh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return u(u({},e),{table:function(t){var i=e.table(t),o=i.schema.primaryKey,s=u(u({},i),{mutate:function(c){var d=W.trans,v=d.table(t).hook,p=v.deleting,m=v.creating,w=v.updating;switch(c.type){case"add":if(m.fire===Ee)break;return d._promise("readwrite",function(){return _(c)},!0);case"put":if(m.fire===Ee&&w.fire===Ee)break;return d._promise("readwrite",function(){return _(c)},!0);case"delete":if(p.fire===Ee)break;return d._promise("readwrite",function(){return _(c)},!0);case"deleteRange":if(p.fire===Ee)break;return d._promise("readwrite",function(){return S(c)},!0)}return i.mutate(c);function _(b){var x=W.trans,A=b.keys||jo(o,b);if(!A)throw new Error("Keys missing");return b=b.type==="add"||b.type==="put"?u(u({},b),{keys:A}):u({},b),b.type!=="delete"&&(b.values=f([],b.values)),b.keys&&(b.keys=f([],b.keys)),Eh(i,b,A).then(function(D){var P=A.map(function(O,M){var I=D[M],j={onerror:null,onsuccess:null};if(b.type==="delete")p.fire.call(j,O,I,x);else if(b.type==="add"||I===void 0){var q=m.fire.call(j,O,b.values[M],x);O==null&&q!=null&&(O=q,b.keys[M]=O,o.outbound||we(b.values[M],o.keyPath,O))}else{var U=Fo(I,b.values[M]),J=w.fire.call(j,U,O,I,x);if(J){var oe=b.values[M];Object.keys(J).forEach(function(V){E(oe,V)?oe[V]=J[V]:we(oe,V,J[V])})}}return j});return i.mutate(b).then(function(O){for(var M=O.failures,I=O.results,j=O.numFailures,q=O.lastResult,U=0;U<A.length;++U){var J=I?I[U]:A[U],oe=P[U];J==null?oe.onerror&&oe.onerror(M[U]):oe.onsuccess&&oe.onsuccess(b.type==="put"&&D[U]?b.values[U]:J)}return{failures:M,results:I,numFailures:j,lastResult:q}}).catch(function(O){return P.forEach(function(M){return M.onerror&&M.onerror(O)}),Promise.reject(O)})})}function S(b){return N(b.trans,b.range,1e4)}function N(b,x,A){return i.query({trans:b,values:!1,query:{index:o,range:x},limit:A}).then(function(D){var P=D.result;return _({type:"delete",keys:P,trans:b}).then(function(O){return O.numFailures>0?Promise.reject(O.failures[0]):P.length<A?{failures:[],numFailures:0,lastResult:void 0}:N(b,u(u({},x),{lower:P[P.length-1],lowerOpen:!0}),A)})})}}});return s}})}};function Eh(e,t,i){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:i,cache:"immutable"})}function nl(e,t,i){try{if(!t||t.keys.length<e.length)return null;for(var o=[],s=0,c=0;s<t.keys.length&&c<e.length;++s)he(t.keys[s],e[c])===0&&(o.push(i?Le(t.values[s]):t.values[s]),++c);return o.length===e.length?o:null}catch{return null}}var xh={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var i=e.table(t);return u(u({},i),{getMany:function(o){if(!o.cache)return i.getMany(o);var s=nl(o.keys,o.trans._cache,o.cache==="clone");return s?z.resolve(s):i.getMany(o).then(function(c){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?Le(c):c},c})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),i.mutate(o)}})}}}};function rl(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function il(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Th={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,i=new Je(e.MIN_KEY,e.MAX_KEY);return u(u({},e),{transaction:function(o,s,c){if(W.subscr&&s!=="readonly")throw new X.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(W.querier));return e.transaction(o,s,c)},table:function(o){var s=e.table(o),c=s.schema,d=c.primaryKey,v=c.indexes,p=d.extractKey,m=d.outbound,w=d.autoIncrement&&v.filter(function(b){return b.compound&&b.keyPath.includes(d.keyPath)}),_=u(u({},s),{mutate:function(b){var x,A,D=b.trans,P=b.mutatedParts||(b.mutatedParts={}),O=function(Q){var ve="idb://".concat(t,"/").concat(o,"/").concat(Q);return P[ve]||(P[ve]=new Je)},M=O(""),I=O(":dels"),j=b.type,q=b.type==="deleteRange"?[b.range]:b.type==="delete"?[b.keys]:b.values.length<50?[jo(d,b).filter(function(Q){return Q}),b.values]:[],U=q[0],J=q[1],oe=b.trans._cache;if(g(U)){M.addKeys(U);var V=j==="delete"||U.length===J.length?nl(U,oe):null;V||I.addKeys(U),(V||J)&&Sh(O,c,V,J)}else if(U){var ce={from:(x=U.lower)!==null&&x!==void 0?x:e.MIN_KEY,to:(A=U.upper)!==null&&A!==void 0?A:e.MAX_KEY};I.add(ce),M.add(ce)}else M.add(i),I.add(i),c.indexes.forEach(function(Q){return O(Q.name).add(i)});return s.mutate(b).then(function(Q){return U&&(b.type==="add"||b.type==="put")&&(M.addKeys(Q.results),w&&w.forEach(function(ve){for(var Z=b.values.map(function(yt){return ve.extractKey(yt)}),xe=ve.keyPath.findIndex(function(yt){return yt===d.keyPath}),Ae=0,Pt=Q.results.length;Ae<Pt;++Ae)Z[Ae][xe]=Q.results[Ae];O(ve.name).addKeys(Z)})),D.mutatedParts=pa(D.mutatedParts||{},P),Q})}}),S=function(b){var x,A,D=b.query,P=D.index,O=D.range;return[P,new Je((x=O.lower)!==null&&x!==void 0?x:e.MIN_KEY,(A=O.upper)!==null&&A!==void 0?A:e.MAX_KEY)]},N={get:function(b){return[d,new Je(b.key)]},getMany:function(b){return[d,new Je().addKeys(b.keys)]},count:S,query:S,openCursor:S};return y(N).forEach(function(b){_[b]=function(x){var A=W.subscr,D=!!A,P=rl(W,s)&&il(b,x),O=P?x.obsSet={}:A;if(D){var M=function(V){var ce="idb://".concat(t,"/").concat(o,"/").concat(V);return O[ce]||(O[ce]=new Je)},I=M(""),j=M(":dels"),q=N[b](x),U=q[0],J=q[1];if(b==="query"&&U.isPrimaryKey&&!x.values?j.add(J):M(U.name||"").add(J),!U.isPrimaryKey)if(b==="count")j.add(i);else{var oe=b==="query"&&m&&x.values&&s.query(u(u({},x),{values:!1}));return s[b].apply(this,arguments).then(function(V){if(b==="query"){if(m&&x.values)return oe.then(function(Z){var xe=Z.result;return I.addKeys(xe),V});var ce=x.values?V.result.map(p):V.result;x.values?I.addKeys(ce):j.addKeys(ce)}else if(b==="openCursor"){var Q=V,ve=x.values;return Q&&Object.create(Q,{key:{get:function(){return j.addKey(Q.primaryKey),Q.key}},primaryKey:{get:function(){var Z=Q.primaryKey;return j.addKey(Z),Z}},value:{get:function(){return ve&&I.addKey(Q.primaryKey),Q.value}}})}return V})}}return s[b].apply(this,arguments)}}),_}})}};function Sh(e,t,i,o){function s(c){var d=e(c.name||"");function v(m){return m!=null?c.extractKey(m):null}var p=function(m){return c.multiEntry&&g(m)?m.forEach(function(w){return d.addKey(w)}):d.addKey(m)};(i||o).forEach(function(m,w){var _=i&&v(i[w]),S=o&&v(o[w]);he(_,S)!==0&&(_!=null&&p(_),S!=null&&p(S))})}t.indexes.forEach(s)}function al(e,t,i){if(i.numFailures===0)return t;if(t.type==="deleteRange")return null;var o=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;if(i.numFailures===o)return null;var s=u({},t);return g(s.keys)&&(s.keys=s.keys.filter(function(c,d){return!(d in i.failures)})),"values"in s&&g(s.values)&&(s.values=s.values.filter(function(c,d){return!(d in i.failures)})),s}function Ah(e,t){return t.lower===void 0?!0:t.lowerOpen?he(e,t.lower)>0:he(e,t.lower)>=0}function Ch(e,t){return t.upper===void 0?!0:t.upperOpen?he(e,t.upper)<0:he(e,t.upper)<=0}function Lo(e,t){return Ah(e,t)&&Ch(e,t)}function ol(e,t,i,o,s,c){if(!i||i.length===0)return e;var d=t.query.index,v=d.multiEntry,p=t.query.range,m=o.schema.primaryKey,w=m.extractKey,_=d.extractKey,S=(d.lowLevelIndex||d).extractKey,N=i.reduce(function(b,x){var A=b,D=[];if(x.type==="add"||x.type==="put")for(var P=new Je,O=x.values.length-1;O>=0;--O){var M=x.values[O],I=w(M);if(!P.hasKey(I)){var j=_(M);(v&&g(j)?j.some(function(V){return Lo(V,p)}):Lo(j,p))&&(P.addKey(I),D.push(M))}}switch(x.type){case"add":{var q=new Je().addKeys(t.values?b.map(function(V){return w(V)}):b);A=b.concat(t.values?D.filter(function(V){var ce=w(V);return q.hasKey(ce)?!1:(q.addKey(ce),!0)}):D.map(function(V){return w(V)}).filter(function(V){return q.hasKey(V)?!1:(q.addKey(V),!0)}));break}case"put":{var U=new Je().addKeys(x.values.map(function(V){return w(V)}));A=b.filter(function(V){return!U.hasKey(t.values?w(V):V)}).concat(t.values?D:D.map(function(V){return w(V)}));break}case"delete":var J=new Je().addKeys(x.keys);A=b.filter(function(V){return!J.hasKey(t.values?w(V):V)});break;case"deleteRange":var oe=x.range;A=b.filter(function(V){return!Lo(w(V),oe)});break}return A},e);return N===e?e:(N.sort(function(b,x){return he(S(b),S(x))||he(w(b),w(x))}),t.limit&&t.limit<1/0&&(N.length>t.limit?N.length=t.limit:e.length===t.limit&&N.length<t.limit&&(s.dirty=!0)),c?Object.freeze(N):N)}function sl(e,t){return he(e.lower,t.lower)===0&&he(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function kh(e,t,i,o){if(e===void 0)return t!==void 0?-1:0;if(t===void 0)return 1;var s=he(e,t);if(s===0){if(i&&o)return 0;if(i)return 1;if(o)return-1}return s}function Rh(e,t,i,o){if(e===void 0)return t!==void 0?1:0;if(t===void 0)return-1;var s=he(e,t);if(s===0){if(i&&o)return 0;if(i)return-1;if(o)return 1}return s}function Oh(e,t){return kh(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&Rh(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}function $h(e,t,i,o){var s=fr["idb://".concat(e,"/").concat(t)];if(!s)return[];var c=s.queries[i];if(!c)return[null,!1,s,null];var d=o.query?o.query.index.name:null,v=c[d||""];if(!v)return[null,!1,s,null];switch(i){case"query":var p=v.find(function(_){return _.req.limit===o.limit&&_.req.values===o.values&&sl(_.req.query.range,o.query.range)});if(p)return[p,!0,s,v];var m=v.find(function(_){var S="limit"in _.req?_.req.limit:1/0;return S>=o.limit&&(o.values?_.req.values:!0)&&Oh(_.req.query.range,o.query.range)});return[m,!1,s,v];case"count":var w=v.find(function(_){return sl(_.req.query.range,o.query.range)});return[w,!!w,s,v]}}function Ih(e,t,i,o){e.subscribers.add(i),o.addEventListener("abort",function(){e.subscribers.delete(i),e.subscribers.size===0&&Dh(e,t)})}function Dh(e,t){setTimeout(function(){e.subscribers.size===0&&Zt(t,e)},3e3)}var Ph={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name,i=u(u({},e),{transaction:function(o,s,c){var d=e.transaction(o,s,c);if(s==="readwrite"){var v=new AbortController,p=v.signal,m=function(w){return function(){if(v.abort(),s==="readwrite"){for(var _=new Set,S=0,N=o;S<N.length;S++){var b=N[S],x=fr["idb://".concat(t,"/").concat(b)];if(x){var A=e.table(b),D=x.optimisticOps.filter(function(ve){return ve.trans===d});if(d._explicit&&w&&d.mutatedParts)for(var P=0,O=Object.values(x.queries.query);P<O.length;P++)for(var M=O[P],I=0,j=M.slice();I<j.length;I++){var q=j[I];Po(q.obsSet,d.mutatedParts)&&(Zt(M,q),q.subscribers.forEach(function(ve){return _.add(ve)}))}else if(D.length>0){x.optimisticOps=x.optimisticOps.filter(function(ve){return ve.trans!==d});for(var U=0,J=Object.values(x.queries.query);U<J.length;U++)for(var M=J[U],oe=0,V=M.slice();oe<V.length;oe++){var q=V[oe];if(q.res!=null&&d.mutatedParts)if(w&&!q.dirty){var ce=Object.isFrozen(q.res),Q=ol(q.res,q.req,D,A,q,ce);q.dirty?(Zt(M,q),q.subscribers.forEach(function(xe){return _.add(xe)})):Q!==q.res&&(q.res=Q,q.promise=z.resolve({result:Q}))}else q.dirty&&Zt(M,q),q.subscribers.forEach(function(xe){return _.add(xe)})}}}}_.forEach(function(ve){return ve()})}}};d.addEventListener("abort",m(!1),{signal:p}),d.addEventListener("error",m(!1),{signal:p}),d.addEventListener("complete",m(!0),{signal:p})}return d},table:function(o){var s=e.table(o),c=s.schema.primaryKey,d=u(u({},s),{mutate:function(v){var p=W.trans;if(c.outbound||p.db._options.cache==="disabled"||p.explicit||p.idbtrans.mode!=="readwrite")return s.mutate(v);var m=fr["idb://".concat(t,"/").concat(o)];if(!m)return s.mutate(v);var w=s.mutate(v);return(v.type==="add"||v.type==="put")&&(v.values.length>=50||jo(c,v).some(function(_){return _==null}))?w.then(function(_){var S=u(u({},v),{values:v.values.map(function(b,x){var A;if(_.failures[x])return b;var D=!((A=c.keyPath)===null||A===void 0)&&A.includes(".")?Le(b):u({},b);return we(D,c.keyPath,_.results[x]),D})}),N=al(m,S,_);m.optimisticOps.push(N),queueMicrotask(function(){return v.mutatedParts&&ya(v.mutatedParts)})}):(m.optimisticOps.push(v),v.mutatedParts&&ya(v.mutatedParts),w.then(function(_){if(_.numFailures>0){Zt(m.optimisticOps,v);var S=al(m,v,_);S&&m.optimisticOps.push(S),v.mutatedParts&&ya(v.mutatedParts)}}),w.catch(function(){Zt(m.optimisticOps,v),v.mutatedParts&&ya(v.mutatedParts)})),w},query:function(v){var p;if(!rl(W,s)||!il("query",v))return s.query(v);var m=((p=W.trans)===null||p===void 0?void 0:p.db._options.cache)==="immutable",w=W,_=w.requery,S=w.signal,N=$h(t,o,"query",v),b=N[0],x=N[1],A=N[2],D=N[3];if(b&&x)b.obsSet=v.obsSet;else{var P=s.query(v).then(function(O){var M=O.result;if(b&&(b.res=M),m){for(var I=0,j=M.length;I<j;++I)Object.freeze(M[I]);Object.freeze(M)}else O.result=Le(M);return O}).catch(function(O){return D&&b&&Zt(D,b),Promise.reject(O)});b={obsSet:v.obsSet,promise:P,subscribers:new Set,type:"query",req:v,dirty:!1},D?D.push(b):(D=[b],A||(A=fr["idb://".concat(t,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),A.queries.query[v.query.index.name||""]=D)}return Ih(b,D,_,S),b.promise.then(function(O){return{result:ol(O.result,v,A==null?void 0:A.optimisticOps,s,b,m)}})}});return d}});return i}};function _a(e,t){return new Proxy(e,{get:function(i,o,s){return o==="db"?t:Reflect.get(i,o,s)}})}var pn=function(){function e(t,i){var o=this;this._middlewares={},this.verno=0;var s=e.dependencies;this._options=i=u({addons:e.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange};var c=i.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};d.dbReadyPromise=new z(function(p){d.dbReadyResolve=p}),d.openCanceller=new z(function(p,m){d.cancelOpen=m}),this._state=d,this.name=t,this.on=fi(this,"populate","blocked","versionchange","close",{ready:[ao,Ee]}),this.once=function(p,m){var w=function(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];o.on(p).unsubscribe(w),m.apply(o,_)};return o.on(p,w)},this.on.ready.subscribe=ee(this.on.ready.subscribe,function(p){return function(m,w){e.vip(function(){var _=o._state;if(_.openComplete)_.dbOpenError||z.resolve().then(m),w&&p(m);else if(_.onReadyBeingFired)_.onReadyBeingFired.push(m),w&&p(m);else{p(m);var S=o;w||p(function N(){S.on.ready.unsubscribe(m),S.on.ready.unsubscribe(N)})}})}}),this.Collection=Ud(this),this.Table=Fd(this),this.Transaction=Qd(this),this.Version=dh(this),this.WhereClause=Wd(this),this.on("versionchange",function(p){p.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(p){!p.newVersion||p.newVersion<p.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(p.oldVersion/10))}),this._maxKey=yi(i.IDBKeyRange),this._createTransaction=function(p,m,w,_){return new o.Transaction(p,m,w,o._options.chromeTransactionDurability,_)},this._fireOnBlocked=function(p){o.on("blocked").fire(p),Nr.filter(function(m){return m.name===o.name&&m!==o&&!m._state.vcFired}).map(function(m){return m.on("versionchange").fire(p)})},this.use(xh),this.use(Ph),this.use(Th),this.use(bh),this.use(wh);var v=new Proxy(this,{get:function(p,m,w){if(m==="_vip")return!0;if(m==="table")return function(S){return _a(o.table(S),v)};var _=Reflect.get(p,m,w);return _ instanceof Lu?_a(_,v):m==="tables"?_.map(function(S){return _a(S,v)}):m==="_createTransaction"?function(){var S=_.apply(this,arguments);return _a(S,v)}:_}});this.vip=v,c.forEach(function(p){return p(o)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new X.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var i=this._versions,o=i.filter(function(s){return s._cfg.version===t})[0];return o||(o=new this.Version(t),i.push(o),i.sort(rh),o.stores({}),this._state.autoSchema=!1,o)},e.prototype._whenReady=function(t){var i=this;return this.idbdb&&(this._state.openComplete||W.letThrough||this._vip)?t():new z(function(o,s){if(i._state.openComplete)return s(new X.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen){s(new X.DatabaseClosed);return}i.open().catch(Ee)}i._state.dbReadyPromise.then(o,s)}).then(t)},e.prototype.use=function(t){var i=t.stack,o=t.create,s=t.level,c=t.name;c&&this.unuse({stack:i,name:c});var d=this._middlewares[i]||(this._middlewares[i]=[]);return d.push({stack:i,create:o,level:s??10,name:c}),d.sort(function(v,p){return v.level-p.level}),this},e.prototype.unuse=function(t){var i=t.stack,o=t.name,s=t.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(c){return s?c.create!==s:o?c.name!==o:!1})),this},e.prototype.open=function(){var t=this;return ur(An,function(){return mh(t)})},e.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var t=this._state,i=Nr.indexOf(this);if(i>=0&&Nr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new z(function(o){t.dbReadyResolve=o}),t.openCanceller=new z(function(o,s){t.cancelOpen=s}))},e.prototype.close=function(t){var i=t===void 0?{disableAutoOpen:!0}:t,o=i.disableAutoOpen,s=this._state;o?(s.isBeingOpened&&s.cancelOpen(new X.DatabaseClosed),this._close(),s.autoOpen=!1,s.dbOpenError=new X.DatabaseClosed):(this._close(),s.autoOpen=this._options.autoOpen||s.isBeingOpened,s.openComplete=!1,s.dbOpenError=null)},e.prototype.delete=function(t){var i=this;t===void 0&&(t={disableAutoOpen:!0});var o=arguments.length>0&&typeof arguments[0]!="object",s=this._state;return new z(function(c,d){var v=function(){i.close(t);var p=i._deps.indexedDB.deleteDatabase(i.name);p.onsuccess=$e(function(){ph(i._deps,i.name),c()}),p.onerror=tn(d),p.onblocked=i._fireOnBlocked};if(o)throw new X.InvalidArgument("Invalid closeOptions argument to db.delete()");s.isBeingOpened?s.dbReadyPromise.then(v):v()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return y(this._allTables).map(function(i){return t._allTables[i]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=_h.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,i,o){var s=this,c=W.trans;(!c||c.db!==this||t.indexOf("!")!==-1)&&(c=null);var d=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var v,p;try{if(p=i.map(function(w){var _=w instanceof s.Table?w.name:w;if(typeof _!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _}),t=="r"||t===_o)v=_o;else if(t=="rw"||t==go)v=go;else throw new X.InvalidArgument("Invalid transaction mode: "+t);if(c){if(c.mode===_o&&v===go)if(d)c=null;else throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");c&&p.forEach(function(w){if(c&&c.storeNames.indexOf(w)===-1)if(d)c=null;else throw new X.SubTransaction("Table "+w+" not included in parent transaction.")}),d&&c&&!c.active&&(c=null)}}catch(w){return c?c._promise(null,function(_,S){S(w)}):Ke(w)}var m=tl.bind(null,this,v,p,c,o);return c?c._promise(v,m,"lock"):W.trans?ur(W.transless,function(){return s._whenReady(m)}):this._whenReady(m)},e.prototype.table=function(t){if(!E(this._allTables,t))throw new X.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},e}(),Mh=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Kh=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,i,o){return this._subscribe(!t||typeof t=="function"?{next:t,error:i,complete:o}:t)},e.prototype[Mh]=function(){return this},e}(),ga;try{ga={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{ga={indexedDB:null,IDBKeyRange:null}}function ul(e){var t=!1,i,o=new Kh(function(s){var c=no(e);function d(D){var P=Mr();try{c&&Br();var O=Cn(e,D);return c&&(O=O.finally(kn)),O}finally{P&&Kr()}}var v=!1,p,m={},w={},_={get closed(){return v},unsubscribe:function(){v||(v=!0,p&&p.abort(),S&&$n.storagemutated.unsubscribe(x))}};s.start&&s.start(_);var S=!1,N=function(){return po(A)};function b(){return Po(w,m)}var x=function(D){pa(m,D),b()&&N()},A=function(){if(!(v||!ga.indexedDB)){m={};var D={};p&&p.abort(),p=new AbortController;var P={subscr:D,signal:p.signal,requery:N,querier:e,trans:null},O=d(P);Promise.resolve(O).then(function(M){t=!0,i=M,!(v||P.signal.aborted)&&(m={},w=D,!te(w)&&!S&&($n(pi,x),S=!0),po(function(){return!v&&s.next&&s.next(M)}))},function(M){t=!1,["DatabaseClosedError","AbortError"].includes(M==null?void 0:M.name)||v||po(function(){v||s.error&&s.error(M)})})}};return setTimeout(N,0),_});return o.hasValue=function(){return t},o.getValue=function(){return i},o}var dr=pn;C(dr,u(u({},Wi),{delete:function(e){var t=new dr(e,{addons:[]});return t.delete()},exists:function(e){return new dr(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return hh(dr.dependencies).then(e)}catch{return Ke(new X.MissingAPI)}},defineClass:function(){function e(t){k(this,t)}return e},ignoreTransaction:function(e){return W.trans?ur(W.transless,e):e()},vip:$o,async:function(e){return function(){try{var t=No(e.apply(this,arguments));return!t||typeof t.then!="function"?z.resolve(t):t}catch(i){return Ke(i)}}},spawn:function(e,t,i){try{var o=No(e.apply(i,t||[]));return!o||typeof o.then!="function"?z.resolve(o):o}catch(s){return Ke(s)}},currentTransaction:{get:function(){return W.trans||null}},waitFor:function(e,t){var i=z.resolve(typeof e=="function"?dr.ignoreTransaction(e):e).timeout(t||6e4);return W.trans?W.trans.waitFor(i):i},Promise:z,debug:{get:function(){return en},set:function(e){Au(e)}},derive:F,extend:k,props:C,override:ee,Events:fi,on:$n,liveQuery:ul,extendObservabilitySet:pa,getByKeyPath:pe,setByKeyPath:we,delByKeyPath:je,shallowClone:Re,deepClone:Le,getObjectDiff:Fo,cmp:he,asap:Fe,minKey:mo,addons:[],connections:Nr,errnames:io,dependencies:ga,cache:fr,semVer:Mu,version:Mu.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,i){return e+t/Math.pow(10,i*2)})})),dr.maxKey=yi(dr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&($n(pi,function(e){if(!In){var t;t=new CustomEvent(Eo,{detail:e}),In=!0,dispatchEvent(t),In=!1}}),addEventListener(Eo,function(e){var t=e.detail;In||Uo(t)}));function Uo(e){var t=In;try{In=!0,$n.storagemutated.fire(e),Bo(e,!0)}finally{In=t}}var In=!1,Dn,qo=function(){};typeof BroadcastChannel<"u"&&(qo=function(){Dn=new BroadcastChannel(Eo),Dn.onmessage=function(e){return e.data&&Uo(e.data)}},qo(),typeof Dn.unref=="function"&&Dn.unref(),$n(pi,function(e){In||Dn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!pn.disableBfCache&&e.persisted){en&&console.debug("Dexie: handling persisted pagehide"),Dn==null||Dn.close();for(var t=0,i=Nr;t<i.length;t++){var o=i[t];o.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(e){!pn.disableBfCache&&e.persisted&&(en&&console.debug("Dexie: handling persisted pageshow"),qo(),Uo({all:new Je(-1/0,[[]])}))}));function Bh(e){return new hi({add:e})}function Nh(e){return new hi({remove:e})}function Fh(e,t){return new hi({replacePrefix:[e,t]})}z.rejectionMapper=gd,Au(en);var jh=Object.freeze({__proto__:null,Dexie:pn,liveQuery:ul,Entity:Nu,cmp:he,PropModification:hi,replacePrefix:Fh,add:Bh,remove:Nh,default:pn,RangeSet:Je,mergeRanges:gi,rangesOverlap:Xu});return u(pn,jh,{default:pn}),pn})}(Ui)),Ui.exports}var kf=Cf();const Za=Sf(kf),pu=Symbol.for("Dexie"),ti=globalThis[pu]||(globalThis[pu]=Za);if(Za.semVer!==ti.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Za.semVer} and ${ti.semVer}`);const{liveQuery:zh,mergeRanges:Hh,rangesOverlap:Vh,RangeSet:Yh,cmp:Wh,Entity:Gh,PropModification:Qh,replacePrefix:Xh,add:Jh,remove:Zh,DexieYProvider:ev}=ti;ti.debug=!0;const Ne=new ti("tm-short-info-db");Ne.version(7).stores({attributes:"&id",clubs:"&id",coaches:"&id",competitions:"&id",players:"&id",referees:"&id"});const yu=Object.freeze({entityCachingTime:6e5,attributeCachingTime:864e5});async function Rf(n,r){const a=await Ne.attributes.get({id:"attributes"});if(!a||Date.now()-a.lastUpdated>yu.attributeCachingTime||a.cacheKey!==r){const{data:u,error:f}=await n.GET("/attributes");return f||!(u!=null&&u.data)?Promise.reject(new Error("Failed to fetch data for attributes")):(await Ne.attributes.clear(),await Ne.attributes.put({...u.data,id:"attributes",cacheKey:r,lastUpdated:Date.now()}),u.data)}const l=await Ne.attributes.get("attributes");return l||Promise.reject(new Error("No cached data found for attributes"))}function ni(n,r,a){let l=[];return r=r.filter(u=>u!=="0"),n?(r.forEach((u,f)=>{const h=n[f]??null;(!h||h&&h.cacheKey!==a||h.lastUpdated<Date.now()-yu.entityCachingTime)&&u&&l.push(u)}),l.length&&(l=r),{notCachedIds:l}):{notCachedIds:r}}async function Of(n,r,a){const l=await Ne.clubs.bulkGet(n),{notCachedIds:u}=ni(l,n,a);if(u.length){await Ne.clubs.where("id").anyOf(u).delete();const{data:f,error:h}=await r.GET("/clubs",{params:{query:{"ids[]":u}}});if(h||!(f!=null&&f.data))return Promise.reject(new Error("Failed to fetch clubs data"));const y=f.data.map(g=>{var k,R,T;return{id:g.id,name:g.name,shortName:g.baseDetails.shortName??g.name,abbreviation:g.baseDetails.abbreviation??"",clubCode:((k=g.preferences)==null?void 0:k.clubCode)??"",countryId:g.baseDetails.countryId??0,isNationalTeam:g.baseDetails.isNationalTeam??!1,crestUrl:((R=g.crestUrl)==null?void 0:R.replace("medium","profil"))??"",historical:g.historical,relativeUrl:g.relativeUrl??"",slug:((T=g.relativeUrl)==null?void 0:T.split("/")[1])??"verein",lastUpdated:Date.now(),cacheKey:a}});return await Ne.clubs.bulkPut(y),Promise.resolve([...l.filter(Boolean),...y])}return Promise.resolve(l.filter(Boolean))}async function $f(n,r,a){const l=await Ne.coaches.bulkGet(n),{notCachedIds:u}=ni(l,n,a);if(u.length){await Ne.coaches.where("id").anyOf(u).delete();const{data:f,error:h}=await r.GET("/coaches",{params:{query:{"ids[]":u}}});if(h||!(f!=null&&f.data))return Promise.reject(new Error("Failed to fetch coaches data"));const y=f.data.map(g=>({id:g.id,name:g.name,lastUpdated:Date.now(),relativeUrl:g.relativeUrl??"",cacheKey:a}));return await Ne.coaches.bulkPut(y),Promise.resolve([...l.filter(Boolean),...y])}return Promise.resolve(l.filter(Boolean))}const If=async(n,r)=>{const{data:a,error:l}=await r.GET("/competitions",{params:{query:{"ids[]":n}}});if(!(a!=null&&a.data)||l)throw new Error("Failed to fetch competition");return a.data},Df=(n,r)=>Array.from({length:Math.ceil(n.length/r)},(a,l)=>n.slice(l*r,l*r+r)),Pf=150;async function Mf(n,r,a){const l=await Ne.competitions.bulkGet(n),{notCachedIds:u}=ni(l,n,a);if(u.length){await Ne.competitions.where("id").anyOf(u).delete();const h=(await Promise.all(Df(u,Pf).map(y=>If(y,r)))).flat().map(y=>{var g;return{id:y.id,name:y.name,shortName:y.baseDetails.shortName??y.name,countryId:y.originDetails.countryId??0,logoUrl:((g=y.logoUrl)==null?void 0:g.replace("medium","mediumsmall"))??"",confederationId:y.originDetails.confederationId??0,relativeUrl:y.relativeUrl??"",typeId:y.typeId??0,isTournament:y.baseDetails.isTournament??!1,historical:{names:y.historical.names??[],logos:(y.historical.images??[]).map(k=>{var R;return{...k,url:((R=k.url)==null?void 0:R.replace("medium","mediumsmall"))??""}})},lastUpdated:Date.now(),cacheKey:a}});return await Ne.competitions.bulkPut(h),[...l.filter(Boolean),...h]}return l.filter(Boolean)}const Kf=(n,r)=>({...n,lastUpdated:Date.now(),cacheKey:r});async function Bf(n,r,a){const l=await Ne.players.bulkGet(n),{notCachedIds:u}=ni(l,n,a);if(u.length){await Ne.players.where("id").anyOf(u).delete();const{data:f,error:h}=await r.GET("/players",{params:{query:{"ids[]":u}}});if(h||!(f!=null&&f.data))return Promise.reject(new Error("Failed to fetch players data"));const y=f.data.map(g=>Kf(g,a));return await Ne.players.bulkPut(y),Promise.resolve([...l.filter(Boolean),...y])}return Promise.resolve(l.filter(Boolean))}async function Nf(n,r,a){const l=await Ne.referees.bulkGet(n),{notCachedIds:u}=ni(l,n,a);if(u.length){await Ne.referees.where("id").anyOf(u).delete();const{data:f,error:h}=await r.GET("/referees",{params:{query:{"ids[]":u}}});if(h||!(f!=null&&f.data))return Promise.reject(new Error("Failed to fetch referees data"));const y=f.data.map(g=>({id:g.id,name:g.name,gender:g.gender,portraitUrl:g.portraitUrl??"",dateOfBirth:g.dateOfBirth,nationalities:g.nationalities,lastUpdated:Date.now(),cacheKey:a}));return await Ne.referees.bulkPut(y),Promise.resolve([...l.filter(Boolean),...y])}return Promise.resolve(l.filter(Boolean))}async function Ff({clubs:n=[],competitions:r=[],coaches:a=[],players:l=[],referees:u=[]}){const f=performance.now(),h=hu({useLocale:!0}),y=document.body.getAttribute("data-db-name")||"",[g,k,R,T,E,C]=await Promise.all([Of(n,h,y),$f(a,h,y),Mf(r,h,y),Bf(l,h,y),Nf(u,h,y),Rf(h,y)]),$=C||{},K={clubs:g.reduce((F,L)=>(F[L.id]=L,F),{}),coaches:k.reduce((F,L)=>(F[L.id]=L,F),{}),competitions:R.reduce((F,L)=>(F[L.id]=L,F),{}),positions:$.positions.reduce((F,L)=>(F[L.id]=L,F),{}),injuries:$.injuries.reduce((F,L)=>(F[L.id]=L,F),{}),absences:$.absences.reduce((F,L)=>(F[L.id]=L,F),{}),competitionTypes:$.competitionTypes.reduce((F,L)=>(F[L.id]=L,F),{}),countries:$.countries.reduce((F,L)=>(F[L.id]=L,F),{}),confederations:$.confederations.reduce((F,L)=>(F[L.id]=L,F),{}),players:T.reduce((F,L)=>(F[L.id]=L,F),{}),referees:E.reduce((F,L)=>(F[L.id]=L,F),{})};return console.log("Resolved entities",K),console.log("Resolved entities in",performance.now()-f,"ms"),Promise.resolve(K)}const mu=n=>{const r=(n==null?void 0:n.name)||"",a=(n==null?void 0:n.shortName)||"";return r.includes("Olympia")||a.includes("OLY")?3:!(/\d/.test(r)||/\d/.test(a))&&!r.includes("Olympia")&&!a.includes("OLY")?1:2},_u=n=>{const r=(n==null?void 0:n.name)||"",a=(n==null?void 0:n.shortName)||"",u=(r+" "+a).match(/(\d{1,2})/);return u?-parseInt(u[1]):0},jf=(n,r)=>{const a=n.careerState==="CURRENT_NATIONAL_PLAYER",l=r.careerState==="CURRENT_NATIONAL_PLAYER";return a&&!l?-1:!a&&l?1:r.gamesPlayed-n.gamesPlayed},Lf=n=>[...n].sort((r,a)=>{var y,g;if(!r.club||!a.club)return 0;const l=mu(r.club),u=mu(a.club);if(l!==u)return l-u;if(l===2&&u===2)return _u(r.club)-_u(a.club);if(l===1&&u===1){const k=jf(r,a);if(k!==0)return k}const f=((y=r.club)==null?void 0:y.name)||"",h=((g=a.club)==null?void 0:g.name)||"";return f.localeCompare(h)}),gu=n=>typeof n=="string",Uf=async n=>{const r=await xf(n),{clubs:a,coaches:l,players:u}=await Ff({clubs:r.clubIds,coaches:r.history.map(({debutCoachId:h})=>h).filter(gu),players:r.history.map(({playerId:h})=>h).filter(gu)}),f=r.history.map(h=>({...h,club:(a==null?void 0:a[h.clubId])??null,coach:h.debutCoachId?(l==null?void 0:l[h.debutCoachId])??null:null,player:(u==null?void 0:u[h.playerId])??null}));return Lf(f)},qf=(n,r)=>{const a=new IntersectionObserver(l=>{(l[0].isIntersecting||l[0].intersectionRatio>0)&&(r(),a.disconnect())},{root:null,rootMargin:"200px 0px 200px 0px",threshold:1});a.observe(n)};qi[Se]="src/lib/components/ContentBoxHeadline.svelte";const zf={hash:"svelte-1r2dsxy",code:`/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
.content-box-headline.svelte-1r2dsxy {
  background-color: #00193f;
  color: white;
  display: block;
  font-family: 'Oswald-VF', 'Oswald-fallback', sans-serif;
  font-size: 1rem;
  font-variation-settings: "wght" 400;
  font-weight: initial;
  line-height: 1.625rem;
  margin: 0;
  padding: 0 0.5rem !important;
  scroll-margin-top: 5rem;
  text-transform: uppercase;
}`};function qi(n,r){Er(new.target),Un(r,!1,qi),Tr(n,zf);let a=ht(r,"elementType",12,"div"),l=ht(r,"headline",12,"");var u={get elementType(){return a()},set elementType(y){a(y),et()},get headline(){return l()},set headline(y){l(y),et()},...xr()},f=Hs(),h=Jr(f);return zc(a),Hc(a),Jc(h,a,!1,(y,g)=>{eu(y,0,"content-box-headline svelte-1r2dsxy");var k=Ya();jt(()=>rt(k,l())),Be(g,k)},void 0,[6,0]),Be(n,f),qn(u)}Sr(qi,{elementType:{},headline:{}},[],[],!0),Zn[Se]="src/player-national-team-career/components/Header.svelte";var Hf=dt(ft('<div class="int-career-header__column int-career-header__column--left svelte-7q5ml" role="columnheader" aria-label="Coach At Debut"><span class="svelte-7q5ml"> </span></div> <div class="int-career-header__column int-career-header__column--right svelte-7q5ml" role="columnheader" aria-label="Age At Debut"><span class="svelte-7q5ml"> </span></div>',1),Zn[Se],[[40,4,[[44,6]]],[46,4,[[50,6]]]]),Vf=dt(ft('<div class="int-career-header svelte-7q5ml" role="row" aria-label="Player National Team Career Header"><div class="int-career-header__column svelte-7q5ml" role="columnheader" aria-label="Shirt number"><span class="svelte-7q5ml"> </span></div> <div class="int-career-header__column int-career-header__column--left svelte-7q5ml" role="columnheader" aria-label="National team"><span class="svelte-7q5ml"> </span></div> <div class="int-career-header__column svelte-7q5ml" role="columnheader" aria-label="Debut date"><span class="svelte-7q5ml"> </span></div> <div class="int-career-header__column svelte-7q5ml" role="columnheader" aria-label="Matches"><img src="https://tmsi.akamaized.net/icons/pitch.svg" class="int-career-header__icon svelte-7q5ml"/></div> <div class="int-career-header__column svelte-7q5ml" role="columnheader" aria-label="Goals scored"><img src="https://tmsi.akamaized.net/icons/ball.svg" class="int-career-header__icon svelte-7q5ml"/></div> <!></div>'),Zn[Se],[[8,0,[[9,2,[[10,4]]],[13,2,[[17,4]]],[20,2,[[21,4]]],[24,2,[[25,4]]],[32,2,[[33,4]]]]]]);const Yf={hash:"svelte-7q5ml",code:`/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
@container national-team-career (min-width: 500px) {
  .int-career-header.svelte-7q5ml {
    grid-template-columns: 0.5fr 2fr 1fr 0.5fr 0.5fr 2fr 2fr !important;
  }
}
.int-career-header.svelte-7q5ml {
  background-color: #f2f2f2;
  border-bottom: 0.0625rem solid #e4e4e4;
  display: grid;
  font-size: 0.75rem;
  grid-template-columns: 1fr 5fr 3fr 1fr 1fr;
  grid-template-rows: 1.75rem;
}
.int-career-header__column.svelte-7q5ml {
  align-items: center;
  display: flex;
  justify-content: center;
  padding: 0 0.25rem;
}
.int-career-header__column--left.svelte-7q5ml {
  justify-content: flex-start;
}
.int-career-header__column--right.svelte-7q5ml {
  justify-content: flex-end;
}
.int-career-header__icon.svelte-7q5ml {
  width: 1rem;
}
.int-career-header.svelte-7q5ml span:where(.svelte-7q5ml) {
  font-weight: bold;
}`};function Zn(n,r){Er(new.target),Un(r,!1,Zn),Tr(n,Yf);let a=ht(r,"translations",12),l=ht(r,"wideContainer",12);var u={get translations(){return a()},set translations(ee){a(ee),et()},get wideContainer(){return l()},set wideContainer(ee){l(ee),et()},...xr()};Ja();var f=Vf(),h=me(f),y=me(h),g=me(y,!0);ye(y),ye(h);var k=ke(h,2),R=me(k),T=me(R,!0);ye(R),ye(k);var E=ke(k,2),C=me(E),$=me(C,!0);ye(C),ye(E);var K=ke(E,2),F=me(K);ye(K);var L=ke(K,2),ae=me(L);ye(L);var H=ke(L,2);{var Y=ee=>{var de=Hf(),Fe=Jr(de),Me=me(Fe),pe=me(Me,!0);ye(Me),ye(Fe);var we=ke(Fe,2),je=me(we),Re=me(je,!0);ye(je),ye(we),jt(()=>{rt(pe,(le(a()),fe(()=>{var Ge;return(Ge=a())==null?void 0:Ge.coachAtDebut}))),rt(Re,(le(a()),fe(()=>a().ageAtDebut)))}),Be(ee,de)};Ie(()=>ln(H,ee=>{l()&&ee(Y)}),"if",Zn,39,2)}return ye(f),jt(()=>{rt(g,(le(a()),fe(()=>a().shirtNumber))),rt(T,(le(a()),fe(()=>a().nationalteam))),rt($,(le(a()),fe(()=>a().debut))),kt(F,"alt",(le(a()),fe(()=>a().matches))),kt(F,"title",(le(a()),fe(()=>a().matches))),kt(ae,"alt",(le(a()),fe(()=>a().goals))),kt(ae,"title",(le(a()),fe(()=>a().goals)))}),Be(n,f),qn(u)}Sr(Zn,{translations:{},wideContainer:{}},[],[],!0);const Wf={day:"2-digit",month:"2-digit",year:"numeric"},Gf=(n,r,a=void 0)=>new Intl.DateTimeFormat(r,a).format(n),zi=(n,r="en-US")=>{if(!n)return"";const a=new Date(n);return Gf(a,r,Wf)},eo=(n,r,a)=>new Intl.NumberFormat(a,{style:"unit",unit:r,unitDisplay:"long"}).format(n),Qf=1440*60*1e3,Xf=(n,r,a,l)=>[n?eo(n,"year",l):null,r?eo(r,"month",l):null,a?eo(a,"day",l):null].filter(Boolean).join(" "),Jf=(n,r)=>new Date(n,r+1,0).getDate(),to=(n,r)=>{const a=n.getFullYear()*12+n.getMonth()+r,l=Math.floor(a/12),u=a%12,f=Math.min(n.getDate(),Jf(l,u));return new Date(l,u,f)},bu=n=>new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),Zf=(n,r)=>Math.floor((bu(n).getTime()-bu(r).getTime())/Qf),wu=(n,r,a)=>{if(n>r&&([n,r]=[r,n]),n.getTime()===r.getTime())return"";let l=(r.getFullYear()-n.getFullYear())*12+(r.getMonth()-n.getMonth()),u=to(n,l);return u>r&&(l-=1,u=to(n,l)),u.getTime()===r.getTime()&&u.getDate()!==n.getDate()&&(l-=1,u=to(n,l)),Xf(Math.floor(l/12),l%12,Zf(r,u),a)};Xe[Se]="src/player-national-team-career/components/Row.svelte";var ed=dt(ft('<img class="int-career__flag svelte-m7v2ay"/>'),Xe[Se],[[32,6]]),td=dt(ft("<a> </a>"),Xe[Se],[[39,6]]),nd=dt(ft('<img src="https://tmsi.akamaized.net/icons/captain.svg" alt="Captain" title="Captain" class="int-career__captain-icon svelte-m7v2ay"/>'),Xe[Se],[[43,6]]),rd=dt(ft("<a> </a>"),Xe[Se],[[54,8]]),id=dt(ft('<div class="int-career__coach svelte-m7v2ay" role="cell" aria-label="Coach"><a> </a></div> <div class="int-career__age-at-debut svelte-m7v2ay" role="cell" aria-label="terms"> </div>',1),Xe[Se],[[77,4,[[78,6]]],[82,4]]),ad=dt(ft('<div class="int-career__grid svelte-m7v2ay" role="row" aria-label="Player National Team Career Row"><div role="cell" aria-label="Shirt number"> </div> <div class="int-career__team svelte-m7v2ay" role="cell" aria-label="Team information"><!> <!> <!></div> <div class="int-career__debut svelte-m7v2ay" role="cell" aria-label="Debut date"><!></div> <div class="int-career__matches svelte-m7v2ay" role="cell" aria-label="Games played"><a> </a></div> <div class="int-career__goals svelte-m7v2ay" role="cell" aria-label="Goals scored"><a> </a></div> <!></div>'),Xe[Se],[[20,0,[[21,2],[30,2],[51,2],[65,2,[[66,4]]],[71,2,[[72,4]]]]]]);const od={hash:"svelte-m7v2ay",code:`/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
@container national-team-career (min-width: 500px) {
  .int-career__grid.svelte-m7v2ay {
    grid-template-columns: 0.5fr 2fr 1fr 0.5fr 0.5fr 2fr 2fr !important;
  }
}
.int-career__grid.svelte-m7v2ay {
  display: grid;
  gap: 0.0625rem;
  grid-template-columns: 1fr 5fr 3fr 1fr 1fr;
  grid-template-rows: 1.75rem;
  margin-bottom: 0.0625rem;
}
.int-career__grid.svelte-m7v2ay:nth-child(odd) {
  background-color: #f2f2f2;
}
.int-career__grid.svelte-m7v2ay:nth-child(even) {
  background-color: white;
}
.int-career__number.svelte-m7v2ay {
  align-items: center;
  background-color: #f1cdd1;
  display: flex;
  justify-content: center;
  padding: 0 0.25rem;
}
.int-career__number.green.svelte-m7v2ay {
  background-color: #e3ecd1;
}
.int-career__number.yellow.svelte-m7v2ay {
  background-color: #fff6db;
}
.int-career__team.svelte-m7v2ay {
  align-items: center;
  color: #1d75a3;
  display: flex;
  font-weight: bold;
  gap: 0.3125rem;
  padding: 0 0.25rem;
}
.int-career__flag.svelte-m7v2ay {
  border: 0.0625rem solid #585859;
  object-fit: contain;
  width: 15px;
}
.int-career__captain-icon.svelte-m7v2ay {
  width: 14px;
}
.int-career__age-at-debut.svelte-m7v2ay {
  color: #57585a;
  justify-content: right !important;
}
.int-career__coach.svelte-m7v2ay {
  justify-content: left !important;
}
.int-career__debut.svelte-m7v2ay, .int-career__matches.svelte-m7v2ay, .int-career__goals.svelte-m7v2ay, .int-career__coach.svelte-m7v2ay, .int-career__age-at-debut.svelte-m7v2ay {
  align-items: center;
  display: flex;
  justify-content: center;
  padding: 0 0.25rem;
}`};function Xe(n,r){Er(new.target),Un(r,!1,Xe),Tr(n,od);let a=ht(r,"historyItem",12),l=ht(r,"playerSlug",12),u=ht(r,"id",12),f=ht(r,"locale",12,"de-DE"),h=ht(r,"wideContainer",12,!1);const y=G=>{const te=`/${l()}/nationalmannschaft/spieler/${u()}/verein_id/${a().clubId}`;return Pi(G,"goals")?`${te}/nurEinsatz/2`:te},g=G=>G>0?G:"-";var k={get historyItem(){return a()},set historyItem(G){a(G),et()},get playerSlug(){return l()},set playerSlug(G){l(G),et()},get id(){return u()},set id(G){u(G),et()},get locale(){return f()},set locale(G){f(G),et()},get wideContainer(){return h()},set wideContainer(G){h(G),et()},...xr()};Ja();var R=ad(),T=me(R);let E;var C=me(T,!0);ye(T);var $=ke(T,2),K=me($);{var F=G=>{var te=ed();jt(()=>{kt(te,"src",(le(a()),fe(()=>a().club.crestUrl))),kt(te,"alt",(le(a()),fe(()=>a().club.name||"Team logo")))}),Be(G,te)};Ie(()=>ln(K,G=>{le(a()),fe(()=>{var te;return(te=a().club)==null?void 0:te.crestUrl})&&G(F)}),"if",Xe,31,4)}var L=ke(K,2);{var ae=G=>{var te=td(),De=me(te,!0);ye(te),jt(()=>{kt(te,"href",(le(a()),fe(()=>a().club.relativeUrl))),rt(De,(le(a()),fe(()=>a().club.shortName)))}),Be(G,te)};Ie(()=>ln(L,G=>{le(a()),fe(()=>{var te;return(te=a().club)==null?void 0:te.relativeUrl})&&G(ae)}),"if",Xe,38,4)}var H=ke(L,2);{var Y=G=>{var te=nd();Be(G,te)};Ie(()=>ln(H,G=>{le(a()),fe(()=>a().isCaptain&&Pi(a().careerState,"CURRENT_NATIONAL_PLAYER"))&&G(Y)}),"if",Xe,42,4)}ye($);var ee=ke($,2),de=me(ee);{var Fe=G=>{var te=Hs(),De=Jr(te);{var Le=Et=>{var xt=rd(),Dt=me(xt,!0);ye(xt),jt(dn=>{kt(xt,"href",(le(a()),fe(()=>`/spiel/index/spielbericht/${a().debutGameId}`))),rt(Dt,dn)},[()=>(le(zi),le(a()),le(f()),fe(()=>zi(a().debut,f())))]),Be(Et,xt)},ot=Et=>{var xt=Ya();jt(Dt=>rt(xt,Dt),[()=>(le(zi),le(a()),le(f()),fe(()=>zi(a().debut,f())))]),Be(Et,xt)};Ie(()=>ln(De,Et=>{le(a()),fe(()=>a().debutGameId)?Et(Le):Et(ot,!1)}),"if",Xe,53,6)}Be(G,te)},Me=G=>{var te=Ya("-");Be(G,te)};Ie(()=>ln(de,G=>{le(a()),fe(()=>a().debut)?G(Fe):G(Me,!1)}),"if",Xe,52,4)}ye(ee);var pe=ke(ee,2),we=me(pe),je=me(we,!0);ye(we),ye(pe);var Re=ke(pe,2),Ge=me(Re),at=me(Ge,!0);ye(Ge),ye(Re);var Oe=ke(Re,2);{var Sn=G=>{var te=id(),De=Jr(te),Le=me(De),ot=me(Le,!0);ye(Le),ye(De);var Et=ke(De,2),xt=me(Et,!0);ye(Et),jt(Dt=>{kt(Le,"href",(le(a()),fe(()=>{var dn,Zt;return(Zt=(dn=a())==null?void 0:dn.coach)==null?void 0:Zt.relativeUrl}))),rt(ot,(le(a()),fe(()=>a().coach?a().coach.name:"-"))),rt(xt,Dt)},[()=>(le(wu),le(a()),le(f()),fe(()=>{var Dt,dn;return wu(new Date(((dn=(Dt=a().player)==null?void 0:Dt.lifeDates)==null?void 0:dn.dateOfBirth)??""),new Date(a().debut),f())}))]),Be(G,te)};Ie(()=>ln(Oe,G=>{h()&&G(Sn)}),"if",Xe,76,2)}return ye(R),jt((G,te,De,Le,ot,Et)=>{E=eu(T,1,"int-career__number svelte-m7v2ay",null,E,G),rt(C,te),kt(we,"href",De),rt(je,Le),kt(Ge,"href",ot),rt(at,Et)},[()=>({green:Pi(a().careerState,"CURRENT_NATIONAL_PLAYER"),yellow:Pi(a().careerState,"RECENT_NATIONAL_PLAYER")}),()=>(le(a()),fe(()=>a().shirtNumber?g(a().shirtNumber):"-")),()=>fe(()=>y("games")),()=>(le(a()),fe(()=>g(a().gamesPlayed))),()=>fe(()=>y("goals")),()=>(le(a()),fe(()=>g(a().goalsScored)))]),Be(n,R),qn(k)}Sr(Xe,{historyItem:{},playerSlug:{},id:{},locale:{},wideContainer:{}},[],[],!0),Rt[Se]="src/lib/components/skeleton/Square.svelte";var sd=dt(ft('<div class="svelte-py9x6n"></div>'),Rt[Se],[[6,0]]);const ud={hash:"svelte-py9x6n",code:`@keyframes svelte-py9x6n-pulse {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 0.6;
  }
}
div.svelte-py9x6n {
  animation: sk-pulse 1.5s infinite;
  background-color: #e9e9e9;
}`};function Rt(n,r){Er(new.target),Un(r,!1,Rt),Tr(n,ud);let a=ht(r,"height",12,"100%"),l=ht(r,"width",12,"100%");var u={get height(){return a()},set height(h){a(h),et()},get width(){return l()},set width(h){l(h),et()},...xr()},f=sd();return jt(()=>tf(f,`height: ${a()??""}; width: ${l()??""};`)),Be(n,f),qn(u)}Sr(Rt,{height:{},width:{}},[],[],!0),it[Se]="src/player-national-team-career/components/Skeleton.svelte";var ld=dt(ft('<div class="sk-row svelte-1vqaqrb"><!> <div class="sk-team svelte-1vqaqrb"><!> <!></div> <!> <!> <!></div>'),it[Se],[[11,4,[[13,6]]]]),cd=dt(ft('<div><!> <!> <div class="sk-link svelte-1vqaqrb"><!></div></div>'),it[Se],[[7,0,[[24,2]]]]);const fd={hash:"svelte-1vqaqrb",code:`/* stylelint-disable */
/* stylelint-enable */
.sk-row.svelte-1vqaqrb {
  display: grid;
  grid-template-columns: 1fr 5fr 3fr 1fr 1fr;
  grid-template-rows: 1.75rem;
  place-items: center;
}

.sk-team.svelte-1vqaqrb {
  align-items: center;
  display: flex;
  gap: 0.3125rem;
  padding-left: 0.25rem;
  width: 100%;
}

.sk-link.svelte-1vqaqrb {
  align-items: center;
  display: flex;
  height: 38px;
  justify-content: flex-end;
  padding: 0 0.625rem;
}`};function it(n,r){Er(new.target),Un(r,!1,it),Tr(n,fd);let a=3;var l={...xr()},u=cd(),f=me(u);Ie(()=>Rt(f,{height:"26px"}),"component",it,8,2,{componentTag:"Square"});var h=ke(f,2);Ie(()=>Xs(h,1,()=>Array(a),Qs,(k,R)=>{var T=ld(),E=me(T);Ie(()=>Rt(E,{height:"12px",width:"12px"}),"component",it,12,6,{componentTag:"Square"});var C=ke(E,2),$=me(C);Ie(()=>Rt($,{height:"12px",width:"18px"}),"component",it,14,8,{componentTag:"Square"});var K=ke($,2);Ie(()=>Rt(K,{height:"12px",width:"70px"}),"component",it,15,8,{componentTag:"Square"}),ye(C);var F=ke(C,2);Ie(()=>Rt(F,{height:"12px",width:"55px"}),"component",it,18,6,{componentTag:"Square"});var L=ke(F,2);Ie(()=>Rt(L,{height:"12px",width:"12px"}),"component",it,19,6,{componentTag:"Square"});var ae=ke(L,2);Ie(()=>Rt(ae,{height:"12px",width:"12px"}),"component",it,20,6,{componentTag:"Square"}),ye(T),Be(k,T)}),"each",it,10,2);var y=ke(h,2),g=me(y);return Ie(()=>Rt(g,{height:"14px",width:"60%"}),"component",it,25,4,{componentTag:"Square"}),ye(y),ye(u),Be(n,u),qn(l)}Sr(it,{},[],[],!0),vt[Se]="src/player-national-team-career/components/PlayerNationalTeamCareer.svelte";var dd=dt(ft('<a class="content-link"> </a>'),vt[Se],[[78,6]]),hd=dt(ft("<!> <!> <!> <!>",1),vt[Se],[]),vd=dt(ft('<div class="national-team-career svelte-1rhiy4i"><!></div>'),vt[Se],[[61,0]]);const pd={hash:"svelte-1rhiy4i",code:`/* stylelint-disable */
/* stylelint-enable */
/* stylelint-disable */
/* stylelint-enable */
.national-team-career.svelte-1rhiy4i {
  background-color: white;
  border: 0.0625rem solid #dddddd;
  container-name: national-team-career;
  container-type: inline-size;
  margin-top: 0.625rem;
}`};function vt(n,r){var H;Er(new.target),Un(r,!1,vt),Tr(n,pd);let a=ht(r,"id",12),l=ht(r,"pageLink",12,!1),u=ht(r,"translations",12),f=Yn(),h=Yn([]),y=Yn(!0),g=Yn(""),k=Yn(!1);const R=((H=document.body)==null?void 0:H.getAttribute("data-tm-tld"))??"com",T=fu[R]??"en-US",E=async()=>{var ee,de;const Y=window.location.href;ut(g,Y.split("/")[3]||"");try{ut(h,(await dc(Uf(a())))())}catch{(de=(ee=Te(f))==null?void 0:ee.parentElement)==null||de.remove();return}ut(y,!1)},C=new ResizeObserver(Y=>Y.forEach(ee=>ut(k,ee.contentRect.width>=500)));Vc(()=>{qf(Te(f),E),C.observe(Te(f))});var $={get id(){return a()},set id(Y){a(Y),et()},get pageLink(){return l()},set pageLink(Y){l(Y),et()},get translations(){return u()},set translations(Y){u(Y),et()},...xr()};Ja();var K=vd(),F=me(K);{var L=Y=>{Ie(()=>it(Y,{}),"component",vt,63,4,{componentTag:"Skeleton"})},ae=Y=>{var ee=hd(),de=Jr(ee);Ie(()=>qi(de,{elementType:"h2",get headline(){return le(u()),fe(()=>u().widgetTitle)}}),"component",vt,65,4,{componentTag:"ContentBoxHeadline"});var Fe=ke(de,2);Ie(()=>Zn(Fe,{get translations(){return u()},get wideContainer(){return Te(k)}}),"component",vt,67,4,{componentTag:"Header"});var Me=ke(Fe,2);Ie(()=>Xs(Me,1,()=>Te(h),Qs,(je,Re)=>{Ie(()=>Xe(je,{get wideContainer(){return Te(k)},get historyItem(){return Te(Re)},get playerSlug(){return Te(g)},get id(){return a()},get locale(){return T}}),"component",vt,70,6,{componentTag:"Row"})}),"each",vt,69,4);var pe=ke(Me,2);{var we=je=>{var Re=dd(),Ge=me(Re,!0);ye(Re),jt(()=>{kt(Re,"href",`/${Te(g)}/nationalmannschaft/spieler/${a()}`),rt(Ge,(le(u()),fe(()=>u().linkTitle)))}),Be(je,Re)};Ie(()=>ln(pe,je=>{l()&&je(we)}),"if",vt,77,4)}Be(Y,ee)};Ie(()=>ln(F,Y=>{Te(y)?Y(L):Y(ae,!1)}),"if",vt,62,2)}return ye(K),lf(K,Y=>ut(f,Y),()=>Te(f)),Be(n,K),qn($)}return customElements.define("tm-player-national-team-career",Sr(vt,{id:{attribute:"id",type:"String"},translations:{attribute:"translations",type:"Object"},pageLink:{attribute:"page-link",type:"Boolean"}},[],[],!1)),vt}();
