// For license information, see `https://assets.adobedtm.com/7cadca95dd9a/cd4ab884d231/launch-01272b400c65.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-09-18T13:02:05Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"ENe8f4069157794c088f1b081a5b9a494f",stage:"production"},dataElements:{"Core - Custom Code - h1 tags":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){var e=document.querySelectorAll("h1"),t=[];return e.forEach((function(e){t.push(e.textContent.trim())})),t.join(", ")}return e()}}},"Core - Custom Code - LCP rating":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.LCP.rating}catch(e){return null}}}},"Core - Custom Code - INP rating":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.INP.rating}catch(e){return null}}}},"Core - Custom Code - Meta Description":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){const e=document.querySelector('meta[name="description"]');return e?e.getAttribute("content"):""}return e()}}},"Core - Custom Code - LCP count":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{var t=JSON.parse(e),n=t.metrics?.LCP?.value;return"number"==typeof n?1:null}catch(e){return null}}}},"XDM Mapping | tmEvent DataLayer":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{linkClicks:{value:1}}},_experience:{analytics:"%Events (event7) | Data Layer plus evars%"}},sandbox:{name:"prod"}}},"Core - Custom Code - LCP value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.LCP.value}catch(e){return null}}}},"Page - Referrer":{storageDuration:"session",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"referrer"}},"Core - Custom Code - TTFB value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.TTFB.value}catch(e){return null}}}},"Core - Custom Code - WMV Score":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("DataLayer | Analytics tmEvent");if(!e||!e.customDimensions||!e.customDimensions.props)return"";var t=e.customDimensions.props.prop8||"";if(t.startsWith("end_game_")){var n=t.match(/(\d+)$/);return n?n[1]:""}return""}}},"Core - Custom Code - Player-ID and Player name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(){if(window.tmAnalytics&&window.tmAnalytics.properties&&window.tmAnalytics.dimensions){var e=window.tmAnalytics.properties.prop11,t=window.tmAnalytics.dimensions.eVar27;if(e&&t)return e+"_"+t}return""}return e()}}},"PIs (event4) | Data Layer plus props":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){window.tmAnalytics=window.tmAnalytics||{},window.tmAnalytics.properties=window.tmAnalytics.properties||{};var e=window.tmAnalytics.properties,t=_satellite.getVar("Core - Custom Code - Pfad hinter Domain"),n=_satellite.getVar("Core - Custom Code - Player-ID and Player name");return e.prop15=t,e.prop16=n,e}}},"Core - Custom Code - Year of registration":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.tmAnalytics.dimensions.eVar37;return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e.substring(0,4):""}}},"Core - Visitor Behavior - Session Count":{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"sessionCount"}},"Core - Custom Code - dynamic edge domain":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=window.location.hostname.split("transfermarkt.").pop(),t="rechenschieber.transfermarkt."+e;return"training"===e&&(t="rechenschieber.transfermarkt.com"),t}}},"Core - Custom Code - Contentgroup1-3":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.tmAnalytics&&window.tmAnalytics.properties?(window.tmAnalytics.properties.prop2||"")+" # "+(window.tmAnalytics.properties.prop3||"")+" # "+(window.tmAnalytics.properties.prop4||""):""}}},"XDM Mapping | PageImpression":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:"%Global JS Var | TmAnalyticsPageDetails%"},_experience:{analytics:{event1to100:{event4:{value:1},event20:{id:"event20",value:"%Core - Custom Code - CLS value%"},event21:{id:"event21",value:"%Core - Custom Code - CLS Count%"},event22:{id:"event22",value:"%Core - Custom Code - FCP value%"},event23:{id:"event23",value:"%Core - Custom Code - FCP count%"},event24:{id:"event24",value:"%Core - Custom Code - INP value%"},event25:{id:"event25",value:"%Core - Custom Code - INP count%"},event26:{id:"event26",value:"%Core - Custom Code - TTFB value%"},event27:{id:"event27",value:"%Core - Custom Code - TTFB count%"},event28:{id:"event28",value:"%Core - Custom Code - LCP value%"},event29:{id:"event29",value:"%Core - Custom Code - LCP count%"}},customDimensions:{eVars:"%PIs (event4) | Data Layer plus evars%",props:"%PIs (event4) | Data Layer plus props%"}}}},sandbox:{name:"prod"}}},"XDM Mapping | tmTrackingAndAds DataLayer":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:"%Global JS Var | TmAnalyticsPageDetails%"},_experience:{analytics:"%DataLayer | Analytics tmTrackingAndAds%"}},sandbox:{name:"prod"}}},"Core - Session Storage - Web Vitals":{modulePath:"core/src/lib/dataElements/sessionStorage.js",settings:{name:"tm-web-vitals"}},"Core - Custom Code - Pfad hinter Domain":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.pathname+window.location.search}}},"Core - Custom Code - Previous Contentgroup3":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop4}catch(e){return null}}}},"Core - Custom Code - INP value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.INP.value}catch(e){return null}}}},"Core - Custom Code - Previous Contentgroup1-4":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop14}catch(e){return null}}}},"Events (event7) | Data Layer plus evars":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("DataLayer | Analytics tmEvent"),t=_satellite.getVar("Core - Custom Code - Home variables"),n=_satellite.getVar("Core - Custom Code - WMV Score");return e.customDimensions.eVars=e.customDimensions.eVars||{},e.customDimensions.eVars.eVar33=t.setId,e.customDimensions.eVars.eVar59=t.setPos,e.customDimensions.eVars.eVar61=t.contentPos,e.customDimensions.eVars.eVar58=t.widtId,e.customDimensions.eVars.eVar60=t.widPos,e.customDimensions.eVars.eVar36=n,e}}},"Core - Custom Code - Year and month of registration":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.tmAnalytics.dimensions.eVar37;return e&&/^\d{4}-\d{2}-\d{2}$/.test(e)?e.substring(0,7):""}}},"DataLayer | Analytics tmEvent":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"tmEvent"}},"Core - Custom Code - FCP count":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{var t=JSON.parse(e),n=t.metrics?.FCP?.value;return"number"==typeof n?1:null}catch(e){return null}}}},"PIs (event4) | Data Layer plus evars":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){window.tmAnalytics=window.tmAnalytics||{},window.tmAnalytics.dimensions=window.tmAnalytics.dimensions||{};var e=window.tmAnalytics.dimensions,t=_satellite.getVar("Core - Custom Code - Internal Search Term"),n=_satellite.getVar("Core - Page Info - Hostname"),r=_satellite.getVar("Core - Visitor Behavior - Session Page View Count"),o=_satellite.getVar("Core - Visitor Behavior - Session Count"),a=_satellite.getVar("Core - Visitor Behavior - Lifetime Page View Count (event4)"),i=_satellite.getVar("Core - Custom Code - Pfad hinter Domain"),s=_satellite.getVar("Core - Custom Code - Contentgroup1-2"),c=_satellite.getVar("Core - Custom Code - Contentgroup1-3"),l=_satellite.getVar("Core - Custom Code - Pagepath w/o parameter"),d=_satellite.getVar("Core - Custom Code - Meta Description"),u=_satellite.getVar("Core - Custom Code - h1 tags"),p=_satellite.getVar("Core - Custom Code - Quiz name from title"),f=_satellite.getVar("Core - Custom Code - Year of registration"),g=_satellite.getVar("Core - Custom Code - Year and month of registration"),m=_satellite.getVar("Core - Custom Code - Referring domain grouped"),h=_satellite.getVar("Core - Custom Code - User Agent"),y=_satellite.getVar("Core - Custom Code - CLS rating"),v=_satellite.getVar("Core - Custom Code - Previous Contentgroup1"),b=_satellite.getVar("Core - Custom Code - Previous Contentgroup2"),C=_satellite.getVar("Core - Custom Code - Previous Contentgroup3"),w=_satellite.getVar("Core - Custom Code - Previous Contentgroup4"),E=_satellite.getVar("Core - Custom Code - FCP rating"),S=_satellite.getVar("Core - Custom Code - Previous Contentgroup1-4"),I=_satellite.getVar("Core - Custom Code - Previous Domain (TM)"),k=_satellite.getVar("Core - Custom Code - Previous Pagepath"),P=_satellite.getVar("Core - Custom Code - INP rating"),O=_satellite.getVar("Core - Custom Code - TTFB rating"),D=_satellite.getVar("Core - Custom Code - LCP rating"),T=_satellite.getVar("Core - Custom Code - Language short");return e.eVar2=t,e.eVar18=n,e.eVar20=r,e.eVar21=o,e.eVar22=a,e.eVar23=i,e.eVar28=s,e.eVar29=c,e.eVar30=l,e.eVar31=d,e.eVar32=u,e.eVar36=p,e.eVar54=f,e.eVar55=g,e.eVar57=m,e.eVar48=h,e.eVar50=y,e.eVar52=v,e.eVar56=b,e.eVar62=C,e.eVar63=w,e.eVar64=E,e.eVar65=S,e.eVar66=I,e.eVar67=k,e.eVar68=P,e.eVar69=O,e.eVar70=D,e.eVar71=T,e}}},"Core - Custom Code - Previous Contentgroup1":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop2}catch(e){return null}}}},"Global JS Var | TmAnalyticsPageDetails":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"tmAnalytics.pageDetails"}},"Core - Custom Code - Referring domain grouped":{defaultValue:"direct",forceLowerCase:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=sessionStorage.getItem("persistedReferrer");if(!e){var t=document.referrer?new URL(document.referrer).hostname:"";e=t?t.startsWith("www.google.")?"google":t.startsWith("www.bing.")?"bing":t.startsWith("www.yahoo.")?"yahoo":t:"direct",sessionStorage.setItem("persistedReferrer",e)}return e}}},"Core - Custom Code - TTFB rating":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.TTFB.rating}catch(e){return null}}}},"Core - Custom Code - FCP value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.FCP.value}catch(e){return null}}}},"Core - Custom Code - TTFB count":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{var t=JSON.parse(e),n=t.metrics?.TTFB?.value;return"number"==typeof n?1:null}catch(e){return null}}}},"Core - Custom Code - User Agent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return navigator.userAgent}}},"Core - Custom Code - Previous Contentgroup2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop3}catch(e){return null}}}},"Core - Custom Code - Internal Search Term":{forceLowerCase:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return new URLSearchParams(window.location.search).get(e)}return e("query")}}},"Core - Custom Code - Language short":{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=navigator.language||navigator.userLanguage;return e?e.split("-")[0]:""}}},"Core - Visitor Behavior - Session Page View Count":{storageDuration:"session",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"sessionPageViewCount"}},"Core - Custom Code - Previous Pagepath":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop10}catch(e){return null}}}},"Core - Custom Code - CLS value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.CLS.value}catch(e){return null}}}},"Core - Custom Code - Home variables":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){for(var t=0;t<r.length;t++)if(r[t].startsWith(e))return r[t].replace(e,"");return""}function t(e,t){return t[e]||e}var n=_satellite.getVar("DataLayer | Analytics tmEvent");if(!n||!n.customDimensions||!n.customDimensions.props)return{};var r=((n.customDimensions.props.prop7||"")+"_"+(n.customDimensions.props.prop8||"")).split("_"),o={1:"Spotlight",2:"Newsticker",3:"Live",4:"Statistics",5:"Transfermarkt.TV",6:"Competition",7:"Competition",8:"Competition",9:"Competition",10:"Competition",11:"Community",12:"Social Media",14:"Transfers",15:"Shortened news ticker",16:"Confederations",17:"Domains",18:"Level-2-Opener",19:"Gaming",20:"... immer besser!",21:"WM-Live",22:"WM-Teaser",23:"Competition",24:"Competition",25:"Competition",26:"Competition",27:"Competition",29:"Market value countdown",30:"WahreTabelle",31:"More news",32:"Instagram Posts"},a={1:"Current rumours",2:"News-Rotation",3:"Eye-catcher",4:"Most Wanted",5:"Teaserbuttons",6:"News-Ticker",7:"Alternative news view",8:"hottestNews",9:"Latest transfers",10:"Current matchday",11:"Market value discussions",12:"Top market values",13:"Table",14:"Posts worth reading",15:"Threads under heated discussion",16:"Clean Sheets",17:"Top-Video-Teaser",18:"Relevant news",19:"TV-Top-Video",20:"TV advertising placement",21:"TV-Social-Media",22:"TV-Teaeser-Bar",23:"Live",24:"Last market value updates",25:"Live goal scorers / goal scorers",26:"Newslist",27:"Survey",28:"International transfer records",29:"Top international transfers",30:"International transfer balances",31:"Transfer window info",32:"5-year rating",33:"Latest contract extensions",34:"Goal scorer of the month",35:"TM data diversity",36:"Confederations",37:"Domains",38:"Newsticker-Level-2",39:"Popularity ranking",40:"Prediction league",41:"Manager game",42:"Popularity ranking of clubs",43:"Latest transfers",44:"International rumours",45:"Player of the season voting",46:"Transfer expenditure clubs",47:"IB: Teaser",48:"IB: Teaser-Bar",49:"IB: Data diversity",50:"WM-Live",51:"Top summer transfers",52:"Top-Transfers Winter",53:"WahreTabelle Teaser",54:"WahreTabelle Teaser-Bar",55:"National transfer news",56:"International transfer news",57:"Instagram Teaser Bar",58:"Local transfers",59:"Top Transfers",60:"Top Scorer",61:"Assists",62:"Youngest Player",63:"Oldest Player",64:"Current Rumours",65:"Last Transfer Player"};return{setId:t(e("setId"),o)||"Not set",setPos:e("setPos")||"Not set",contentPos:e("contentPos")||"Not set",widtId:t(e("widtId"),a)||"Not set",widPos:e("widPos")||"Not set"}}}},"Global JS Var | TmAnalyticsDimensions":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"tmAnalytics.dimensions"}},"Core - Custom Code - Previous Domain (TM)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop9}catch(e){return null}}}},"Core - Custom Code - FCP rating":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.FCP.rating}catch(e){return null}}}},"Core - Visitor Behavior - Lifetime Page View Count (event4)":{storageDuration:"visitor",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"lifetimePageViewCount"}},"Core - Custom Code - Pagepath w/o parameter":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.pathname}}},"Core - Page Info - Hostname":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"Global JS Var | TmAnalyticsProperties":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"tmAnalytics.properties"}},"Core - Custom Code - CLS Count":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{var t=JSON.parse(e),n=t.metrics?.CLS?.value;return"number"==typeof n?1:null}catch(e){return null}}}},"Core - Custom Code - INP count":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{var t=JSON.parse(e),n=t.metrics?.INP?.value;return"number"==typeof n?1:null}catch(e){return null}}}},"Core - Custom Code - Previous Contentgroup4":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).origin.prop5}catch(e){return null}}}},"DataLayer | Analytics tmTrackingAndAds":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:"tmTrackingAndAds"}},"Core - Custom Code - Contentgroup1-2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.tmAnalytics&&window.tmAnalytics.properties?(window.tmAnalytics.properties.prop2||"")+" # "+(window.tmAnalytics.properties.prop3||""):""}}},"Core - Custom Code - CLS rating":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Core - Session Storage - Web Vitals");try{return JSON.parse(e).metrics.CLS.rating}catch(e){return null}}}}},extensions:{"mapping-table":{displayName:"Mapping Table",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/",modules:{}},"common-web-sdk-plugins":{displayName:"Common Web SDK Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP72fbeb9839644a1daa8eca9f84e02dcf/",modules:{}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6a6d85ccbeaa4750848f31959dd9eec5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return r.location.href;case"hostname":return r.location.hostname;case"pathname":return r.location.pathname;case"protocol":return r.location.protocol;case"referrer":return r.referrer;case"title":return r.title}}}},"core/src/lib/dataElements/visitorBehavior.js":{name:"visitor-behavior",displayName:"Visitor Behavior",script:function(e,t,n){"use strict";var r=n("../helpers/visitorTracking");e.exports=function(e){switch(e.attribute){case"landingPage":return r.getLandingPage();case"trafficSource":return r.getTrafficSource();case"minutesOnSite":return r.getMinutesOnSite();case"sessionCount":return r.getSessionCount();case"sessionPageViewCount":return r.getSessionPageViewCount();case"lifetimePageViewCount":return r.getLifetimePageViewCount();case"isNewVisitor":return r.getIsNewVisitor()}}}},"core/src/lib/dataElements/sessionStorage.js":{name:"session-storage",displayName:"Session Storage",script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window");e.exports=function(e){try{return r.sessionStorage.getItem(e.name)}catch(e){return null}}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var r=n("../helpers/getObjectProperty.js");e.exports=function(e){return r(window,e.path)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var r=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){r.registerLibraryLoadedTrigger(t)}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,n){"use strict";var r,o=n("@adobe/reactor-document"),a=n("@adobe/reactor-window"),i=n("./getNamespacedStorage"),s="visitorTracking",c=i("localStorage",s),l=i("sessionStorage",s),d=function(){var e=l.getItem("landingPage");return e||(l.setItem("landingPage",a.location.href),l.setItem("landingTime",(new Date).getTime())),!e},u=function(){return l.getItem("landingPage")},p=function(){return Number(l.getItem("landingTime"))},f=function(){return Number(c.getItem("sessionCount"))},g=function(){return Number(c.getItem("pagesViewed"))},m=function(){var e=(new Date).getTime();return Math.floor((e-p())/1e3/60)},h=function(){return l.getItem("trafficSource")},y=function(){return Number(l.getItem("pagesViewed"))},v=function(){return 1===f()},b=function(e){e&&c.setItem("sessionCount",f()+1)},C=function(){l.setItem("pagesViewed",y()+1)},w=function(){c.setItem("pagesViewed",g()+1)},E=function(){l.getItem("trafficSource")||l.setItem("trafficSource",o.referrer)};r=d(),b(r),w(),C(),E(),e.exports={getLandingPage:u,getLandingTime:p,getMinutesOnSite:m,getSessionCount:f,getLifetimePageViewCount:g,getSessionPageViewCount:y,getTrafficSource:h,getIsNewVisitor:v}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,n,r){"use strict";var o=n("@adobe/reactor-window"),a="com.adobe.reactor.core";e.exports=function(e,t){var n='"'+e+'" is not available on the window object.',i=a+"."+t;return{getItem:function(t){try{return o[e].getItem(i+"."+t)}catch(e){return r.logger.warn(n),null}},setItem:function(t,a){try{return o[e].setItem(i+"."+t,a),!0}catch(e){return r.logger.warn(n),!1}}}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),r=e,o=0,a=n.length;o<a;o++){if(null==r)return;r=r[n[o]]}return r}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window"),o=n("@adobe/reactor-document"),a=-1!==r.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,i],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var p=function(e,t){l.slice(0,g(e)+1).forEach((function(e){m(t,e)}))},f=function(){return"complete"===o.readyState?i:"interactive"===o.readyState?a?null:s:void 0},g=function(e){return l.indexOf(e)},m=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var n=t.trigger,r=t.syntheticEventFn;n(r?r(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=p.bind(null,c),o.addEventListener("DOMContentLoaded",p.bind(null,s),!0),r.addEventListener("load",p.bind(null,i),!0),r.setTimeout((function(){var e=f();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,o)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:d.bind(null,r)})}}}}}},"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"tmAnalyticsDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:function(e,t,n){"use strict";e.exports=function(e){if(null!=e){var t=r();if(void 0!==t)return""!==e.path?t.getState(e.path):t.getState()}};var r=n("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,n){"use strict";e.exports=function(e,t){if(null!=e){var n=e.method,o=e.eventKey,a=e.scope,i=r(),s=function(e){var n={message:e,beforeState:{},afterState:{},fullState:i.getState()};t(n)},c={};void 0!==a&&(c.scope=a),"allData"===n?i.push((function(e){e.addEventListener("adobeDataLayer:change",s,c)})):"allEvents"===n?i.push((function(e){e.addEventListener("adobeDataLayer:event",s,c)})):"specificEvent"===n&&""!==o&&i.push((function(e){e.addEventListener(o,s,c)}))}};var r=n("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,n,r){var o=r.getExtensionSettings(),a=o.dataLayerName,i=o.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(r.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==a&&("object"==typeof window[a]?(r.logger.log('Using "'+a+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[a].length;t++)e.push(window[a][t]);window[a]=e}))):r.logger.warn('Could not use "'+a+'" instead of "adobeDataLayer", because the object does not exist!')),i&&void 0===window.adobeDataLayer.getState){function s(e,t){return d(e)||l(e,t)||p(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}function d(e){if(Array.isArray(e))return e}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,r,o){function a(s,c){if(!r[s]){if(!t[s]){var l="function"==typeof n&&n;if(!c&&l)return l(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=r[s]={exports:{}};t[s][0].call(u.exports,(function(e){return a(t[s][1][e]||e)}),u,u.exports,e,t,r,o)}return r[s].exports}for(var i="function"==typeof n&&n,s=0;s<o.length;s++)a(o[s]);return a}({1:[function(e,t,n){(function(e){(function(){function r(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}function o(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function a(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function i(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function s(e,t,n){var r=e.length;for(n+=-1;++n<r;)if(t(e[n],n,e))return n;return-1}function c(e){return e!=e}function l(e){return function(t){return e(t)}}function d(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function u(e){var t=Object;return function(n){return e(t(n))}}function p(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function f(){}function m(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function v(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new y;++t<n;)this.add(e[t])}function b(e){this.size=(this.__data__=new h(e)).size}function C(e,t){var n,r=bn(e),o=!r&&vn(e),a=!r&&!o&&Cn(e),i=!r&&!o&&!a&&Sn(e);if(r=r||o||a||i){o=e.length;for(var s=String,c=-1,l=Array(o);++c<o;)l[c]=s(c);o=l}else o=[];for(n in s=o.length,e)!t&&!bt.call(e,n)||r&&("length"==n||a&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||te(n,s))||o.push(n);return o}function w(e,t,n){(n===Ue||fe(e[t],n))&&(n!==Ue||t in e)||I(e,t,n)}function E(e,t,n){var r=e[t];bt.call(e,t)&&fe(r,n)&&(n!==Ue||t in e)||I(e,t,n)}function S(e,t){for(var n=e.length;n--;)if(fe(e[n][0],t))return n;return-1}function I(e,t,n){"__proto__"==t&&xt?xt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function k(e,t,n,r,o,a){var i,s=1&t,c=2&t,l=4&t;if(n&&(i=o?n(e,r,o,a):n(e)),i!==Ue)return i;if(!ve(e))return e;if(r=bn(e)){if(i=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&bt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return B(e,i)}else{var d=sn(e),u="[object Function]"==d||"[object GeneratorFunction]"==d;if(Cn(e))return $(e,s);if("[object Object]"==d||"[object Arguments]"==d||u&&!o){if(i=c||u?{}:Z(e),!s)return c?function(e,t){return F(e,an(e),t)}(e,function(e,t){return e&&F(t,je(t),e)}(i,e)):function(e,t){return F(e,on(e),t)}(e,function(e,t){return e&&F(t,Ae(t),e)}(i,e))}else{if(!tt[d])return o?e:{};i=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return U(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?U(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return q(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,Ge.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Kt?Object(Kt.call(e)):{}}}(e,d,s)}}if(o=(a=a||new b).get(e))return o;if(a.set(e,i),En(e))return e.forEach((function(r){i.add(k(r,t,n,r,e,a))})),i;if(wn(e))return e.forEach((function(r,o){i.set(o,k(r,t,n,o,e,a))})),i;c=l?c?G:W:c?je:Ae;var p=r?Ue:c(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(p||e,(function(r,o){p&&(r=e[o=r]),E(i,o,k(r,t,n,o,e,a))})),i}function P(e,t){for(var n=0,r=(t=V(t,e)).length;null!=e&&n<r;)e=e[ie(t[n++])]
;return n&&n==r?e:Ue}function O(e,t,n){return t=t(e),bn(e)?t:a(t,n(e))}function D(e){if(null==e)e=e===Ue?"[object Undefined]":"[object Null]";else if(Rt&&Rt in Object(e)){var t=bt.call(e,Rt),n=e[Rt];try{e[Rt]=Ue;var r=!0}catch(e){}var o=wt.call(e);r&&(t?e[Rt]=n:delete e[Rt]),e=o}else e=wt.call(e);return e}function T(e,t){return null!=e&&bt.call(e,t)}function A(e,t){return null!=e&&t in Object(e)}function j(e){return be(e)&&"[object Arguments]"==D(e)}function N(e,t,n,r,o){if(e===t)t=!0;else if(null==e||null==t||!be(e)&&!be(t))t=e!=e&&t!=t;else e:{var a,i,s=bn(e),c=bn(t),l="[object Object]"==(a="[object Arguments]"==(a=s?"[object Array]":sn(e))?"[object Object]":a);if(c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":sn(t))?"[object Object]":i),(i=a==i)&&Cn(e)){if(!Cn(t)){t=!1;break e}l=!(s=!0)}if(i&&!l)o=o||new b,t=s||Sn(e)?J(e,t,n,r,N,o):function(e,t,n,r,o,a,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new Pt(e),new Pt(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return fe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=d;case"[object Set]":if(s=s||p,e.size!=t.size&&!(1&r))break;return(n=i.get(e))?n==t:(r|=2,i.set(e,t),t=J(s(e),s(t),r,o,a,i),i.delete(e),t);case"[object Symbol]":if(Kt)return Kt.call(e)==Kt.call(t)}return!1}(e,t,a,n,r,N,o);else{if(!(1&n)&&(s=l&&bt.call(e,"__wrapped__"),a=c&&bt.call(t,"__wrapped__"),s||a)){t=N(e=s?e.value():e,t=a?t.value():t,n,r,o=o||new b);break e}if(i)t:if(o=o||new b,s=1&n,a=W(e),c=a.length,i=W(t).length,c==i||s){for(l=c;l--;){var u=a[l];if(!(s?u in t:bt.call(t,u))){t=!1;break t}}if((i=o.get(e))&&o.get(t))t=i==t;else{i=!0,o.set(e,t),o.set(t,e);for(var f=s;++l<c;){var g=e[u=a[l]],m=t[u];if(r)var h=s?r(m,g,u,t,e,o):r(g,m,u,e,t,o);if(h===Ue?g!==m&&!N(g,m,n,r,o):!h){i=!1;break}f=f||"constructor"==u}i&&!f&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(i=!1),o.delete(e),o.delete(t),t=i}}else t=!1;else t=!1}}return t}function R(e){return"function"==typeof e?e:null==e?xe:"object"==g(e)?bn(e)?function(e,t){return ne(e)&&t==t&&!ve(t)?oe(ie(e),t):function(n){var r=De(n,e);return r===Ue&&r===t?Te(n,e):N(t,r,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ae(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o==o&&!ve(o)]}return t}(e);return 1==t.length&&t[0][2]?oe(t[0][0],t[0][1]):function(n){return n===e||function(e,t){var n=t.length,r=n;if(null==e)return!r;for(e=Object(e);n--;)if((o=t[n])[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++n<r;){var o,a=(o=t[n])[0],i=e[a],s=o[1];if(o[2]){if(i===Ue&&!(a in e))return!1}else if(o=new b,void 0!==Ue||!N(s,i,3,void 0,o))return!1}return!0}(n,t)}}(e):Me(e)}function x(e){if(!re(e))return Lt(e);var t,n=[];for(t in Object(e))bt.call(e,t)&&"constructor"!=t&&n.push(t);return n}function _(e,t,n,r,o){e!==t&&nn(t,(function(a,i){if(ve(a)){var s=o=o||new b,c="__proto__"==i?Ue:e[i],l="__proto__"==i?Ue:t[i];if(g=s.get(l))w(e,i,g);else{var d=(g=r?r(c,l,i+"",e,t,s):Ue)===Ue;if(d){var u=bn(l),p=!u&&Cn(l),f=!u&&!p&&Sn(l),g=l;u||p||f?g=bn(c)?c:me(c)?B(c):p?$(l,!(d=!1)):f?q(l,!(d=!1)):[]:Ce(l)||vn(l)?vn(g=c)?g=Pe(c):(!ve(c)||n&&he(c))&&(g=Z(l)):d=!1}d&&(s.set(l,g),_(g,l,n,r,s),s.delete(l)),w(e,i,g)}}else(s=r?r("__proto__"==i?Ue:e[i],a,i+"",e,t,o):Ue)===Ue&&(s=a),w(e,i,s)}),je)}function M(e){if("string"==typeof e)return e;if(bn(e))return o(e,M)+"";if(Ee(e))return Zt?Zt.call(e):"";var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function L(e,t){var n;if((t=V(t,e)).length<2)n=e;else{var r=0,o=-1,a=-1,i=(n=t).length;for(r<0&&(r=i<-r?0:i+r),(o=i<o?i:o)<0&&(o+=i),i=o<r?0:o-r>>>0,r>>>=0,o=Array(i);++a<i;)o[a]=n[a+r];n=P(e,o)}null==(e=n)||delete e[ie(de(t))]}function V(e,t){return bn(e)?e:ne(e,t)?[e]:mn(Oe(e))}function $(e,t){if(t)return e.slice();var n=e.length;return n=Ot?Ot(n):new e.constructor(n),e.copy(n),n}function U(e){var t=new e.constructor(e.byteLength);return new Pt(t).set(new Pt(e)),t}function q(e,t){return new e.constructor(t?U(e.buffer):e.buffer,e.byteOffset,e.length)}function B(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}function F(e,t,n){var r=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var i=t[o],s=Ue;s===Ue&&(s=e[i]),r?I(n,i,s):E(n,i,s)}return n}function H(e){return function(e){return gn(ae(e,void 0,xe),e+"")}((function(t,n){var r,o=-1,a=n.length,i=1<a?n[a-1]:Ue,s=2<a?n[2]:Ue;if(i=3<e.length&&"function"==typeof i?(a--,i):Ue,r=s){r=n[0];var c=n[1];if(ve(s)){var l=g(c);r=!!("number"==l?ge(s)&&te(c,s.length):"string"==l&&c in s)&&fe(s[c],r)}else r=!1}for(r&&(i=a<3?Ue:i,a=1),t=Object(t);++o<a;)(s=n[o])&&e(t,s,o,i);return t}))}function z(e){return Ce(e)?Ue:e}function J(e,t,n,r,o,a){var s=1&n,c=e.length;if(c!=(l=t.length)&&!(s&&c<l))return!1;if((l=a.get(e))&&a.get(t))return l==t;var l=-1,d=!0,u=2&n?new v:Ue;for(a.set(e,t),a.set(t,e);++l<c;){var p=e[l],f=t[l];if(r)var g=s?r(f,p,l,t,e,a):r(p,f,l,e,t,a);if(g!==Ue){if(g)continue;d=!1;break}if(u){if(!i(t,(function(e,t){if(!u.has(t)&&(p===e||o(p,e,n,r,a)))return u.push(t)}))){d=!1;break}}else if(p!==f&&!o(p,f,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function W(e){return O(e,Ae,on)}function G(e){return O(e,je,an)}function Q(e,t){var n=(n=f.iteratee||_e)===_e?R:n;return arguments.length?n(e,t):n}function X(e,t){var n=e.__data__,r=g(t);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function Y(e,t){var n=null==e?Ue:e[t];return!ve(n)||Ct&&Ct in n||!(he(n)?St:Ye).test(se(n))?Ue:n}function K(e,t,n){for(var r=-1,o=(t=V(t,e)).length,a=!1;++r<o;){var i=ie(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&ye(o)&&te(i,o)&&(bn(e)||vn(e))}function Z(e){return"function"!=typeof e.constructor||re(e)?{}:en(Dt(e))}function ee(e){return bn(e)||vn(e)||!!(Nt&&e&&e[Nt])}function te(e,t){var n=g(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&-1<e&&0==e%1&&e<t}function ne(e,t){if(bn(e))return!1;var n=g(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||He.test(e)||!Fe.test(e)||null!=t&&e in Object(t)}function re(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ht)}function oe(e,t){return function(n){return null!=n&&n[e]===t&&(t!==Ue||e in Object(n))}}function ae(e,t,n){return t=Vt(t===Ue?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=Vt(r.length-t,0),i=Array(a);++o<a;)i[o]=r[t+o];for(o=-1,a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(i),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}function ie(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-qe?"-0":t}function se(e){if(null==e)return"";try{return vt.call(e)}catch(e){}return e+""}function ce(e,t,n){var r=null==e?0:e.length;return r?((n=null==n?0:Ie(n))<0&&(n=Vt(r+n,0)),s(e,Q(t,3),n)):-1}function le(e){return null!=e&&e.length?function e(t,n,r,o,i){var s=-1,c=t.length;for(r=r||ee,i=i||[];++s<c;){var l=t[s];0<n&&r(l)?1<n?e(l,n-1,r,o,i):a(i,l):o||(i[i.length]=l)}return i}(e,1):[]}function de(e){var t=null==e?0:e.length;return t?e[t-1]:Ue}function ue(e,t){function n(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;return a.has(o)?a.get(o):(r=e.apply(this,r),n.cache=a.set(o,r)||a,r)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return n.cache=new(ue.Cache||y),n}function pe(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function fe(e,t){return e===t||e!=e&&t!=t}function ge(e){return null!=e&&ye(e.length)&&!he(e)}function me(e){return be(e)&&ge(e)}function he(e){return!!ve(e)&&("[object Function]"==(e=D(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ye(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function ve(e){var t=g(e);return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==g(e)}function Ce(e){return!(!be(e)||"[object Object]"!=D(e))&&(null===(e=Dt(e))||"function"==typeof(e=bt.call(e,"constructor")&&e.constructor)&&e instanceof e&&vt.call(e)==Et)}function we(e){return"string"==typeof e||!bn(e)&&be(e)&&"[object String]"==D(e)}function Ee(e){return"symbol"==g(e)||be(e)&&"[object Symbol]"==D(e)}function Se(e){return e?(e=ke(e))===qe||e===-qe?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Ie(e){var t=(e=Se(e))%1;return e==e?t?e-t:e:0}function ke(e){if("number"==typeof e)return e;if(Ee(e))return Be;if(ve(e)&&(e=ve(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(Je,"");var t=Xe.test(e);return t||Ke.test(e)?rt(e.slice(2),t?2:8):Qe.test(e)?Be:+e}function Pe(e){return F(e,je(e))}function Oe(e){return null==e?"":M(e)}function De(e,t,n){return(e=null==e?Ue:P(e,t))===Ue?n:e}function Te(e,t){return null!=e&&K(e,t,A)}function Ae(e){return ge(e)?C(e):x(e)}function je(e){if(ge(e))e=C(e,!0);else if(ve(e)){var t,n=re(e),r=[];for(t in e)("constructor"!=t||!n&&bt.call(e,t))&&r.push(t);e=r}else{if(t=[],null!=e)for(n in Object(e))t.push(n);e=t}return e}function Ne(e){return null==e?[]:function(e,t){return o(t,(function(t){return e[t]}))}(e,Ae(e))}function Re(e){return function(){return e}}function xe(e){return e}function _e(e){return R("function"==typeof e?e:k(e,1))}function Me(e){return ne(e)?function(e){return function(t){return null==t?Ue:t[e]}}(ie(e)):function(e){return function(t){return P(t,e)}}(e)}function Le(){return[]}function Ve(){return!1}function $e(){}var Ue,qe=1/0,Be=NaN,Fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Je=/^\s+|\s+$/g,We=/\\(\\)?/g,Ge=/\w*$/,Qe=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var nt,rt=parseInt,ot="object"==g(e)&&e&&e.Object===Object&&e,at="object"==("undefined"==typeof self?"undefined":g(self))&&self&&self.Object===Object&&self,it=ot||at||Function("return this")(),st="object"==g(n)&&n&&!n.nodeType&&n,ct=st&&"object"==g(t)&&t&&!t.nodeType&&t,lt=ct&&ct.exports===st,dt=lt&&ot.process;e:{try{nt=dt&&dt.binding&&dt.binding("util");break e}catch(l){}nt=void 0}var ut,pt=nt&&nt.isMap,ft=nt&&nt.isSet,gt=nt&&nt.isTypedArray,mt=Array.prototype,ht=Object.prototype,yt=it["__core-js_shared__"],vt=Function.prototype.toString,bt=ht.hasOwnProperty,Ct=(ut=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",wt=ht.toString,Et=vt.call(Object),St=RegExp("^"+vt.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=lt?it.Buffer:Ue,kt=it.Symbol,Pt=it.Uint8Array,Ot=It?It.a:Ue,Dt=u(Object.getPrototypeOf),Tt=Object.create,At=ht.propertyIsEnumerable,jt=mt.splice,Nt=kt?kt.isConcatSpreadable:Ue,Rt=kt?kt.toStringTag:Ue,xt=function(){try{var e=Y(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_t=Object.getOwnPropertySymbols,Mt=It?It.isBuffer:Ue,Lt=u(Object.keys),Vt=Math.max,$t=Date.now,Ut=Y(it,"DataView"),qt=Y(it,"Map"),Bt=Y(it,"Promise"),Ft=Y(it,"Set"),Ht=Y(it,"WeakMap"),zt=Y(Object,"create"),Jt=se(Ut),Wt=se(qt),Gt=se(Bt),Qt=se(Ft),Xt=se(Ht),Yt=kt?kt.prototype:Ue,Kt=Yt?Yt.valueOf:Ue,Zt=Yt?Yt.toString:Ue,en=function(e){return ve(e)?Tt?Tt(e):($e.prototype=e,e=new $e,$e.prototype=Ue,e):{}};m.prototype.clear=function(){this.__data__=zt?zt(null):{},this.size=0},m.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},m.prototype.get=function(e){var t=this.__data__;return zt?"__lodash_hash_undefined__"===(e=t[e])?Ue:e:bt.call(t,e)?t[e]:Ue},m.prototype.has=function(e){var t=this.__data__;return zt?t[e]!==Ue:bt.call(t,e)},m.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zt&&t===Ue?"__lodash_hash_undefined__":t,this},h.prototype.clear=function(){this.__data__=[],this.size=0},h.prototype.delete=function(e){var t=this.__data__;return!((e=S(t,e))<0||(e==t.length-1?t.pop():jt.call(t,e,1),--this.size,0))},h.prototype.get=function(e){var t=this.__data__;return(e=S(t,e))<0?Ue:t[e][1]},h.prototype.has=function(e){return-1<S(this.__data__,e)},h.prototype.set=function(e,t){var n=this.__data__,r=S(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},y.prototype.clear=function(){this.size=0,this.__data__={hash:new m,map:new(qt||h),string:new m}},y.prototype.delete=function(e){return e=X(this,e).delete(e),this.size-=e?1:0,e},y.prototype.get=function(e){return X(this,e).get(e)},y.prototype.has=function(e){return X(this,e).has(e)},y.prototype.set=function(e,t){var n=X(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},v.prototype.add=v.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},v.prototype.has=function(e){return this.__data__.has(e)},b.prototype.clear=function(){this.__data__=new h,this.size=0},b.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},b.prototype.get=function(e){return this.__data__.get(e)},b.prototype.has=function(e){return this.__data__.has(e)},b.prototype.set=function(e,t){var n=this.__data__;if(n instanceof h){var r=n.__data__;if(!qt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new y(r)}return n.set(e,t),this.size=n.size,this};var tn=function(e,t){if(null==e)return e;if(!ge(e))return function(e,t){return e&&nn(e,t,Ae)}(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e},nn=function(e,t,n){for(var r=-1,o=Object(e),a=(n=n(e)).length;a--;){var i=n[++r];if(!1===t(o[i],i,o))break}return e},rn=xt?function(e,t){return xt(e,"toString",{configurable:!0,enumerable:!1,value:Re(t),writable:!0})}:xe,on=_t?function(e){return null==e?[]:(e=Object(e),r(_t(e),(function(t){return At.call(e,t)})))}:Le,an=_t?function(e){for(var t=[];e;)a(t,on(e)),e=Dt(e);return t}:Le,sn=D;(Ut&&"[object DataView]"!=sn(new Ut(new ArrayBuffer(1)))||qt&&"[object Map]"!=sn(new qt)||Bt&&"[object Promise]"!=sn(Bt.resolve())||Ft&&"[object Set]"!=sn(new Ft)||Ht&&"[object WeakMap]"!=sn(new Ht))&&(sn=function(e){var t=D(e);if(e=(e="[object Object]"==t?e.constructor:Ue)?se(e):"")switch(e){case Jt:return"[object DataView]";case Wt:return"[object Map]";case Gt:return"[object Promise]";case Qt:return"[object Set]";case Xt:return"[object WeakMap]"}return t});var cn,ln,dn,un,pn,fn,gn=(un=rn,fn=pn=0,function(){var e=$t(),t=16-(e-fn);if(fn=e,0<t){if(800<=++pn)return arguments[0]}else pn=0;return un.apply(Ue,arguments)}),mn=(dn=(ln=ue(ln=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ze,(function(e,n,r,o){t.push(r?o.replace(We,"$1"):n||e)})),t},(function(e){return 500===dn.size&&dn.clear(),e}))).cache,ln),hn=(cn=ce,function(e,t,n){var r=Object(e);if(!ge(e)){var o=Q(t,3);e=Ae(e),t=function(e){return o(r[e],e,r)}}return-1<(t=cn(e,t,n))?r[o?e[t]:t]:Ue});ue.Cache=y;var yn,vn=j(function(){return arguments}())?j:function(e){return be(e)&&bt.call(e,"callee")&&!At.call(e,"callee")},bn=Array.isArray,Cn=Mt||Ve,wn=pt?l(pt):function(e){return be(e)&&"[object Map]"==sn(e)},En=ft?l(ft):function(e){return be(e)&&"[object Set]"==sn(e)},Sn=gt?l(gt):function(e){return be(e)&&ye(e.length)&&!!et[D(e)]},In=H((function(e,t,n){_(e,t,n)})),kn=H((function(e,t,n,r){_(e,t,n,r)})),Pn=gn(ae(yn=function(e,t){var n={};if(null==e)return n;var r=!1;t=o(t,(function(t){return t=V(t,e),r=r||1<t.length,t})),F(e,G(e),n),r&&(n=k(n,7,z));for(var a=t.length;a--;)L(n,t[a]);return n},Ue,le),yn+"");f.constant=Re,f.flatten=le,f.iteratee=_e,f.keys=Ae,f.keysIn=je,f.memoize=ue,f.merge=In,f.mergeWith=kn,f.negate=pe,f.omit=Pn,f.property=Me,f.reject=function(e,t){return(bn(e)?r:function(e,t){var n=[];return tn(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n})(e,pe(Q(t,3)))},f.toPlainObject=Pe,f.values=Ne,f.cloneDeep=function(e){return k(e,5)},f.cloneDeepWith=function(e,t){return k(e,5,t="function"==typeof t?t:Ue)},f.eq=fe,f.find=hn,f.findIndex=ce,f.get=De,f.has=function(e,t){return null!=e&&K(e,t,T)},f.hasIn=Te,f.identity=xe,f.includes=function(e,t,n,r){if(e=ge(e)?e:Ne(e),n=n&&!r?Ie(n):0,r=e.length,n<0&&(n=Vt(r+n,0)),we(e))e=n<=r&&-1<e.indexOf(t,n);else{if(r=!!r){if(t==t)e:{for(n-=1,r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=s(e,c,n);r=-1<e}e=r}return e},f.isArguments=vn,f.isArray=bn,f.isArrayLike=ge,f.isArrayLikeObject=me,f.isBuffer=Cn,f.isEmpty=function(e){if(null==e)return!0;if(ge(e)&&(bn(e)||"string"==typeof e||"function"==typeof e.splice||Cn(e)||Sn(e)||vn(e)))return!e.length;var t=sn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(re(e))return!x(e).length;for(var n in e)if(bt.call(e,n))return!1;return!0},f.isEqual=function(e,t){return N(e,t)},f.isFunction=he,f.isLength=ye,f.isMap=wn,f.isNull=function(e){return null===e},f.isObject=ve,f.isObjectLike=be,f.isPlainObject=Ce,f.isSet=En,f.isString=we,f.isSymbol=Ee,f.isTypedArray=Sn,f.last=de,f.stubArray=Le,f.stubFalse=Ve,f.toFinite=Se,f.toInteger=Ie,f.toNumber=ke,f.toString=Oe,f.VERSION="4.17.5",ct&&((ct.exports=f)._=f,st._=f)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var n=e("../custom-lodash"),r=e("../version.json").version,o=n.cloneDeep,a=n.get,i=e("./item"),s=e("./listener"),c=e("./listenerManager"),l=e("./constants"),d=e("./utils/customMerge");t.exports=function(e){function t(e){y=d(y,e.data)}function n(e){function n(e){return 0===m.length||e.index>m.length-1?[]:m.slice(0,e.index).map((function(e){return i(e)}))}e.valid?{data:function(e){t(e),f.triggerListeners(e)},fctn:function(e){e.config.call(m,m)},event:function(e){e.data&&t(e),f.triggerListeners(e)},listenerOn:function(e){var t=s(e);switch(t.scope){case l.listenerScope.PAST:var r,o=u(n(e));try{for(o.s();!(r=o.n()).done;){var a=r.value;f.triggerListener(t,a)}}catch(e){o.e(e)}finally{o.f()}break;case l.listenerScope.FUTURE:f.register(t);break;case l.listenerScope.ALL:if(f.register(t)){var i,c=u(n(e));try{for(c.s();!(i=c.n()).done;){var d=i.value;f.triggerListener(t,d)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){f.unregister(s(e))}}[e.type](e):p(e)}function p(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var f,g=e||{},m=[],h=[],y={},v={getState:function(){return y},getDataLayer:function(){return m}};return Array.isArray(g.dataLayer)||(g.dataLayer=[]),h=g.dataLayer.splice(0,g.dataLayer.length),(m=g.dataLayer).version=r,y={},f=c(v),m.push=function(e){var t=arguments,r=arguments;if(Object.keys(t).forEach((function(e){var o=i(t[e]);switch(o.valid||(p(o),delete r[e]),o.type){case l.itemType.DATA:case l.itemType.EVENT:n(o);break;case l.itemType.FCTN:delete r[e],n(o);break;case l.itemType.LISTENER_ON:case l.itemType.LISTENER_OFF:delete r[e]}})),r[0])return Array.prototype.push.apply(this,r)},m.getState=function(e){return e?a(o(y),e):o(y)},m.addEventListener=function(e,t,r){n(i({on:e,handler:t,scope:r&&r.scope,path:r&&r.path}))},m.removeEventListener=function(e,t){n(i({off:e,handler:t}))},function(){for(var e=0;e<h.length;e++)m.push(h[e])}(),v}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var n={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):n.Manager({dataLayer:window.adobeDataLayer}),t.exports=n},{"./dataLayerManager":3}],5:[function(e,t){var n=e("../custom-lodash"),r=n.isPlainObject,o=n.isEmpty,a=n.omit,i=n.find,s=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),l=e("./constants");t.exports=function(e,t){var n=e,d=t,u=i(Object.keys(c),(function(e){return s(n,c[e])}))||"function"==typeof n&&l.itemType.FCTN||r(n)&&l.itemType.DATA,p=function(){var e=a(n,Object.keys(c.event));if(!o(e))return e}();return{config:n,type:u,data:p,valid:!!u,index:d}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var n=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&n.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var n=e("../custom-lodash").cloneDeep,r=e("./constants"),o=e("./utils/listenerMatch"),a=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(o(e,t)){var r=[n(t.config)];e.handler.apply(s.getDataLayer(),r)}}var i={},s=e,c=a.bind(null,i);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(i,t)?-1===c(e)&&(i[e.event].push(e),!0):(i[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(i,t))if(e.handler||e.scope||e.path){var n=c(e);-1<n&&i[t].splice(n,1)}else i[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case r.itemType.DATA:t.push(r.dataLayerEvent.CHANGE);break;case r.itemType.EVENT:t.push(r.dataLayerEvent.EVENT),e.data&&t.push(r.dataLayerEvent.CHANGE),e.config.event!==r.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(n){if(Object.prototype.hasOwnProperty.call(i,n)){var r,o=u(i[n]);try{for(o.s();!(r=o.n()).done;)t(r.value,e)}catch(n){o.e(n)}finally{o.f()}}}))},triggerListener:function(e,n){t(e,n)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var n=e("../../custom-lodash"),r=n.has,o=n.get;t.exports=function(e,t){for(var n=t.substring(0,t.lastIndexOf("."));n;){if(r(e,n)&&null==o(e,n))return!0;n=n.substring(0,n.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var n=e("../../custom-lodash"),r=n.cloneDeepWith,o=n.isObject,a=n.isArray,i=n.reject,s=n.mergeWith,c=n.isNull;t.exports=function(e,t){return s(e,t,(function(e,t){if(null==t)return null})),function(e,t){return r(e,(n=1<arguments.length&&void 0!==t?t:function(e){return!e},function e(t){if(o(t)){if(a(t))return i(t,n).map((function(t){return r(t,e)}));for(var s={},c=0,l=Object.keys(t);c<l.length;c++){var d=l[c];n(t[d])||(s[d]=r(t[d],e))}return s}}));var n}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var n=e("../../custom-lodash"),r=n.find,o=n.includes;t.exports=function(e,t){return void 0===r(Object.keys(t),(function(n){var r=t[n].type,a=n&&t[n].values,i=!t[n].optional,s=e[n],c=g(s),l=r&&c!==r,d=a&&!o(a,s);return i?!s||l||d:s&&(l||d)}))}},{"../../custom-lodash":1}],12:[function(e,t){var n=e("../../custom-lodash").isEqual;t.exports=function(e,t){var r=t.event;if(Object.prototype.hasOwnProperty.call(e,r)){var o,a=u(e[r].entries());try{for(a.s();!(o=a.n()).done;){var i=s(o.value,2),c=i[0],l=i[1];if(n(l.handler,t.handler))return c}}catch(e){a.e(e)}finally{a.f()}}return-1}},{"../../custom-lodash":1}],13:[function(e,t){function n(e,t){return!t.data||!e.path||r(t.data,e.path)||a(t.data,e.path)}var r=e("../../custom-lodash").has,o=e("../constants"),a=e("./ancestorRemoved");t.exports=function(e,t){var r=e.event,a=t.config,i=!1;return t.type===o.itemType.DATA?r===o.dataLayerEvent.CHANGE&&(i=n(e,t)):t.type===o.itemType.EVENT&&(r!==o.dataLayerEvent.EVENT&&r!==a.event||(i=n(e,t)),t.data&&r===o.dataLayerEvent.CHANGE&&(i=n(e,t))),i}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,n,r){"use strict";e.exports=function(){var e=r.getExtensionSettings();return window[e.dataLayerName]}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf014ed2967c745c5ba3a2e04de817f0a/",settings:{instances:[{name:"alloy",context:["device","environment","placeContext","web"],edgeDomain:"%Core - Custom Code - dynamic edge domain%",edgeConfigId:"9edb70fd-43c5-4798-89d8-b84eb7bf6296",onBeforeEventSend:function(e){console.log("adobe custom -- onBeforeEventSend");try{window.authId&&(console.log("adobe custom id",window.authId.split("-").join("")),e.xdm.identityMap={tmcrmid:[{id:window.authId.split("-").join(""),authenticatedState:"ambiguous",primary:!0}]})}catch(e){console.log("adobe custom code",e)}},edgeConfigOverrides:{staging:{enabled:!0,com_adobe_analytics:{reportSuites:["axelspringertransfermarkt"]}},production:{enabled:!0,com_adobe_analytics:{reportSuites:["axelspringertransfermarkt"]}}},stagingEdgeConfigId:"9edb70fd-43c5-4798-89d8-b84eb7bf6296",onBeforeLinkClickSend:function(){console.log("adobe custom -- onBeforeLinkClickEventSend")},clickCollectionEnabled:!1,targetMigrationEnabled:!0,developmentEdgeConfigId:"9edb70fd-43c5-4798-89d8-b84eb7bf6296"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=e=>e.data}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,r){"use strict";var o;const a=n("./createSendEvent"),i=n("../../instanceManager/index"),{sendEventCallbackStorage:s}=n("../../index"),c=n("../../utils/createGetConfigOverrides");e.exports=a({instanceManager:i,sendEventCallbackStorage:s,getConfigOverrides:c(null===(o=r.environment)||void 0===o?void 0:o.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,r){"use strict";var o;const{createCustomInstance:a,createEventMergeId:i,components:s}=n("../alloy"),c=n("./createInstanceManager"),l=n("./injectWrapOnBeforeEventSend"),d=n("../utils/createGetConfigOverrides"),u=l({version:"2.31.0"});e.exports=c({turbine:r,window:window,createCustomInstance:a,components:s,createEventMergeId:i,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(o=r.environment)||void 0===o?void 0:o.stage)})}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";const r=n("../../utils/clone");e.exports=({instanceManager:e,sendEventCallbackStorage:t,getConfigOverrides:n})=>o=>{const{instanceName:a,...i}=o;i.edgeConfigOverrides=n(i);const s=e.getInstance(a);if(!s)throw new Error(`Failed to send event for instance "${a}". No matching instance was configured with this name.`);return i.xdm&&(i.xdm=r(i.xdm)),i.data&&(i.data=r(i.data)),s("sendEvent",i).then((e=>{t.triggerEvent(e)}))}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";const r=n("./createEventMergeIdCache"),o=n("./createSendEventCallbackStorage"),a=n("./createMediaCollectionSessionStorage"),i=n("./createVariableStore");t.eventMergeIdCache=r(),t.sendEventCallbackStorage=o(),t.mediaCollectionSessionStorage=a(),t.variableStore=i()}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";const t=e=>t=>{var n,r,o,a;const{edgeConfigOverrides:i}=t;let s;if(i){if(i[e])s={...i[e]};else{if(i.development||i.staging||i.production)return;s=i}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,Object.keys(s).forEach((e=>{var t;!0===(null===(t=s[e])||void 0===t?void 0:t.enabled)&&delete s[e].enabled})),(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((e=>e.includes(",")?e.split(/,\s*/gi):e)).map((e=>e.trim())).filter(Boolean)),void 0!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&null!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&"string"==typeof(null===(a=s.com_adobe_identity)||void 0===a?void 0:a.idSyncContainerId))if(""===s.com_adobe_identity.idSyncContainerId.trim())delete s.com_adobe_identity.idSyncContainerId;else{const e=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(e))throw new Error(`The ID sync container ID "${s.com_adobe_identity.idSyncContainerId}" is not a valid integer.`);s.com_adobe_identity.idSyncContainerId=e}return s}}};e.exports=t}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=e=>JSON.parse(JSON.stringify(e))}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function r(e,t){function o(r,o,a){if("undefined"!=typeof document){"number"==typeof(a=n({},t,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in a)a[s]&&(i+="; "+s,!0!==a[s]&&(i+="="+a[s].split(";")[0]));return document.cookie=r+"="+e.write(o,r)+i}}function a(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var a=n[o].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=e.read(i,s),t===s)break}catch(e){}}return t?r[t]:r}}return Object.create({set:o,get:a,remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(e){return r(this.converter,n({},this.attributes,e))},withConverter:function(e){return r(n({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function o(e,t=0){return(Ce[e[t+0]]+Ce[e[t+1]]+Ce[e[t+2]]+Ce[e[t+3]]+"-"+Ce[e[t+4]]+Ce[e[t+5]]+"-"+Ce[e[t+6]]+Ce[e[t+7]]+"-"+Ce[e[t+8]]+Ce[e[t+9]]+"-"+Ce[e[t+10]]+Ce[e[t+11]]+Ce[e[t+12]]+Ce[e[t+13]]+Ce[e[t+14]]+Ce[e[t+15]]).toLowerCase()}function a(){if(!we){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");we=crypto.getRandomValues.bind(crypto)}return we(Ee)}function i(e,t,n){if(Se.randomUUID&&!t&&!e)return Se.randomUUID();const r=(e=e||{}).random??e.rng?.()??a();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){
if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return o(r)}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(){if(cn)return sn;cn=1;var e=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(n),o=r.keys();do{var a=o.next(),i=a.value;if(i){var s=r.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===a.done);return t},t=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(r){var o=e[r];"string"==typeof e[r]?o=o.replace(/ /g,t):["object","undefined"].includes(typeof o)&&!Array.isArray(o)&&(o=""),Array.isArray(o)?o.forEach((function(e){n.append(r,e)})):n.append(r,o)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")};return sn={parse:function(t){return e(t)},stringify:function(e){return t(e)}},sn}function l(e){return"object"==typeof e||void 0===e}function d(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r===String(n[e]).toLowerCase())return!0;return!1}}}function u(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r===String(n[e]).toLowerCase())return!1;return!0}}}function p(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function f(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function g(e){return"number"==typeof e}function m(){return{matches:(e,t,n=[])=>{const r=e[t];if(!g(r))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&r>n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const r=e[t];if(!g(r))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&r>=n[e])return!0;return!1}}}function y(){return{matches:(e,t,n=[])=>{const r=e[t];if(!g(r))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&r<n[e])return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{const r=e[t];if(!g(r))return!1;for(let e=0;e<n.length;e+=1)if(g(n[e])&&r<=n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==r.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function C(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==r.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function w(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function E(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const r=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&r.endsWith(n[e].toLowerCase()))return!0;return!1}}}function S(e){return Mp[e]}function I(e){return void 0===e}function k(e,t,n,r=0,o=1/0){return e.reduce(((e,a)=>{try{const i=n.generateEventHash(Fp(a)),s=t.events[i];if(!s)return e;const{timestamps:c=[]}=s;return e+c.filter((e=>e>=r&&e<=o)).length}catch{return e}}),0)}function P(e,t,n,r=0,o=1/0){try{let a=r;const i=e.every((e=>{const r=n.generateEventHash(Fp(e)),i=t.events[r];if(!i)return!1;const s=i.timestamps[0],c=s>=a&&s<=o;return a=s,c}));return Number(i)}catch{return 0}}function O(e,t,n,r=0,o=1/0){try{return e.reduce(((e,a,i)=>{const s=n.generateEventHash(Fp(a)),c=t.events[s];if(!c)return e;const l=c.timestamps.filter((e=>e>=r&&e<=o)).pop();return l&&l>e.timestamp?{index:i,timestamp:l}:e}),{index:-1,timestamp:0}).index}catch{return-1}}function D(e,t,n){let r=!0;for(let o=0;o<t.length;o+=1)r=r&&t[o].evaluate(e,n);return r}function T(e,t,n){let r=!1;for(let o=0;o<t.length;o+=1)if(r=r||t[o].evaluate(e,n),r)return!0;return!1}function A(e,t,n){return{version:e,rules:t,metadata:n}}function j(e,t,n){return{key:n,execute:(n,r)=>e.evaluate(n,r)?t:[],toString:()=>`Rule{condition=${e}, consequences=${t}}`}}function N(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>`Condition{type=${e}, definition=${t}}`}}function R(e,t,n){return{id:e,type:t,detail:n}}function x(e,t){return{evaluate:(n,r)=>xp.AND===e?D(n,t,r):xp.OR===e&&T(n,t,r)}}function _(e,t,n){return{evaluate:r=>{const o=S(t);return!!o&&o.matches(r,e,n)}}}function M(e,t,n,r,o,a){return{evaluate:(i,s)=>{let c;return c=_p.MOST_RECENT===a?O(e,i,s,r,o):_p.ORDERED===a?P(e,i,s,r,o):k(e,i,s,r,o),qp(c,t,n)}}}function L(e){const{key:t,matcher:n,values:r}=e;return _(t,n,r)}function V(e){const{logic:t,conditions:n}=e;return x(t,n.map(U))}function $(e){const{events:t,from:n,to:r,matcher:o,value:a,searchType:i}=e;return M(t,o,a,n,r,i)}function U(e){const{type:t,definition:n}=e;if(Np.MATCHER===t)return N(t,L(n));if(Np.GROUP===t)return N(t,V(n));if(Np.HISTORICAL===t)return N(t,$(n));throw new Error("Can not parse condition")}function q(e){const{id:t,type:n,detail:r}=e;return R(t,n,r)}function B(e){const{condition:t,consequences:n,key:r}=e;return j(U(t),n.map(q),r)}function F(e){if(e)return{provider:e.provider,providerData:Object.assign({},e.providerData)}}function H(e){const{version:t,rules:n,metadata:r}=e;return A(t,n.map(B),F(r))}function z(e,t){return{provider:zp,execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}function J(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:r}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!r)throw new Error("Buckets is missing in provider data")}function W(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const r=n[Jp];if(!r)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(r)||0===r.length)throw new Error("ECID identities array is empty or not an array");const o=r[0].id;if(!o)throw new Error("ECID identity is missing in the identities array");return o}function G(e,t,n){const{providerData:r}=n,{identityTemplate:o}=r;return o.replace(Wp,t).replace(Gp,e)}function Q(e){return!I(e)}function X(e,t=e=>e[0]){const n={};return function(...r){const o=t(r);return Q(n[o])||(n[o]=e(...r)),n[o]}}function Y(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function K(e,t=0){let n;const r=e.length,o=3432918353,a=461845907;let i=t;const s=-2&r;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=Y(n,o),n=(131071&n)<<15|n>>>17,n=Y(n,a),i^=n,i=(524287&i)<<13|i>>>19,i=5*i+3864292196|0;return r%2==1&&(n=e.charCodeAt(s),n=Y(n,o),n=(131071&n)<<15|n>>>17,n=Y(n,a),i^=n),i^=r<<1,i^=i>>>16,i=Y(i,2246822507),i^=i>>>13,i=Y(i,3266489909),i^=i>>>16,i}function Z(e,t){const n=Qp(e),r=Math.abs(n)%t/t*Xp;return Math.round(r*Xp)/Xp}function ee(e,t,n){return{allocation:Yp(e,t),...n}}function te(e){const t={};for(let n=0;n<e.length;n+=1){const r=e[n];r.key&&(t[r.key]||(t[r.key]=[]),t[r.key].push(r))}return t}function ne(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function re(e,t){J(t);const n=e.filter((e=>!e.key)),r=te(e),{buckets:o}=t.providerData;return{provider:Hp,execute:e=>{const a=W(e),i=ne(e,n),s=Object.keys(r),c=[];for(let n=0;n<s.length;n+=1){const i=s[n],l=r[i],d=ne(ee(G(a,i,t),o,e),l);c.push(...d)}return[...i,...c]}}}function oe(e,t,n){const{provider:r}=t;return r===Hp?re(e,t):z(e,n)}function ae(e,t={generateEventHash:()=>{throw new Error("No hash function provided")}}){const{rules:n,metadata:r={}}=H(e);return oe(n,r,t)}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function se(e,t){function n(n,r,o){if("undefined"!=typeof document){"number"==typeof(o=ie({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in o)o[i]&&(a+="; "+i,!0!==o[i]&&(a+="="+o[i].split(";")[0]));return document.cookie=n+"="+e.write(r,n)+a}}function r(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var a=n[o].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=e.read(i,s),t===s)break}catch(e){}}return t?r[t]:r}}return Object.create({set:n,get:r,remove:function(e,t){n(e,"",ie({},t,{expires:-1}))},withAttributes:function(e){return se(this.converter,ie({},this.attributes,e))},withConverter:function(e){return se(ie({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function ce(e,t=0){return(tg[e[t+0]]+tg[e[t+1]]+tg[e[t+2]]+tg[e[t+3]]+"-"+tg[e[t+4]]+tg[e[t+5]]+"-"+tg[e[t+6]]+tg[e[t+7]]+"-"+tg[e[t+8]]+tg[e[t+9]]+"-"+tg[e[t+10]]+tg[e[t+11]]+tg[e[t+12]]+tg[e[t+13]]+tg[e[t+14]]+tg[e[t+15]]).toLowerCase()}function le(){if(!ng){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ng=crypto.getRandomValues.bind(crypto)}return ng(rg)}function de(e){if(og.randomUUID&&!e)return og.randomUUID();const t=(e=e||{}).random??e.rng?.()??le();if(t.length<16)throw new Error("Random bytes length must be >= 16");return t[6]=15&t[6]|64,t[8]=63&t[8]|128,ce(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createEventMergeId=t.createCustomInstance=t.components=void 0;var ue=e=>null==e,pe=e=>!ue(e)&&!Array.isArray(e)&&"object"==typeof e,fe=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(pe(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e))),ge=r({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),me={get:ge.get.bind(ge),set:ge.set.bind(ge),remove:ge.remove.bind(ge),withConverter:ge.withConverter.bind(ge)};const he=(e,t)=>{Object.keys(t).forEach((n=>{pe(e[n])&&pe(t[n])?he(e[n],t[n]):e[n]=t[n]}))};var ye=(e,...t)=>{if(ue(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>he(n,Object(e)))),n},ve=(e,t)=>n=>{const r=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);ye(r,n)},be=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}};const Ce=[];for(let e=0;e<256;++e)Ce.push((e+256).toString(16).slice(1));let we;const Ee=new Uint8Array(16);var Se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Ie=()=>({eventMergeId:i()}),ke=({logger:e,cookieJar:t})=>({...t,set(n,r,o){e.info("Setting cookie",{name:n,value:r,...o}),t.set(n,r,o)}}),Pe=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const r=()=>n().finally((()=>{e-=1}));return t=t.then(r,r),t},get length(){return e}}},Oe=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const De=(e,t)=>e===t,Te=(e,t,n)=>{for(let r=0;r<e.length;r+=1)if(n(e[r],t))return r;return-1};var Ae=(e,t=De)=>e.filter(((n,r)=>Te(e,n,t)===r)),je=(e,t)=>e.appendChild(t);const Ne=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&pe(t[n])){const r=t[n];Object.keys(r).forEach((t=>{e.style[t]=r[t]}))}else e[n]=t[n]}))};var Re=(e,t={},n={},r=[],o=document)=>{const a=o.createElement(e);return Object.keys(t).forEach((e=>{a.setAttribute(e,t[e])})),Ne(a,n),r.forEach((e=>je(a,e))),a};const xe="BODY",_e="IFRAME",Me="IMG",Le="DIV",Ve="STYLE",$e="SCRIPT",Ue="HEAD";var qe=({src:e,currentDocument:t=document})=>new Promise(((n,r)=>{Re(Me,{src:e},{onload:n,onerror:r,onabort:r},[],t)})),Be=e=>"function"==typeof e,Fe=e=>Array.isArray(e)&&e.length>0,He=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const ze=/^\s*>/;var Je=(e,t)=>ze.test(t)?He(e.querySelectorAll(`:scope ${t}`)):He(e.querySelectorAll(t)),We=":shadow";const Ge=e=>e.split(We),Qe=(e,t)=>{const n=t;return n.startsWith(">")?`${e instanceof Element||e instanceof Document?":scope":":host"} ${n}`:n};var Xe=(e,t)=>{const n=Ge(t);if(n.length<2)return Je(e,t);let r=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&r.shadowRoot){r=r.shadowRoot;continue}const o=Qe(r,t),a=Je(r,o);if(0===a.length||!a[0]||!a[0].shadowRoot)return a;r=a[0].shadowRoot}},Ye=e=>-1!==e.indexOf(We),Ke=(e,t=document)=>Ye(e)?Xe(t,e):Je(t,e);const Ze="MutationObserver",et="requestAnimationFrame",tt={childList:!0,subtree:!0},nt="visibilityState",rt="visible",ot=100,at=5e3,it=e=>new Error(`Could not find: ${e}`),st=e=>new Promise(e),ct=e=>Be(e[Ze]),lt=(e,t,n,r,o)=>st(((a,i)=>{let s;const c=new e[Ze]((()=>{const e=o(n);Fe(e)&&(c.disconnect(),s&&clearTimeout(s),a(e))}));s=setTimeout((()=>{c.disconnect(),i(it(n))}),r),c.observe(t,tt)})),dt=e=>e[nt]===rt,ut=(e,t,n,r)=>st(((o,a)=>{const i=()=>{const n=r(t);Fe(n)?o(n):e[et](i)};i(),setTimeout((()=>{a(it(t))}),n)})),pt=(e,t,n)=>st(((r,o)=>{const a=()=>{const t=n(e);Fe(t)?r(t):setTimeout(a,ot)};a(),setTimeout((()=>{o(it(e))}),t)}));var ft=(e,t=Ke,n=at,r=window,o=document)=>{const a=t(e);return Fe(a)?Promise.resolve(a):ct(r)?lt(r,o,e,n,t):dt(o)?ut(r,e,n,t):pt(e,n,t)},gt=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),mt=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const ht={name:"Adobe Alloy"},yt={style:{display:"none",width:0,height:0}};var vt=({appendNode:e=je,awaitSelector:t=ft,createNode:n=Re,fireImage:r=qe}={})=>{const o=r;let a;const i=()=>t(xe).then((([t])=>a||(a=n(_e,ht,yt),e(t,a)))),s=({src:e})=>i().then((t=>{const n=t.contentWindow.document;return r({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):o({src:n})}},bt=e=>pe(e)&&0===Object.keys(e).length;const Ct=(e,t)=>ue(e)||!pe(e)?e:Object.keys(e).reduce(((n,r)=>{const o=e[r];if(pe(o)){const e=Ct(o,t);return bt(e)?n:{...n,[r]:e}}return t(o)?{...n,[r]:o}:n}),{}),wt=e=>{let t=2166136261;const n=16777619,r=(new TextEncoder).encode(e);for(let e=0;e<r.length;e+=1)t^=r[e],t=Math.imul(t,n);return t>>>0},Et=e=>wt(e).toString(16).padStart(8,"0");var St="com.adobe.alloy.",It=(e,t)=>e.slice(-t);const kt=`${St}getTld`;var Pt=(e,t)=>{let n="";const r=e.location.hostname.toLowerCase().split(".");let o=1;for(;o<r.length&&!t.get(kt);)o+=1,n=It(r,o).join("."),t.set(kt,kt,{domain:n});return t.remove(kt,{domain:n}),n},Ot="kndctr",Dt=e=>e.replace("@","_"),Tt=(e,t)=>`${Ot}_${Dt(e)}_${t}`,At=(e,t)=>{const n={};return e.forEach((e=>{const r=t(e);n[r]||(n[r]=[]),n[r].push(e)})),n};const jt="Chrome",Nt="Edge",Rt="EdgeChromium",xt="Firefox",_t="IE",Mt="Safari",Lt="Unknown";var Vt=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const $t=[jt,Nt,Rt,_t,Lt];var Ut=({getBrowser:e})=>Vt((()=>$t.includes(e())));const qt="identity",Bt="consent",Ft="cluster";var Ht=({orgId:e})=>{const t=Tt(e,qt);return()=>Boolean(me.get(t))};const zt=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o].test(t))return o}return Lt};var Jt=({userAgent:e})=>Vt((()=>zt({[Nt]:/Edge\/([0-9\._]+)/,[Rt]:/Edg\/([0-9\.]+)/,[jt]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[xt]:/Firefox\/([0-9\.]+)(?:\s|$)/,[_t]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[Mt]:/Version\/([0-9\._]+).*Safari/},e)));const Wt=(e,t,n)=>({getItem(r){try{return e[t].getItem(n+r)}catch{return null}},setItem(r,o){try{return e[t].setItem(n+r,o),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((r=>{r.startsWith(n)&&e[t].removeItem(r)})),!0}catch{return!1}}});var Gt=e=>t=>{const n=St+t;return{session:Wt(e,"sessionStorage",n),persistent:Wt(e,"localStorage",n)}},Qt=(e,t)=>e.filter((e=>t.includes(e))),Xt=e=>"boolean"==typeof e,Yt=e=>"number"==typeof e&&!Number.isNaN(e),Kt=e=>{const t=parseInt(e,10);return Yt(t)&&e===t},Zt=(e,t)=>0===t.indexOf(`${Ot}_${Dt(e)}_`),en=e=>"string"==typeof e,tn=e=>en(e)&&e.length>0,nn=()=>{};const rn=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=`${n[2]}.${n[3]}`}return t},on=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}},an=(e,t=rn)=>{en(e)||(e="");const n=on(e),{host:r,path:o,query:a,anchor:i}=n;return{path:o,query:a,fragment:i,...t(r)}};var sn,cn,ln=e=>{if(ue(e)||"object"!=typeof e)return null;const t=Ct(e,(e=>!(ue(e)||!Xt(e)&&!Yt(e)&&!tn(e)&&!Fe(e))));return bt(t)?null:t},dn=s(c());const un=e=>Array.isArray(e)?e.map((e=>un(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=un(e[n]),t)),{}):e;var pn=e=>un(e),fn=e=>e instanceof Error?e:new Error(e),gn=({error:e,message:t})=>{try{e.message=t}catch{}},mn=({error:e,message:t})=>{const n=fn(e),r=`${t}\nCaused by: ${n.message}`;return gn({error:n,message:r}),n},hn=e=>en(e)&&"true"===e.toLowerCase(),yn=(e,t)=>{if(Yt(e)||en(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const vn=(e,t,n)=>`${e}`.padStart(t,n);var bn=e=>{const t=e.getFullYear(),n=vn(e.getMonth()+1,2,"0"),r=vn(e.getDate(),2,"0"),o=vn(e.getHours(),2,"0"),a=vn(e.getMinutes(),2,"0"),i=vn(e.getSeconds(),2,"0"),s=vn(e.getMilliseconds(),3,"0"),c=yn(e.getTimezoneOffset(),0);return`${t}-${n}-${r}T${o}:${a}:${i}.${s}${c>0?"-":"+"}${vn(Math.floor(Math.abs(c)/60),2,"0")}:${vn(Math.abs(c)%60,2,"0")}`};const Cn=e=>function(t,n){return null==t?t:e.call(this,t,n)},wn=(e,t)=>function(n,r){return t.call(this,e.call(this,n,r),r)},En=(e,t)=>function(n,r){const o=[],a=[e,t].reduce(((e,t)=>{try{return t.call(this,e,r)}catch(t){return o.push(t),e}}),n);if(o.length)throw new Error(o.join("\n"));return a},Sn=(e,t,n)=>Object.assign(wn(e,t),e,n),In=(e,t,n)=>Object.assign(wn(e,Cn(t)),e,n),kn=(e,t,n)=>Object.assign(En(Cn(t),e),e,n),Pn=(e,t,n,r)=>{if(!e)throw new Error(`'${n}': Expected ${r}, but got ${JSON.stringify(t)}.`)};var On=(e,t)=>(Pn(Xt(e),e,t,"true or false"),e),Dn=(e,t)=>(Pn(Be(e),e,t,"a function"),e),Tn=(e,t)=>function(n,r){let o;const a=e.find((e=>{try{return o=e.call(this,n,r),!0}catch{return!1}}));return Pn(a,n,r,t),o},An=e=>function(t,n){Pn(Array.isArray(t),t,n,"an array");const r=[],o=t.map(((o,a)=>{try{return e.call(this,o,`${n}[${a}]`,t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return o},jn=e=>t=>null==t?e:t,Nn=(e="This field has been deprecated")=>function(t,n){let r=e;return void 0!==t&&(n&&(r=`'${n}': ${r}`),this&&this.logger&&this.logger.warn(r)),t},Rn=e=>(t,n)=>(Pn(t===e,t,n,`${e}`),t),xn=e=>function(t,n){Pn(pe(t),t,n,"an object");const r=[],o={};if(Object.keys(t).forEach((a=>{const i=t[a],s=n?`${n}.${a}`:a;try{const t=e.call(this,i,s);void 0!==t&&(o[a]=t)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return o},_n=(e,t)=>(n,r)=>(Pn(n>=t,n,r,`${e} greater than or equal to ${t}`),n),Mn=(e,t)=>(n,r)=>(Pn(n<=t,n,r,`${e} less than or equal to ${t}`),n),Ln=e=>(t,n)=>{const r=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;r.push(`'${e}': Unknown field.`)}})),r.length)throw new Error(r.join("\n"));return t},Vn=e=>(t,n)=>(pe(t)?Pn(!bt(t),t,n,e):Pn(t.length>0,t,n,e),t),$n=e=>function(t,n){Pn(pe(t),t,n,"an object");const r=[],o={};if(Object.keys(e).forEach((a=>{const i=t[a],s=e[a],c=n?`${n}.${a}`:a;try{const e=s.call(this,i,c);void 0!==e&&(o[a]=e)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(o,e)||(o[e]=t[e])})),r.length)throw new Error(r.join("\n"));return o},Un=(e,t,n)=>function(r,o){Pn(pe(r),r,o,"an object");const{[e]:a,[n]:i,...s}=r,c=t(a,o);if(void 0!==c){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(o&&(t=`'${o}': ${t}`),void 0!==i&&i!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:i||c,...s}},qn=()=>{const e=[];return(t,n)=>(Pn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},Bn=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const r=e[n];if(r in t)return!1;t[r]=!0}return!0},Fn=()=>(e,t)=>(Pn(Bn(e),e,t,"array values to be unique"),e);const Hn=/^[a-z0-9.-]{1,}$/i;var zn=(e,t)=>(Pn(Hn.test(e),e,t,"a valid domain"),e),Jn=(e,t)=>(Pn(Kt(e),e,t,"an integer"),e),Wn=(e,t)=>(Pn(Yt(e),e,t,"a number"),e),Gn=e=>{try{return null!==RegExp(e)}catch{return!1}},Qn=(e,t)=>(Pn(Gn(e),e,t,"a regular expression"),e),Xn=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},Yn=(e,t)=>(Pn(en(e),e,t,"a string"),e),Kn=e=>(t,n)=>(Pn(e.test(t),t,n,`does not match the ${e.toString()}`),t);const Zn=e=>e;Zn.default=function(e){return Sn(this,jn(e))},Zn.required=function(){return Sn(this,Xn)},Zn.deprecated=function(e){return Sn(this,Nn(e))};const er=function(){return In(this,zn)},tr=function(e){return In(this,_n("an integer",e))},nr=function(e){return In(this,_n("a number",e))},rr=function(e){return In(this,Mn("a number",e))},or=function(){return In(this,Jn,{minimum:tr})},ar=function(){return In(this,Vn("a non-empty string"))},ir=function(){return In(this,Vn("a non-empty array"))},sr=function(){return In(this,Vn("a non-empty object"))},cr=function(){return In(this,Qn)},lr=function(e){return In(this,Kn(e))},dr=function(){return In(this,qn())},ur=function(){return In(this,Fn())},pr=function(e,t){return Sn(this,Tn(e,t))},fr=function(){return this},gr=function(e){return In(this,An(e),{nonEmpty:ir,uniqueItems:ur})},mr=function(){return In(this,On)},hr=function(){return In(this,Dn)},yr=function(e){return In(this,Rn(e))},vr=function(){return In(this,Wn,{minimum:nr,maximum:rr,integer:or,unique:dr})},br=function(e){return In(this,xn(e),{nonEmpty:sr})},Cr=e=>({noUnknownFields:function(){return In(this,Ln(e))},nonEmpty:sr,concat:function(t){const n={...e,...t.schema};return In(this,t,Cr(n))},renamed:function(e,t,n){return kn(this,Un(e,t,n))},schema:e}),wr=function(e){return In(this,$n(e),Cr(e))},Er=function(){return In(this,Yn,{regexp:cr,domain:er,nonEmpty:ar,unique:dr,matches:lr})},Sr=pr.bind(Zn),Ir=fr.bind(Zn),kr=gr.bind(Zn),Pr=mr.bind(Zn),Or=hr.bind(Zn),Dr=yr.bind(Zn),Tr=vr.bind(Zn),Ar=br.bind(Zn),jr=wr.bind(Zn),Nr=Er.bind(Zn),Rr=function(...e){return Sr(e.map(Dr),`one of these values: ${JSON.stringify(e)}`)};var xr=Ar(kr(jr({authenticatedState:Rr("ambiguous","authenticated","loggedOut"),id:Nr(),namespace:jr({code:Nr()}).noUnknownFields(),primary:Pr(),xid:Nr()}).noUnknownFields()).required()),_r=jr({}),Mr="alloy_debug",Lr=({console:e,locationSearch:t,createLogger:n,instanceName:r,createNamespacedStorage:o,getMonitors:a})=>{const i=dn.parse(t),s=o(`instance.${r}.`),c=s.session.getItem("debug");let l="true"===c,d=null===c;const u=()=>l,p=(e,{fromConfig:t})=>{t&&!d||(l=e),t||(s.session.setItem("debug",e.toString()),d=!1)};return void 0!==i[Mr]&&p(hn(i[Mr]),{fromConfig:!1}),{setDebugEnabled:p,logger:n({getDebugEnabled:u,context:{instanceName:r},getMonitors:a,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:r,componentName:t},getMonitors:a,console:e})}};const Vr=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],$r=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),Ur=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var qr=e=>Vr.reduce(((t,n)=>(t[n]=Ur($r(e,n)),t)),{});const Br=(e,t)=>(...n)=>{let r;try{r=e(...n)}catch(e){throw mn({error:e,message:t})}return r instanceof Promise&&(r=r.catch((e=>{throw mn({error:e,message:t})}))),r};var Fr=()=>{const e={},t={},n={},r=(e,n={})=>{const r=Qt(Object.keys(t),Object.keys(n));if(r.length)throw new Error(`[ComponentRegistry] Could not register ${e} because it has existing command(s): ${r.join(",")}`);Object.keys(n).forEach((r=>{const o=n[r];o.commandName=r,o.run=Br(o.run,`[${e}] An error occurred while executing the ${r} command.`),t[r]=o}))},o=(e,t={})=>{Object.keys(t).forEach((r=>{n[r]=n[r]||[],n[r].push(Br(t[r],`[${e}] An error occurred while executing the ${r} lifecycle hook.`))}))};return{register(t,n){const{commands:a,lifecycle:i}=n;r(t,a),o(t,i),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},Hr=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:r,getRequestRetryDelay:o})=>({requestId:a,url:i,payload:s,useSendBeacon:c})=>{const l=JSON.stringify(s),d=JSON.parse(l);e.logOnBeforeNetworkRequest({url:i,requestId:a,payload:d});const u=(s=0)=>(c?n:t)(i,l).then((t=>{if(r({response:t,retriesAttempted:s})){const e=o({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:a,url:i,payload:d,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:a,url:i,payload:d,error:t}),mn({error:t,message:"Network request failed."})}))},zr=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn(`Invalid adobe edge: "${t}"`)}return{}};const Jr="in",Wr="out",Gr="pending",Qr="general",Xr="declinedConsent",Yr="default",Kr="initial",Zr="new",eo=e=>{const t=new Error(e);return t.code=Xr,t.message=e,t};var to=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},r=()=>{for(;t.length;)t.shift().reject(eo("The user declined consent."))},o=()=>Promise.resolve(),a=()=>Promise.resolve(),i=()=>Promise.resolve(),s=()=>Promise.reject(eo("No consent preferences have been set.")),c=()=>Promise.reject(eo("The user declined consent.")),l=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=Oe();return t.push(n),n.promise};return{in(t){t===Yr?this.awaitConsent=a:(t===Kr?e.info("Loaded user consent preferences. The user previously consented."):t===Zr&&this.awaitConsent!==i&&e.info("User consented."),n(),this.awaitConsent=i)},out(t){t===Yr?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===Kr?e.warn("Loaded user consent preferences. The user previously declined consent."):t===Zr&&this.awaitConsent!==c&&e.warn("User declined consent."),r(),this.awaitConsent=c)},pending(t){t===Yr&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:o,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case a:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},no=({generalConsentState:e,logger:t})=>{const n=(n,r)=>{switch(n[Qr]){case Jr:e.in(r);break;case Wr:e.out(r);break;case Gr:e.pending(r);break;default:t.warn(`Unknown consent value: ${n[Qr]}`)}};return{initializeConsent(e,t){t[Qr]?n(t,Kr):n(e,Yr)},setConsent(e){n(e,Zr)},suspend(){e.pending()},awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const ro=e=>e&&e._experience&&e._experience.decisioning&&Fe(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var oo=()=>{const e={};let t,n,r=!1,o=!1,a=!0;const i=e=>{if(o)throw new Error(`${e} cannot be called after event is finalized.`)},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const r=JSON.parse(JSON.stringify(e));return t&&ye(r,{xdm:t}),n&&ye(r,{data:n}),r},setUserXdm(e){i("setUserXdm"),t=e},setUserData(e){i("setUserData"),n=e},mergeXdm(t){i("mergeXdm"),t&&ye(e,{xdm:t})},mergeData(t){i("mergeData"),t&&ye(e,{data:t})},mergeMeta(t){i("mergeMeta"),t&&ye(e,{meta:t})},mergeQuery(t){i("mergeQuery"),t&&ye(e,{query:t})},documentMayUnload(){r=!0},finalize(r){if(o)return;const i=Ae([...ro(t),...ro(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),i.length>0&&(e.xdm._experience.decisioning.propositions=i),n&&s.mergeData(n),o=!0,r){a=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=r(t);a=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},bt(e.xdm)&&delete e.xdm,bt(e.data)&&delete e.data}},getDocumentMayUnload:()=>r,isEmpty:()=>bt(e)&&(!t||bt(t))&&(!n||bt(n)),shouldSend:()=>a,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!o)throw new Error("toJSON called before finalize");return e}};return s};const ao="Retry-After",io="x-adobe-edge";var so=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:r=[],errors:o=[],warnings:a=[]}=t;return{getPayloadsByType:e=>r.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>o,getWarnings:()=>a,getEdge:()=>e(n(io)),toJSON:()=>t}};const co="configure",lo="setDebug";var uo=({logger:e,configureCommand:t,setDebugCommand:n,handleError:r,validateCommandOptions:o})=>{let a;const i=(r,i)=>{let s;if(r===co){if(a)throw new Error("The library has already been configured and may only be configured once.");s=()=>(a=t(i),a.then((()=>{})))}else{if(!a)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=r===lo?()=>{const e=jr({enabled:Pr().required()}).noUnknownFields(),t=o({command:{commandName:lo,optionsValidator:e},options:i});n(t)}:()=>a.then((e=>{const t=e.getCommand(r);if(!t||!Be(t.run)){const t=[co,lo].concat(e.getCommandNames()).join(", ");throw new Error(`The ${r} command does not exist. List of available commands: ${t}.`)}const n=o({command:t,options:i});return t.run(n)}),(()=>(e.warn(`An error during configuration is preventing the ${r} command from executing.`),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((r=>{const o=i(t,n);e.logOnBeforeCommand({commandName:t,options:n}),r(o())})).catch((e=>r(e,`${t} command`))).catch((r=>{throw e.logOnCommandRejected({commandName:t,options:n,error:r}),r})).then((r=>{const o=pe(r)?r:{};return e.logOnCommandResolved({commandName:t,options:n,result:o}),o}))};const po="https://adobe.ly/3sHgQHb";var fo=({command:e,options:t})=>{const{commandName:n,documentationUri:r=po,optionsValidator:o}=e;let a=t;if(o)try{a=o(t)}catch(e){throw new Error(`Invalid ${n} command options:\n\t - ${e} For command documentation see: ${r}`)}return a};const go="https://adobe.ly/3sHh553",mo=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error(`Resolve these configuration problems:\n\t - ${e.message.split("\n").join("\n\t - ")}\nFor configuration documentation see: ${go}`)}},ho=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:r})=>(r&&(n={...n,...r({config:e,logger:t})}),n)),{}),yo=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var vo=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:r,logger:o,setDebugEnabled:a})=>{const i=yo(o),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),c=r(mo({combinedConfigValidator:s,options:e,logger:i}));a(c.debugEnabled,{fromConfig:!0}),i.flush();const l=ho(c,o,t);return o.logOnInstanceConfigured({...l,config:c}),c},bo=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:r})=>(e.forEach((e=>{const{namespace:t}=e,o=r(t);let a;try{a=e(o)}catch(e){throw mn({error:e,message:`[${t}] An error occurred during component creation.`})}n.register(t,a)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const Co=e=>({...e}),wo="edge.adobedc.net",Eo="adobedc.demdex.net";var So="ee",Io=()=>jr({debugEnabled:Pr().default(!1),datastreamId:Nr().unique().required(),edgeDomain:Nr().domain().default(wo),edgeBasePath:Nr().nonEmpty().default(So),orgId:Nr().unique().required(),onBeforeEventSend:Or().default(nn),edgeConfigOverrides:_r}).renamed("edgeConfigId",Nr().unique(),"datastreamId"),ko=({errorPrefix:e,logger:t})=>(n,r)=>{const o=fn(n);if(o.code===Xr)return t.warn(`The ${r} could not fully complete. ${o.message}`),{};throw gn({error:o,message:`${e} ${o.message}`}),o},Po=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},
referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),Oo=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(r,o)=>{const a=new Blob([o],{type:"text/plain; charset=UTF-8"});return e(r,a)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(r,o))},Do=({getDebugEnabled:e,console:t,getMonitors:n,context:r})=>{let o=`[${r.instanceName}]`;r.componentName&&(o+=` [${r.componentName}]`);const a=(e,t)=>{const o=n();if(o.length>0){const n={...r,...t};o.forEach((t=>{t[e]&&t[e](n)}))}},i=(n,...r)=>{a("onBeforeLog",{level:n,arguments:r}),e()&&t[n](o,...r)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){a("onInstanceCreated",e),i("info","Instance initialized.")},logOnInstanceConfigured(e){a("onInstanceConfigured",e),i("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){a("onBeforeCommand",e),i("info",`Executing ${e.commandName} command. Options:`,e.options)},logOnCommandResolved(e){a("onCommandResolved",e),i("info",`${e.commandName} command resolved. Result:`,e.result)},logOnCommandRejected(e){a("onCommandRejected",e),i("error",`${e.commandName} command was rejected. Error:`,e.error)},logOnBeforeNetworkRequest(e){a("onBeforeNetworkRequest",e),i("info",`Request ${e.requestId}: Sending request.`,e.payload)},logOnNetworkResponse(e){a("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";i("info",`Request ${e.requestId}: Received response with status code ${e.statusCode} and ${t}`,e.parsedBody||e.body)},logOnNetworkError(e){a("onNetworkError",e),i("error",`Request ${e.requestId}: Network request failed.`,e.error)},logOnContentHiding(e){a("onContentHiding",{status:e.status}),i(e.logLevel,e.message)},logOnContentRendering(e){a("onContentRendering",{status:e.status,payload:e.detail}),i(e.logLevel,e.message)},info:i.bind(null,"info"),warn:i.bind(null,"warn"),error:i.bind(null,"error")}},To="__view__",Ao=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},jo=e=>{const{payload:t,getAction:n,getUseSendBeacon:r,datastreamIdOverride:o,edgeSubPath:a}=e,s=i();let c=!1,l=!1;return{getId:()=>s,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:l}),getDatastreamIdOverride:()=>o,getUseSendBeacon:()=>r({isIdentityEstablished:l}),getEdgeSubPath:()=>a||"",getUseIdThirdPartyDomain:()=>c,setUseIdThirdPartyDomain(){c=!0},setIsIdentityEstablished(){l=!0}}},No=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return jo({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})},Ro=e=>{const{content:t,addIdentity:n,hasIdentity:r}=e,o=ve(t,"meta.configOverrides");return{mergeMeta:ve(t,"meta"),mergeState:ve(t,"meta.state"),mergeQuery:ve(t,"query"),mergeConfigOverride:e=>o(ln(e)),addIdentity:n,hasIdentity:r,toJSON:()=>t}},xo=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),_o=()=>{const e={},t=Ro({content:e,addIdentity:Ao(e),hasIdentity:xo(e)});return t.addEvent=t=>{e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=()=>(e.events||[]).some((e=>e.getDocumentMayUnload())),t},Mo=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const r={payload:n},{datastreamId:o,...a}=e||{};return o&&(r.datastreamIdOverride=o),t&&!bt(t)&&n.mergeConfigOverride(t),a&&!bt(a)&&n.mergeConfigOverride(a),r};const Lo="adb_validation_sessionid",Vo="validation.",$o="clientId",Uo=e=>{let t=e.persistent.getItem($o);return t||(t=i(),e.persistent.setItem($o,t)),t};var qo=({window:e,createNamespacedStorage:t})=>{const n=t(Vo);return()=>{const t=dn.parse(e.location.search)[Lo];if(!t)return"";const r=`${t}|${Uo(n)}`;return`&${dn.stringify({adobeAepValidationToken:r})}`}};const Bo="Event was canceled because the onBeforeEventSend callback returned false.";var Fo=({config:e,logger:t,lifecycle:n,consent:r,createEvent:o,createDataCollectionRequestPayload:a,createDataCollectionRequest:i,sendEdgeNetworkRequest:s,applyResponse:c})=>{const{onBeforeEventSend:l,edgeConfigOverrides:d}=e;return{createEvent:o,sendEvent(e,o={}){const{edgeConfigOverrides:c,...u}=o,p=Mo({payload:a(),localConfigOverrides:c,globalConfigOverrides:d}),f=i(p),g=be(),m=be();return n.onBeforeEvent({...u,event:e,onResponse:g.add,onRequestFailure:m.add}).then((()=>(p.payload.addEvent(e),r.awaitConsent()))).then((()=>{try{e.finalize(l)}catch(e){const t=()=>{throw e};return m.add(n.onRequestFailure),m.call({error:e}).then(t,t)}if(!e.shouldSend()){m.add(n.onRequestFailure),t.info(Bo);const e=new Error(Bo);return m.call({error:e}).then((()=>{}))}return s({request:f,runOnResponseCallbacks:g.call,runOnRequestFailureCallbacks:m.call})}))},applyResponse(e,t={}){const{renderDecisions:r=!1,decisionContext:o={},responseHeaders:s={},responseBody:l={handle:[]},personalization:d}=t,u=a(),p=i({payload:u}),f=be();return n.onBeforeEvent({event:e,renderDecisions:r,decisionContext:o,decisionScopes:[To],personalization:d,onResponse:f.add,onRequestFailure:nn}).then((()=>(u.addEvent(e),c({request:p,responseHeaders:s,responseBody:l,runOnResponseCallbacks:f.call}))))}}};const Ho="state:store";var zo=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:r})=>({cookiesToPayload(r,o){const a=""!==n&&o.endsWith(n),i={domain:n,cookiesEnabled:!0};if(!a){const n=e.get(),r=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));r.length&&(i.entries=r)}r.mergeState(i)},responseToCookies(t){t.getPayloadsByType(Ho).forEach((t=>{const o={domain:n},a=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(o.expires=new Date(r().getTime()+1e3*t.maxAge)),void 0!==a&&(o.sameSite=a),"none"===a&&(o.secure=!0),e.set(t.key,t.value,o)}))}});const Jo="mboxEdgeCluster",Wo="at_qa_mode",Go="mbox";var Qo=({orgId:e,targetMigrationEnabled:t})=>n=>Zt(e,n)||n===Wo||t&&n===Go,Xo="v1";const Yo="TypeError",Ko="NetworkError",Zo=e=>e.name===Yo||e.name===Ko||0===e.status;var ea=e=>{const t=e.shift()||[],n=e.shift()||[];return fe({},...t,...n,...e)},ta=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const na=(e,t)=>t.getUseIdThirdPartyDomain()&&Zo(e);var ra=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:r,createResponse:o,processWarningsAndErrors:a,getLocationHint:i,getAssuranceValidationTokenParams:s})=>{const{edgeDomain:c,edgeBasePath:l,datastreamId:d}=e;let u=!1;const p=(e,t)=>{const n=i(),r=n?`${l}/${n}${t.getEdgeSubPath()}`:`${l}${t.getEdgeSubPath()}`,o=t.getDatastreamIdOverride()||d;return o!==d&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:d}}}),`https://${e}/${r}/${Xo}/${t.getAction()}?configId=${o}&requestId=${t.getId()}${s()}`};return({request:e,runOnResponseCallbacks:i=nn,runOnRequestFailureCallbacks:s=nn})=>{const l=be();l.add(t.onResponse),l.add(i);const d=be();return d.add(t.onRequestFailure),d.add(s),t.onBeforeRequest({request:e,onResponse:l.add,onRequestFailure:d.add}).then((()=>{const t=u||!e.getUseIdThirdPartyDomain()?c:Eo,o=p(t,e),a=e.getPayload();return n.cookiesToPayload(a,t),r({requestId:e.getId(),url:o,payload:a,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(a(e),e))).catch((t=>{if(na(t,e)){u=!0,e.setUseIdThirdPartyDomain(!1);const t=p(c,e),o=e.getPayload();return n.cookiesToPayload(o,c),r({requestId:e.getId(),url:t,payload:o,useSendBeacon:e.getUseSendBeacon()})}return ta(d)(t)})).then((({parsedBody:e,getHeader:t})=>{const r=o({content:e,getHeader:t});return n.responseToCookies(r),l.call({response:r}).then(ea)}))}};const oa=204,aa="The server responded with a";var ia=({logger:e})=>t=>{const{statusCode:n,body:r,parsedBody:o}=t;if(n<200||n>=300||!o&&n!==oa||o&&!Array.isArray(o.handle)){const e=o?JSON.stringify(o,null,2):r;throw new Error(`${aa} status code ${n} and ${e?`response body:\n${e}`:"no response body."}`)}if(o){const{warnings:t=[],errors:n=[]}=o;t.forEach((t=>{e.warn(`${aa} warning:`,t)})),n.forEach((t=>{e.error(`${aa} non-fatal error:`,t)}))}},sa=({orgId:e,cookieJar:t})=>{const n=Tt(e,Ft),r=()=>t.get(n),o=()=>{const e=t.get(Jo);if(e)return`t${e}`};return()=>r()||o()};const ca=3,la=[429,503,502,504];var da=({response:e,retriesAttempted:t})=>t<ca&&la.includes(e.statusCode);const ua=1e3,pa=1e3,fa=.3,ga=e=>{const t=ua+e*pa,n=t*fa,r=t-n,o=t+n;return Math.round(r+Math.random()*(o-r))},ma=e=>{const t=e.getHeader(ao);let n;if(t){const e=parseInt(t,10);n=Kt(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var ha=({response:e,retriesAttempted:t})=>{let n=ma(e);return void 0===n&&(n=ga(t)),n};const ya=200;var va=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:r})=>({request:o,responseHeaders:a,responseBody:i,runOnResponseCallbacks:s=nn,runOnRequestFailureCallbacks:c=nn})=>{const l=be();l.add(t.onResponse),l.add(s);const d=be();d.add(t.onRequestFailure),d.add(c);const u=e=>a[e];return t.onBeforeRequest({request:o,onResponse:l.add,onRequestFailure:d.add}).then((()=>r({statusCode:ya,getHeader:u,body:JSON.stringify(i),parsedBody:i}))).catch(ta(d)).then((()=>{const t=n({content:i,getHeader:u});return e.responseToCookies(t),l.call({response:t}).then(ea)}))},ba=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},Ca=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};ye(t,{web:n})};const wa=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},Ea=e=>{if(Be(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var Sa=e=>t=>{const{screen:{width:n,height:r}}=e,o={},a=yn(r);a>=0&&(o.screenHeight=a);const i=yn(n);i>=0&&(o.screenWidth=i);const s=wa(e)||Ea(e);s&&(o.screenOrientation=s),Object.keys(o).length>0&&ye(t,{device:o})},Ia=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:r}={}}}=e,o={type:"browser"},a=yn(n);a>=0&&(o.browserDetails={viewportWidth:a});const i=yn(r);i>=0&&(o.browserDetails=o.browserDetails||{},o.browserDetails.viewportHeight=i),ye(t,{environment:o})},ka=e=>t=>{const n=e(),r={},o=yn(n.getTimezoneOffset());void 0!==o&&(r.localTimezoneOffset=o),(void 0===o||Math.abs(o)<6e3)&&(r.localTime=bn(n)),ye(t,{placeContext:r})},Pa=e=>t=>{const n=e().toISOString();ye(t,{timestamp:n})},Oa="https://ns.adobe.com/experience/alloy";const Da="2.28.0";var Ta=e=>{ye(e,{implementationDetails:{name:Oa,version:Da,environment:"browser"}})},Aa=(e,t,n,r)=>{const o=e.context.flatMap(((e,r)=>n[e]?[n[e]]:(t.warn(`Invalid context[${r}]: '${e}' is not available.`),[]))).concat(r);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(o.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},ja=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Na=e=>"userAgentData"in e;var Ra=e=>Na(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(ja.map((e=>e[0]))).then((e=>{const n={};ja.forEach((([t,r])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===r&&(n[t]=e[t])})),ye(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn(`Unable to collect user-agent client hints. ${e.message}`),nn}}:nn;const xa=Ca(window),_a=Sa(window),Ma=Ia(window),La=ka((()=>new Date)),Va=Pa((()=>new Date)),$a={web:xa,device:_a,environment:Ma,placeContext:La},Ua={highEntropyUserAgentHints:Ra(navigator)},qa={...$a,...Ua},Ba=[Va,Ta],Fa=({config:e,logger:t})=>Aa(e,t,qa,Ba);Fa.namespace="Context",Fa.configValidators=jr({context:kr(Nr()).default(Object.keys($a))});var Ha=({options:e})=>jr({type:Nr(),xdm:jr({eventType:Nr(),identityMap:xr}),data:jr({}),documentUnloading:Pr(),renderDecisions:Pr(),decisionScopes:kr(Nr()).uniqueItems(),personalization:jr({decisionScopes:kr(Nr()).uniqueItems(),surfaces:kr(Nr()).uniqueItems(),sendDisplayEvent:Pr().default(!0),includeRenderedPropositions:Pr().default(!1),defaultPersonalizationEnabled:Pr(),decisionContext:jr({})}).default({sendDisplayEvent:!0}),datasetId:Nr(),mergeId:Nr(),edgeConfigOverrides:_r}).required().noUnknownFields()(e),za=({options:e})=>jr({renderDecisions:Pr(),responseHeaders:Ar(Nr().required()),responseBody:jr({handle:kr(jr({type:Nr().required(),payload:Ir().required()})).required()}).required(),personalization:jr({sendDisplayEvent:Pr().default(!0),decisionContext:jr({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const Ja=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>Ha({options:e}),run:n=>{const{xdm:r,data:o,documentUnloading:a,type:i,mergeId:s,datasetId:c,edgeConfigOverrides:l,...d}=n,u=e.createEvent();return a&&u.documentMayUnload(),u.setUserXdm(r),u.setUserData(o),i&&u.mergeXdm({eventType:i}),s&&u.mergeXdm({eventMergeId:s}),l&&(d.edgeConfigOverrides=l),c&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=l||{},ye(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),e.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>za({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:r={},responseHeaders:o={},responseBody:a={handle:[]},personalization:i}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:r,responseHeaders:o,responseBody:a,personalization:i})}}}});Ja.namespace="DataCollector";const Wa=(e,t)=>`ID sync ${t?"succeeded":"failed"}: ${e.spec.url}`;var Ga=({fireReferrerHideableImage:e,logger:t})=>n=>{const r=n.filter((e=>"url"===e.type));return r.length?Promise.all(r.map((n=>e(n.spec).then((()=>{t.info(Wa(n,!0))})).catch((()=>{t.error(Wa(n,!1))}))))).then(nn):Promise.resolve()};const Qa=jr({thirdPartyCookiesEnabled:Pr().default(!0),idMigrationEnabled:Pr().default(!0)});var Xa=jr({url:Nr().required().nonEmpty(),edgeConfigOverrides:_r}).required().noUnknownFields(),Ya="ECID",Ka=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:r,handleResponseForIdSyncs:o,getNamespacesFromResponse:a,getIdentity:i,consent:s,appendIdentityToUrl:c,logger:l,getIdentityOptionsValidator:d,decodeKndctrCookie:u})=>{let p,f={};return{lifecycle:{onBeforeRequest:({request:r,onResponse:o,onRequestFailure:a})=>(e(r.getPayload()),t(r.getPayload()),n({request:r,onResponse:o,onRequestFailure:a})),onResponse({response:e}){const t=a(e);return p&&p[Ya]||!t||!t[Ya]||r(t[Ya]),t&&Object.keys(t).length>0&&(p={...p,...t}),f={...f,...e.getEdge()},o(e)}},commands:{getIdentity:{optionsValidator:d,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(p)return;const n=u();return n&&t.includes(Ya)&&(p||(p={}),p[Ya]=n,1===t.length)?void 0:i(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=p[t]||null,e)),{}),edge:f})))}},appendIdentityToUrl:{optionsValidator:Xa,run:e=>s.withConsent().then((()=>{if(p)return;const t=u();return t?(p||(p={}),void(p[Ya]=t)):i(e)})).then((()=>({url:c(p[Ya],e.url)}))).catch((t=>(l.warn(`Unable to append identity to url. ${t.message}`),e)))}}}},Za=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:r,cookieJar:o})=>{const{idMigrationEnabled:a,orgId:i}=e,s=`AMCV_${i}`,c=()=>{let e=null;const t="s_ecid",n=o.get(t)||o.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,r=n.match(t);r&&(e=r[2])}return e};return{getEcid(){if(a){const e=c();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(a&&c()!==e){const t=r?{sameSite:"none",secure:!0}:{};o.set(s,`MCMID|${e}`,{domain:n,expires:390,...t})}}}},ei=({logger:e})=>new Promise(((t,n)=>{if(pe(window.adobe)&&pe(window.adobe.optIn)){const r=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),r.fetchPermissions((()=>{r.isApproved([r.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),ti=e=>{const t=e.Visitor;return Be(t)&&Be(t.getInstance)&&t},ni=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const r=ti(window);return r?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{r.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(`${t.message}, retrieving ECID from experience edge`):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},ri=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),oi=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:r,logger:o})=>{let a;const i=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(a){o.info("Delaying request while retrieving ECID from server.");const e=a;return a=e.catch((()=>r({onResponse:n,onRequestFailure:s}))),a.catch((()=>{})),e.then((()=>{o.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>i(t)))}return a=r({onResponse:n,onRequestFailure:s}),a.catch((()=>{})),i(t)}},ai="CORE",ii=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[Ya]}};return e&&t()&&n.identity.fetch.push(ai),e=>{e.mergeQuery(n)}},si=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},ci=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity(Ya)?Promise.resolve():e().then((e=>{e&&t(n,e)})),li="adobe_mc",di=e=>{try{return decodeURIComponent(e)}catch{return""}};const ui=300;var pi=({locationSearch:e,dateProvider:t,orgId:n,logger:r})=>o=>{if(o.hasIdentity(Ya))return;let a=dn.parse(e)[li];if(void 0===a)return;Array.isArray(a)&&(r.warn("Found multiple adobe_mc query string paramters, only using the last one."),a=a[a.length-1]);const i=a.split("|").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=di(r),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(i.TS,10),c=i.MCMID,l=di(i.MCORGID);t().getTime()/1e3<=s+ui&&l===n&&c?(r.info(`Found valid ECID identity ${c} from the adobe_mc query string parameter.`),o.addIdentity(Ya,{id:c})):r.info("Detected invalid or expired adobe_mc query string parameter.")},fi=(e,t)=>{e.addIdentity(Ya,{id:t})},gi=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:r,onRequestFailure:o})=>new Promise(((a,i)=>{r((()=>{e()?a():(n.warn(`Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID ${t} configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.`),i(new Error("Identity cookie not found.")))})),o((()=>{e()?a():i(new Error("Identity cookie not found."))}))})),mi=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),hi=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:r})=>({namespaces:o,edgeConfigOverrides:a}={})=>{const i=Mo({payload:t(o),globalConfigOverrides:r,localConfigOverrides:a}),s=n(i);return e({request:s})},yi=({payload:e,datastreamIdOverride:t})=>jo({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),vi=e=>{const t={query:{identity:{fetch:e}}};return Ro({content:t,addIdentity:Ao(t),hasIdentity:xo(t)})};const bi=/^([^?#]*)(\??[^#]*)(#?.*)$/,Ci=e=>""===e?"?":"?"===e?"":"&";var wi=({dateProvider:e,orgId:t})=>(n,r)=>{const o=Math.round(e().getTime()/1e3),a=encodeURIComponent(`TS=${o}|MCMID=${n}|MCORGID=${encodeURIComponent(t)}`),[,i,s,c]=r.match(bi);return`${i}${s}${Ci(s)}adobe_mc=${a}${c}`};const Ei=jr({namespaces:kr(Rr(Ya,ai)).nonEmpty().uniqueItems().default([Ya]),edgeConfigOverrides:_r}).noUnknownFields().default({namespaces:[Ya]});var Si=({thirdPartyCookiesEnabled:e})=>t=>{const n=Ei(t);if(!e&&n.namespaces.includes(ai))throw new Error(`namespaces: The ${ai} namespace cannot be requested when third-party cookies are disabled.`);return n};const Ii=1,ki=(e,t)=>{let n,r=0,o=0;do{if(t<0||t+o>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+o],r|=(127&n)<<7*o,o+=1,o>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:r,length:o}},Pi=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),Oi=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:r,length:o}=ki(e,t);t+=o;const a=7&r;if(r>>3===Ii){if(a===Pi.LEN){const r=ki(e,t);return t+=r.length,n=(new TextDecoder).decode(e.slice(t,t+r.value)),t+=r.value,n}}else switch(a){case Pi.VARINT:t+=ki(e,t).length;break;case Pi.I64:t+=8;break;case Pi.LEN:{const n=ki(e,t);t+=n.length+n.value;break}case Pi.SGROUP:case Pi.EGROUP:break;case Pi.I32:t+=4;break;default:throw new Error(`Malformed kndctr cookie. Unknown wire type: ${a}`)}}throw new Error("No ECID found in cookie.")},Di=e=>{const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))};var Ti=({orgId:e,cookieJar:t,logger:n})=>{const r=Tt(e,"identity");return()=>{const e=t.get(r);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=Di(t);return Oi(n)}catch(e){return n.warn(`Unable to decode ECID from ${r} cookie`,e),null}}};const Ai=({config:e,logger:t,consent:n,fireReferrerHideableImage:r,sendEdgeNetworkRequest:o,apexDomain:a,getBrowser:i})=>{const{orgId:s,thirdPartyCookiesEnabled:c,edgeConfigOverrides:l}=e,d=ni({logger:t,orgId:s,awaitVisitorOptIn:ei}),u=ke({logger:t,cookieJar:me}),p=Za({config:e,getEcidFromVisitor:d,apexDomain:a,cookieJar:u,isPageSsl:"https:"===window.location.protocol}),f=Ht({orgId:s}),g=hi({sendEdgeNetworkRequest:o,createIdentityRequestPayload:vi,createIdentityRequest:yi,globalConfigOverrides:l}),m=Ut({getBrowser:i}),h=si({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:m}),y=ci({getLegacyEcid:p.getEcid,addEcidToPayload:fi}),v=pi({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:s,logger:t}),b=gi({doesIdentityCookieExist:f,orgId:s,logger:t}),C=oi({doesIdentityCookieExist:f,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:y,awaitIdentityCookie:b,logger:t}),w=Ga({fireReferrerHideableImage:r,logger:t}),E=ri({processIdSyncs:w}),S=wi({dateProvider:()=>new Date,orgId:s}),I=Si({thirdPartyCookiesEnabled:c}),k=ii({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:m}),P=Ti({orgId:s,cookieJar:u,logger:t});return Ka({addEcidQueryToPayload:k,addQueryStringIdentityToPayload:v,ensureSingleIdentity:C,setLegacyEcid:p.setEcid,handleResponseForIdSyncs:E,getNamespacesFromResponse:mi,getIdentity:g,consent:n,appendIdentityToUrl:S,logger:t,getIdentityOptionsValidator:I,decodeKndctrCookie:P})};Ai.namespace="Identity",Ai.configValidators=Qa;const ji=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),co,lo].sort(),r={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(r[t]=n.toString())}));const o=t.getComponentNames();return{version:Da,configs:r,commands:n,components:o}},Ni=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:ji({config:e,componentRegistry:t})})}}});Ni.namespace="LibraryInfo";var Ri=Object.freeze({__proto__:null,context:Fa,dataCollector:Ja,identity:Ai,libraryInfo:Ni});const xi=Gt(window),{fetch:_i,navigator:Mi}=window,Li=Io(),Vi=Pt(window,me),$i=Po({fetch:_i}),Ui=vt(),qi=qo({window:window,createNamespacedStorage:xi}),Bi=Jt({userAgent:window.navigator.userAgent}),Fi=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:r},components:o})=>{const a=Fr(),i=qr(a),s=o.concat(Object.values(Ri)),c=e=>{t(e.enabled,{fromConfig:!1})},l=ke({logger:n,cookieJar:me}),d=o=>{const c=vo({options:o,componentCreators:s,coreConfigValidators:Li,createConfig:Co,logger:n,setDebugEnabled:t}),{orgId:d,targetMigrationEnabled:u}=c,p=Qo({orgId:d,targetMigrationEnabled:u}),f=zo({cookieJar:l,shouldTransferCookie:p,apexDomain:Vi,dateProvider:()=>new Date}),g=Be(Mi.sendBeacon)?Oo({sendBeacon:Mi.sendBeacon.bind(Mi),sendFetchRequest:$i,logger:n}):$i,m=Hr({logger:n,sendFetchRequest:$i,sendBeaconRequest:g,isRequestRetryable:da,getRequestRetryDelay:ha}),h=ia({logger:n}),y=zr({logger:n}),v=so({extractEdgeInfo:y}),b=sa({orgId:d,cookieJar:me}),C=ra({config:c,lifecycle:i,cookieTransfer:f,sendNetworkRequest:m,createResponse:v,processWarningsAndErrors:h,getLocationHint:b,getAssuranceValidationTokenParams:qi}),w=va({lifecycle:i,cookieTransfer:f,createResponse:v,processWarningsAndErrors:h}),E=to({logger:n}),S=no({generalConsentState:E,logger:n}),I=Fo({config:c,logger:n,lifecycle:i,consent:S,createEvent:oo,createDataCollectionRequestPayload:_o,createDataCollectionRequest:No,sendEdgeNetworkRequest:C,applyResponse:w});return bo({componentCreators:s,lifecycle:i,componentRegistry:a,getImmediatelyAvailableTools(t){const n=r(t);return{config:c,componentRegistry:a,consent:S,eventManager:I,fireReferrerHideableImage:Ui,logger:n,lifecycle:i,sendEdgeNetworkRequest:C,handleError:ko({errorPrefix:`[${e}] [${t}]`,logger:n}),createNamespacedStorage:xi,apexDomain:Vi,getBrowser:Bi}}})},u=ko({errorPrefix:`[${e}]`,logger:n});return uo({logger:n,configureCommand:d,setDebugCommand:c,handleError:u,validateCommandOptions:fo})},Hi=({eventManager:e,lifecycle:t,handleError:n})=>r=>{if(r.s_fe)return Promise.resolve();const o="composedPath"in r&&r.composedPath().length>0?r.composedPath()[0]:r.target,a=e.createEvent();return a.documentMayUnload(),t.onClick({event:a,clickedElement:o}).then((()=>a.isEmpty()?Promise.resolve():e.sendEvent(a))).then(nn).catch((e=>{n(e,"click collection")}))};var zi=({eventManager:e,lifecycle:t,handleError:n})=>{const r=Hi({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",r,!0)};const Ji="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",Wi=Nr().regexp().default(Ji),Gi=jr({clickCollectionEnabled:Pr().default(!0),clickCollection:jr({internalLinkEnabled:Pr().default(!0),externalLinkEnabled:Pr().default(!0),downloadLinkEnabled:Pr().default(!0),sessionStorageEnabled:Pr().default(!1),eventGroupingEnabled:Pr().default(!1),filterClickProperties:Or()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Wi,onBeforeLinkClickSend:Or().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Qi="cppXYctnr";var Xi=(e=document)=>null!==e.getElementById(Qi),Yi=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=`${window.location.protocol}//${e}`),new URL(t).hostname},Ki=(e,t)=>Yi(e)!==Yi(t);const Zi=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled);var es=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:r})=>{const{clickCollectionEnabled:o,clickCollection:a}=e;return o?({event:o,clickedElement:i})=>{const s=n({clickActivityStorage:r,clickedElement:i,config:e,logger:t}),c=s.linkType;Xi()||(s.isValidLink()&&Zi(a,c)?t.info(`Cancelling link click event due to clickCollection.${c}LinkEnabled = false.`):!s.isInternalLink()||!a.eventGroupingEnabled||e.onBeforeLinkClickSend&&!a.filterClickDetails||Ki(window.location.hostname,s.linkUrl)?s.isValidLink()?(o.mergeXdm(s.xdm),o.mergeData(s.data),r.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&r.save(s.properties):r.save(s.properties))}:()=>{}};const ts=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),ns=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),rs=(e,t)=>{const{xdm:n,data:r,clickedElement:o}=e;if(t.clickedElement=o,n&&n.web&&n.web.webInteraction){const{name:e,region:r,type:o,URL:a}=n.web.webInteraction;t.linkName=e,t.linkRegion=r,t.linkType=o,t.linkUrl=a}if(r&&r.__adobe&&r.__adobe.analytics){const{contextData:e}=r.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:r,region:o,pageIDType:a}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=r||t.linkName,t.linkRegion=o||t.linkRegion,void 0!==a&&(t.pageIDType=a)}}};var os=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:ts(this)},get data(){return n.filteredData?n.filteredData:ns(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),n={})},applyOptionsFilter(e){const r=this.options;if(r&&r.clickedElement&&(r.xdm||r.data)){if(e&&!1===e(r))return t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),void(this.options=void 0);this.options=r,n.filteredXdm=r.xdm,n.filteredData=r.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&rs(e,n)}}},as=({clickActivityStorage:e})=>t=>{if(Xi())return;const n=e.load(),r=os({properties:n});if(r.isValidLink()||r.isValidActivityMapData()){if(r.isValidLink()){const e=r.xdm;delete e.eventType,t.mergeXdm(e)}r.isValidActivityMapData()&&t.mergeData(r.data),e.save({pageName:r.pageName,pageIDType:r.pageIDType})}},is=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:r,findClickableElement:o,determineLinkType:a})=>({clickedElement:i,config:s,logger:c,clickActivityStorage:l})=>{const{onBeforeLinkClickSend:d,clickCollection:u}=s,{filterClickDetails:p}=u,f=os({logger:c});if(i){const c=o(i);if(c){f.clickedElement=i,f.linkUrl=r(e,c),f.linkType=a(e,s,f.linkUrl,c),f.linkRegion=n(c),f.linkName=t(c),f.pageIDType=0,f.pageName=e.location.href;const o=l.load();o&&o.pageName&&(f.pageName=o.pageName,f.pageIDType=1),p?f.applyPropertyFilter(p):d&&f.applyOptionsFilter(d)}}return f};const ss="clickData";var cs=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(ss,n)},load:()=>{let t=null;const n=e.getItem(ss);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(ss)}}),ls=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ds=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:r,downloadLinkQualifier:o}=e;!1===n&&(r&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),o&&o!==Ji&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},us=e=>e&&e.replace(/\s+/g," ").trim();const ps=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var fs=e=>!(e&&e.nodeName&&e.nodeName.match(ps));const gs=e=>{let t=[],n=!1;return fs(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((e=>{const r=gs(e);t=t.concat(r.supportedNodes),n=n||r.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},ms=(e,t,n)=>{let r;return n&&n!==e.nodeName.toUpperCase()||(r=e.getAttribute(t)),r},hs=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=us(e.getAttribute("alt"))),
t.title||(t.title=us(e.getAttribute("title"))),t.inputValue||(t.inputValue=us(ms(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=us(ms(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},ys=/^(HEADER|MAIN|FOOTER|NAV)$/i,vs=e=>{let t;return"region"===e.role&&tn(e["aria-label"])&&(t=e["aria-label"]),t},bs=e=>{let t;return e&&e.nodeName&&e.nodeName.match(ys)&&(t=e.nodeName),t};var Cs=(e,t)=>{const n=e.location.href;let r=t.href||"";"string"!=typeof r&&(r="");try{return new URL(r,n).href}catch{return n}},ws=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),Es=e=>!!e&&!!e.onclick,Ss=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Is=e=>"BUTTON"===e.tagName&&"submit"===e.type,ks=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},Ps=(e,t,n)=>{let r=!1;if(t)if(n&&n.download)r=!0;else if(e){const n=new RegExp(e),o=ks(t).toLowerCase();r=n.test(o)}return r},Os=(e,t)=>{let n=!1;if(t&&e.location.hostname){const r=e.location.hostname.toLowerCase();n=ks(t).toLowerCase().indexOf(r)<0}return n},Ds=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},Ts=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const As=is({window:window,getLinkName:e=>{let t=us(e.innerText||e.textContent);const n=gs(e);if(!t||n.includesUnsupportedNodes){const e=hs(n);t=us(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=us(n.id||vs(n)||bs(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:Cs,findClickableElement:e=>{let t=e;for(;t;){if(ws(t)||Es(t)||Ss(t)||Is(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,r)=>{let o="other";return tn(n)&&(Ps(t.downloadLinkQualifier,n,r)?o="download":Os(e,n)&&(o="exit")),o}});let js;const Ns=e=>{if(!js){const t=Gt(window)(e.orgId||""),n=Ts(),r=e.clickCollection.sessionStorageEnabled?t.session:n;js=cs({storage:r})}},Rs=({config:e,eventManager:t,handleError:n,logger:r})=>{ds(e,r);const o=e.clickCollection;js||Ns(e);const a=es({config:e,logger:r,clickActivityStorage:js,getClickedElementProperties:As}),i=as({clickActivityStorage:js}),s=ls({clickActivityStorage:js});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:r}=e;zi({eventManager:t,lifecycle:r,handleError:n})},onClick({event:e,clickedElement:t}){a({event:e,clickedElement:t})},onBeforeEvent({event:e}){Ds(e)&&(o.eventGroupingEnabled&&i(e),s(e,r,js))}}}};Rs.namespace="ActivityCollector",Rs.configValidators=Gi,Rs.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(js||Ns(e),{getLinkDetails:n=>As({clickActivityStorage:js,clickedElement:n,config:e,logger:t}).properties});const xs=e=>`URL destination succeeded: ${e.spec.url}`;var _s=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:r})=>{const o=r?{sameSite:"none",secure:!0}:{},a=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:r,domain:a,ttlDays:i}=e.spec;n.set(t,r||"",{domain:a||"",expires:i||10,...o})}))},i=n=>{const r=n.filter((e=>"url"===e.type));return Promise.all(r.map((n=>e(n.spec).then((()=>{t.info(xs(n))})).catch((()=>{}))))).then(nn)};return e=>(a(e),i(e))},Ms=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>t({response:e}).then((()=>n({response:e})))};const Ls=({logger:e,fireReferrerHideableImage:t})=>{const n=me.withConverter({write:e=>encodeURIComponent(e)}),r=ke({logger:e,cookieJar:n}),o=_s({fireReferrerHideableImage:t,logger:e,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ms({processDestinations:o})},commands:{}}};Ls.namespace="Audiences";var Vs=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:r,sendSetConsentRequest:o,validateSetConsentOptions:a,consentHashStore:i,doesIdentityCookieExist:s})=>{const c={[Qr]:n};let l=e.read();const d=s(),u=void 0!==l[Qr];d&&u||i.clear(),d||(e.clear(),l={}),r.initializeConsent(c,l);const p=()=>{if(0===t.length){const t=e.read();void 0!==t[Qr]&&r.setConsent(t)}};return{commands:{setConsent:{optionsValidator:a,run:({consent:e,identityMap:n,edgeConfigOverrides:a})=>{r.suspend();const s=i.lookup(e);return t.addTask((()=>s.isNew()?o({consentOptions:e,identityMap:n,edgeConfigOverrides:a}):Promise.resolve())).then((()=>s.save())).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}},$s=e=>Et(JSON.stringify(pn(e)));const Us=({standard:e,version:t})=>`${e}.${t}`;var qs=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},r=e=>{const t=Us(e),{standard:r,version:o,...a}=e;return n[t]||(n[t]=$s(a).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=Us(t),o=e.getItem(n);return null===o||o!==r(t)})),save(){t.forEach((t=>{const n=Us(t);e.setItem(n,r(t))}))}}}}),Bs=()=>{const e={},t=Ro({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])});return t.setConsent=t=>{e.consent=t},t},Fs=({payload:e,datastreamIdOverride:t})=>jo({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),Hs=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const r=Tt(t,Bt);return{read(){const t=n.get(r);return t?e(t):{}},clear(){n.remove(r)}}},zs=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:r})=>({consentOptions:o,identityMap:a,edgeConfigOverrides:i})=>{const s=Mo({payload:e(),globalConfigOverrides:r,localConfigOverrides:i});s.payload.setConsent(o),pe(a)&&Object.keys(a).forEach((e=>{a[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const c=t(s);return n({request:c}).then((()=>{}))},Js=e=>e.split(";").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}),Ws=jr({consent:kr(Ir()).required().nonEmpty(),identityMap:xr,edgeConfigOverrides:_r}).noUnknownFields().required(),Gs=jr({defaultConsent:Rr(Jr,Wr,Gr).default(Jr)});const Qs=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:r})=>{const{orgId:o,defaultConsent:a}=e,i=Hs({parseConsentCookie:Js,orgId:o,cookieJar:me}),s=Pe(),c=zs({createConsentRequestPayload:Bs,createConsentRequest:Fs,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),l=r(`${Dt(o)}.consentHashes.`),d=qs({storage:l.persistent}),u=Ht({orgId:o});return Vs({storedConsent:i,taskQueue:s,defaultConsent:a,consent:t,sendSetConsentRequest:c,validateSetConsentOptions:Ws,consentHashStore:d,doesIdentityCookieExist:u})};Qs.namespace="Consent",Qs.configValidators=Gs;var Xs=({createEventMergeId:e})=>({commands:{createEventMergeId:{run:e}}});const Ys=()=>Xs({createEventMergeId:Ie});Ys.namespace="EventMerge";var Ks={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Zs=({mediaRequestPayload:e,action:t})=>jo({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),ec=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:r,setTimestamp:o})=>({createMediaEvent({options:n}){const r=t.createEvent(),{xdm:a}=n;if(o(a),r.setUserXdm(a),a.eventType===Ks.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;r.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return r},createMediaSession(n){const{playerName:r,channel:o,appVersion:a}=e.streamingMedia,i=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return i.setUserXdm(n.xdm),i.mergeXdm({eventType:Ks.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||r,channel:s.channel||o,appVersion:s.appVersion||a}}}),i},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:r}){if(!t||!n)return e;const{playhead:o,qoeDataDetails:a}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:yn(o),qoeDataDetails:a,sessionID:r}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:r}){const o={mediaOptions:n,edgeConfigOverrides:r};return t.sendEvent(e,o)},trackMediaEvent({event:e,action:t}){const o=_o(),a=Zs({mediaRequestPayload:o,action:t});return o.addEvent(e),e.finalize(),n.awaitConsent().then((()=>r({request:a}).then((()=>({})))))}}),tc={MAIN:"main",COMPLETED:"completed"},nc=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=tc.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:r})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=r)}}};const rc=(e,t)=>e===Ks.AD_START||e===Ks.Ad_BREAK_START||e===Ks.AD_SKIP||e===Ks.AD_COMPLETE?"ad":e===Ks.AD_BREAK_COMPLETE||e===Ks.CHAPTER_COMPLETE||e===Ks.CHAPTER_START||e===Ks.CHAPTER_SKIP||e===Ks.SESSION_START?"main":e===Ks.SESSION_END||e===Ks.SESSION_COMPLETE?"completed":t;var oc=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const r=o=>{const a=e.createMediaEvent({options:o}),{playerId:i,xdm:s}=o,{eventType:c}=s,l=c.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:p}=t.getSession(i);return u.then((o=>o.sessionId?(e.augmentMediaEvent({event:a,eventType:c,playerId:i,getPlayerDetails:d,sessionID:o.sessionId}),e.trackMediaEvent({event:a,action:l}).then((()=>{if(i)if(c===Ks.SESSION_COMPLETE||c===Ks.SESSION_END)t.stopPing({playerId:i});else{const e=rc(c,p);if("completed"===e)return;const o="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,a=setTimeout((()=>{const e={playerId:i,xdm:{eventType:Ks.PING}};r(e)}),1e3*o);t.savePing({playerId:i,pingId:a,playbackState:e})}}))):Promise.reject(new Error(`Failed to trigger media event: ${c}. Session ID is not available for playerId: ${i}.`))))};return e=>r(e)},ac=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:r=!1})=>o=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:a,getPlayerDetails:i,edgeConfigOverrides:s}=o,c=t.createMediaSession(o);t.augmentMediaEvent({event:c,playerId:a,getPlayerDetails:i});const l=t.trackMediaSession({event:c,mediaOptions:{playerId:a,getPlayerDetails:i,legacy:r},edgeConfigOverrides:s});return n.storeSession({playerId:a,sessionDetails:{sessionPromise:l,getPlayerDetails:i,playbackState:tc.MAIN}}),l},ic=e=>!en(e)||!e.trim(),sc=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:r,playerId:o,getPlayerDetails:a})=>{const i=r.getPayloadsByType("media-analytics:new-session");if(Fe(i)){const{sessionId:r}=i[0];if(ic(r))return{};if(!o||!a)return{sessionId:r};const s=setTimeout((()=>{n({playerId:o,xdm:{eventType:Ks.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:o,pingId:s,playbackState:tc.MAIN}),{sessionId:r}}return{}};const cc={Video:"video",Audio:"audio"},lc={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},dc={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},uc={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},pc={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},fc={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},gc={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},mc={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},hc={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var yc=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:r,createMediaHelper:o,createGetInstance:a,config:s})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=nn}){if(!e)return;const{legacy:r,playerId:o,getPlayerDetails:a}=e;r&&t((({response:e})=>n({playerId:o,getPlayerDetails:a,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));r.info("Streaming media is configured in legacy mode.");const n=o({logger:r});return Promise.resolve({getInstance:()=>a({logger:r,trackMediaEvent:e,trackMediaSession:t,uuid:i}),Event:uc,MediaType:cc,PlayerState:dc,StreamType:lc,MediaObjectKey:fc,VideoMetadataKeys:gc,AudioMetadataKeys:mc,AdMetadataKeys:hc,...n})}}}}),vc=({logger:e})=>{const t=(t,n,r)=>{const o={friendlyName:t,offset:n,index:r},a=jr({friendlyName:Nr().nonEmpty(),offset:Tr(),index:Tr()});try{const e=a(o);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,r,o)=>{const a={friendlyName:t,name:n,podPosition:r,length:o},i=jr({friendlyName:Nr().nonEmpty(),name:Nr().nonEmpty(),podPosition:Tr(),length:Tr()});try{const e=i(a);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},r=(t,n,r,o)=>{const a={friendlyName:t,offset:n,length:r,index:o},i=jr({friendlyName:Nr().nonEmpty(),offset:Tr(),length:Tr(),index:Tr()});try{const e=i(a);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},o=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,r=Nr().matches(n,"This is not a valid state name.");try{return{name:r(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},a=(t,n,r,o)=>{const a={bitrate:t,droppedFrames:n,fps:r,startupTime:o},i=jr({bitrate:Tr(),droppedFrames:Tr(),fps:Tr(),startupTime:Tr()});try{const e=i(a);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,r,o,a)=>{const i={friendlyName:t,name:n,length:r,streamType:a,contentType:o},s=jr({friendlyName:Nr().nonEmpty(),name:Nr().nonEmpty(),length:Tr().required(),streamType:Nr().nonEmpty(),contentType:Nr().nonEmpty()});try{const e=s(i);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:Math.round(e.length),streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:r,createStateObject:o,createQoEObject:a}};const bc={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},Cc={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var wc=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:r})=>{let o=null;const a=()=>{o={qoe:null,lastPlayhead:0,playerId:r()}},i=({eventType:e})=>e===uc.BufferComplete||e===uc.SeekComplete?pc.Play:e===uc.StateStart||e===uc.StateEnd?pc.StateUpdate:e===uc.SeekStart?pc.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const r=i({eventType:e});if(e===uc.StateStart)return{eventType:`media.${r}`,mediaCollection:{statesStart:[t]}};if(e===uc.StateEnd)return{eventType:`media.${r}`,mediaCollection:{statesEnd:[t]}};const o={eventType:`media.${r}`,mediaCollection:{...t}},a=[];return Object.keys(n).forEach((e=>{bc[e]?o.mediaCollection.sessionDetails[bc[e]]=n[e]:Cc[e]?o.mediaCollection.advertisingDetails[Cc[e]]=n[e]:a.push({name:e,value:n[e]})})),Fe(a)&&(o.mediaCollection.customMetadata=a),o};return{trackSessionStart:(n,r={})=>{if(ue(n)||bt(n))return e.warn("Invalid media object"),{};null===o&&(e.warn("The Media Session was completed. Restarting a new session."),a());const i=s({eventType:pc.SessionStart,mediaDetails:n,contextData:r});return t({playerId:o.playerId,getPlayerDetails:()=>({playhead:o.lastPlayhead,qoeDataDetails:o.qoe}),xdm:i})},trackPlay:()=>{if(null===o)return e.warn("The Media Session was completed."),{};const t=s({eventType:pc.Play});return n({playerId:o.playerId,xdm:t})},trackPause:()=>{if(null===o)return e.warn("The Media Session was completed."),{};const t=s({eventType:pc.Pause});return n({playerId:o.playerId,xdm:t})},trackSessionEnd:()=>{if(null===o)return e.warn("The Media Session was completed."),{};const t=s({eventType:pc.SessionEnd});return n({playerId:o.playerId,xdm:t})},trackComplete:()=>{if(null===o)return e.warn("The Media Session was completed."),{};const t=s({eventType:pc.SessionComplete});return n({playerId:o.playerId,xdm:t})},trackError:t=>{if(e.warn(`trackError(${t})`),null===o)return e.warn("The Media Session was completed."),{};const r={name:t,source:"player"},a=s({eventType:pc.Error,mediaDetails:{errorDetails:r}});return n({playerId:o.playerId,xdm:a})},trackEvent:(t,r,a)=>{if(bt(r))return e.warn("Invalid media object."),{};if(null===o)return e.warn("The Media Session was completed."),{};if(!Object.values(uc).includes(t))return e.warn("Invalid event type"),{};const i=s({eventType:t,mediaDetails:r,contextData:a});return n({playerId:o.playerId,xdm:i})},updatePlayhead:t=>{null!==o?Yt(t)&&(o.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==o?t&&(o.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),o=null}}};const Ec=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:r,consent:o})=>{const a=nc(),i=ec({sendEdgeNetworkRequest:t,config:n,consent:o,eventManager:e,setTimestamp:Pa((()=>new Date))}),s=oc({mediaSessionCacheManager:a,mediaEventManager:i,config:n}),c=ac({config:n,mediaEventManager:i,mediaSessionCacheManager:a,legacy:!0}),l=sc({mediaSessionCacheManager:a,config:n,trackMediaEvent:s});return yc({mediaResponseHandler:l,trackMediaSession:c,trackMediaEvent:s,createMediaHelper:vc,createGetInstance:wc,logger:r,config:n})};Ec.namespace="Legacy Media Analytics";const Sc="web",Ic="webapp",kc="://",Pc="#",Oc=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Dc=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Tc=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Ac=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,jc=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Nc=e=>tn(e)?e.toLowerCase():"",Rc=e=>tn(e)?e.toLowerCase():"",xc=e=>tn(e)?jc(e):"/",_c=e=>{const t=e.match(Oc);return t?{surfaceType:Nc(t[1]),authority:Rc(t[2]),path:xc(t[3]),fragment:t[4]}:null},Mc=e=>`${e.surfaceType}${kc}${e.authority}${e.path||""}${e.fragment||""}`,Lc=e=>{const t=e(),n=t.host.toLowerCase(),r=t.pathname;return Sc+kc+n+jc(r)},Vc=(e,t)=>e.startsWith(Pc)?Lc(t)+e:e,$c=(e,t,n)=>{const r=e=>(n.warn(e),null);if(!tn(e))return r(`Invalid surface: ${e}`);const o=Vc(e,t),a=_c(o);return null===a?r(`Invalid surface: ${e}`):[Sc,Ic].includes(a.surfaceType)?a.authority&&Dc.test(a.authority)?a.path&&!Tc.test(a.path)?r(`Invalid path ${a.path} in surface: ${e}`):a.fragment&&!Ac.test(a.fragment)?r(`Invalid fragment ${a.fragment} in surface: ${e}`):a:r(`Invalid authority ${a.authority} in surface: ${e}`):r(`Unsupported surface type ${a.surfaceType} in surface: ${e}`)},Uc=e=>!!e&&0===e.indexOf(Sc+kc)&&-1===e.indexOf(Pc),qc=(e=[],t,n)=>e.map((e=>$c(e,t,n))).filter((e=>!ue(e))).map(Mc),Bc="https://ns.adobe.com/personalization/default-content-item",Fc="https://ns.adobe.com/personalization/dom-action",Hc="https://ns.adobe.com/personalization/html-content-item",zc="https://ns.adobe.com/personalization/json-content-item",Jc="https://ns.adobe.com/personalization/ruleset-item",Wc="https://ns.adobe.com/personalization/redirect-item",Gc="https://ns.adobe.com/personalization/message/in-app",Qc="https://ns.adobe.com/personalization/message/content-card",Xc="https://ns.adobe.com/personalization/eventHistoryOperation",Yc=e=>{e.includes(To)||e.push(To)},Kc=(e,t)=>{const n=Lc(t);e.includes(n)||e.push(n)},Zc=e=>e.filter(((t,n)=>e.indexOf(t)===n));var el=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:r,event:o,isCacheInitialized:a,logger:i})=>{const s=o.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!r.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!r.includeRenderedPropositions,getViewName:()=>s,hasScopes:()=>n.length>0||Fe(r.decisionScopes),hasSurfaces:()=>Fe(r.surfaces),hasViewName:()=>tn(s),createQueryDetails(){const t=[...n];Fe(r.decisionScopes)&&t.push(...r.decisionScopes);const o=qc(r.surfaces,e,i);this.shouldRequestDefaultPersonalization()&&(Yc(t),Kc(o,e));const a=[Bc,Hc,zc,Wc,Jc,Gc,Qc];return t.includes(To)&&a.push(Fc),{schemas:a,decisionScopes:Zc(t),surfaces:Zc(o)}},isCacheInitialized:()=>a,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return r.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==r.defaultPersonalizationEnabled}}};const tl="Rendering is disabled for authoring mode.",nl="decisioning.propositionDisplay",rl="decisioning.propositionInteract",ol="decisioning.propositionTrigger",al="decisioning.propositionDismiss",il="decisioning.propositionSuppressDisplay",sl=1,cl={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},ll={[nl]:cl.DISPLAY,[rl]:cl.INTERACT,[ol]:cl.TRIGGER,[al]:cl.DISMISS,[il]:cl.SUPPRESS},dl={[cl.DISPLAY]:nl,[cl.INTERACT]:rl,[cl.TRIGGER]:ol,[cl.DISMISS]:al,[cl.SUPPRESS]:il},ul=e=>ll[e],pl=e=>dl[e],fl={propositions:[]};var gl=({logger:e,options:t})=>{const n=jr({propositions:kr(jr({id:Nr().required(),scope:Nr().required(),scopeDetails:jr({decisionProvider:Nr().required()}).required(),items:kr(jr({id:Nr().required(),schema:Nr().required(),data:jr(Ir())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:jr(Ir()),viewName:Nr()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),fl}},ml=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:r,onClickHandler:o,isAuthoringModeEnabled:a,mergeQuery:i,viewCache:s,showContainers:c,applyPropositions:l,setTargetMigration:d,mergeDecisionsMeta:u,renderedPropositions:p,onDecisionHandler:f,handleConsentFlicker:g})=>({lifecycle:{onComponentsRegistered(){g()},onDecision:f,onBeforeRequest:({request:e})=>(d(e),Promise.resolve()),onBeforeEvent({event:o,renderDecisions:l,decisionScopes:d=[],personalization:f={},onResponse:g=nn,onRequestFailure:m=nn}){if(g((()=>({propositions:[]}))),m((()=>c())),a())return t.warn(tl),i(o,{enabled:!1}),Promise.resolve();const h=el({getPageLocation:e,renderDecisions:l,decisionScopes:d,personalization:f,event:o,isCacheInitialized:s.isInitialized(),logger:t}),y=[];if(h.shouldIncludeRenderedPropositions()&&y.push(p.clear()),h.shouldFetchData()){const e=s.createCacheUpdate(h.getViewName());m((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:h,event:o,onResponse:g})}else h.shouldUseCachedData()&&y.push(r({personalizationDetails:h,event:o,onResponse:g,onRequestFailure:m}));return Promise.all(y).then((e=>{const t=e.flatMap((e=>e));Fe(t)&&u(o,t,[cl.DISPLAY])}))},onClick({event:e,clickedElement:t}){o({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>gl({logger:t,options:e}),run:l}}}),hl=(e="undefined")=>Re(Le,{},{innerHTML:e});const yl=":eq(",vl=/:eq\((\d+)\)/g,bl=e=>-1===e.indexOf(yl),Cl=e=>e.split(vl).filter(tn),wl=/(#|\.)(-?\w+)/g,El=(e,t,n)=>`${t}${CSS.escape(n)}`,Sl=e=>e.replace(wl,El),Il=e=>{const t=[],n=Sl(e.trim()),r=Cl(n),{length:o}=r;let a=0;for(;a<o;){const e=r[a],n=r[a+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),a+=2}return t},kl=e=>{const t=document;if(bl(e))return Ke(e,t);const n=Il(e),{length:r}=n;let o=[],a=t,i=0;for(;i<r;){const{sel:e,eq:t}=n[i],s=Ke(e,a),{length:c}=s;if(0===c)break;if(null!=t&&t>c-1)break;i<r-1&&(null==t?[a]=s:a=s[t]),i===r-1&&(o=null==t?s:[s[t]]),i+=1}return o};var Pl=(e,t=document)=>t.getElementById(e),Ol=(e,t,n)=>{e.setAttribute(t,n)},Dl=(e,t)=>e.getAttribute(t),Tl=(e,t)=>{e.removeAttribute(t)},Al=(e,t,n,r)=>{let o;o=r?`${t}:${n} !${r};`:`${t}:${n};`,e.style.cssText+=`;${o}`},jl=e=>e.parentNode,Nl=e=>e.nextElementSibling,Rl=(e,t)=>{if(!e)return;const n=jl(e);n&&n.insertBefore(t,Nl(e))},xl=(e,t)=>{if(!e)return;const n=jl(e);n&&n.insertBefore(t,e)},_l=e=>{const{children:t}=e;return t?He(t):[]},Ml=e=>{const{childNodes:t}=e;return t?He(t):[]},Ll=e=>e.firstElementChild;let Vl;var $l=(e=document)=>{if(void 0===Vl){const t=e.querySelector("[nonce]");Vl=t&&(t.nonce||t.getAttribute("nonce"))}return Vl};const Ul="src",ql=e=>e.tagName===Me,Bl=e=>Re(Me,{src:e}),Fl=e=>{Ke(Me,e).forEach((e=>{const t=Dl(e,Ul);t&&Bl(t)}))},Hl=(e,t)=>e.tagName===t,zl=e=>Hl(e,Ve)&&!Dl(e,Ul);var Jl=e=>{const t=Ke(Ve,e),{length:n}=t,r=$l();if(r)for(let e=0;e<n;e+=1){const n=t[e];zl(n)&&(n.nonce=r)}};const Wl=(e,t)=>new Promise(((n,r)=>{t.onload=()=>{n(t)},t.onerror=()=>{r(new Error(`Failed to load script: ${e}`))}})),Gl=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=Wl(e,t);return document.head.appendChild(t),n},Ql=(e,t)=>!!e&&e.tagName===t,Xl=e=>Ql(e,$e)&&!Dl(e,Ul),Yl=e=>Ql(e,$e)&&Dl(e,Ul),Kl=e=>{const t=Ke($e,e),n=[],{length:r}=t,o=$l(),a={...o&&{nonce:o}};for(let e=0;e<r;e+=1){const r=t[e];if(!Xl(r))continue;const{textContent:o}=r;o&&n.push(Re($e,a,{textContent:o}))}return n},Zl=e=>{const t=Ke($e,e),n=[],{length:r}=t;for(let e=0;e<r;e+=1){const r=t[e];if(!Yl(r))continue;const o=Dl(r,Ul);o&&n.push(o)}return n},ed=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},td=e=>Promise.all(e.map(Gl));var nd=(e,t,n)=>{const r=hl(t);Jl(r);const o=Ml(r),a=Kl(r),i=Zl(r);return Fl(r),o.forEach((t=>{je(e,t)})),n(e),ed(e,a),td(i)};const rd=e=>{Ml(e).forEach(mt)};var od=(e,t,n)=>(rd(e),nd(e,t,n)),ad=(e,t,n)=>{const r=hl(t);Jl(r);const o=Ml(r),a=Kl(r),i=Zl(r),{length:s}=o;let c=s-1;for(Fl(r);c>=0;){const t=o[c];n(t);const r=Ll(e);r?xl(r,t):je(e,t),c-=1}return ed(e,a),td(i)};const id="alloy-prehiding",sd="{ visibility: hidden }",cd={},ld=e=>{if(cd[e])return;const t=$l(),n={...t&&{nonce:t}},r=Re(Ve,n,{textContent:`${e} ${sd}`});je(document.head,r),cd[e]=r},dd=e=>{const t=cd[e];t&&(mt(t),delete cd[e])},ud=e=>t=>{if(!t)return;if(Pl(id))return;const n=$l(),r={id:id,...n&&{nonce:n}},o=Re(Ve,r,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),je(document.head,o)},pd=e=>()=>{const t=Pl(id);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),mt(t))};var fd=(e,t,n)=>{n(e),e.textContent=t},gd=(e,t,n)=>{const r=hl(t);Jl(r);const o=Ml(r),a=Kl(r),i=Zl(r);return Fl(r),o.forEach((t=>{n(t),xl(e,t)})),ed(e,a),td(i)},md=(e,t,n)=>gd(e,t,n).then((()=>{mt(e)})),hd=(e,t,n)=>{const r=hl(t);Jl(r);const o=Ml(r),a=Kl(r),i=Zl(r);Fl(r);let s=e;return o.forEach((e=>{n(e),Rl(s,e),s=e})),ed(e,a),td(i)},yd=(e,t,n)=>{const{priority:r,...o}=t;Object.keys(o).forEach((t=>{Al(e,t,o[t],r)})),n(e)},vd=(e,t,n)=>{Object.keys(t).forEach((n=>{Ol(e,n,t[n])})),n(e)},bd=(e,t,n)=>{ql(e)&&(Bl(t),n(e),Tl(e,Ul),Ol(e,Ul,t))},Cd=(e,{from:t,to:n},r)=>{const o=_l(e),a=o[t],i=o[n];a&&i&&(t<n?Rl(i,a):xl(i,a),r(i),r(a))};const wd=({containers:e,content:t,decorateProposition:n,renderFunc:r,renderStatusHandler:o})=>{const a=e.filter(o.shouldRender).map((async e=>{await r(e,t,n),o.markAsRendered(e)}));return Promise.all(a)},Ed=e=>async(t,n,r)=>{const{selector:o,prehidingSelector:a,content:i}=t;ld(a);try{const t=await ft(o,kl);wd({containers:t,content:i,decorateProposition:n,renderFunc:e,renderStatusHandler:r})}finally{dd(a)}},Sd=e=>`${e}`.endsWith("px")?e:`${e}px`;var Id=(e,t,n)=>{const{priority:r,...o}=t;Object.keys(o).forEach((t=>{let n=o[t];"left"!==t&&"top"!==t||(n=Sd(n)),Al(e,t,n,r)})),n(e)},kd=(e,t,n)=>{n(e)},Pd=(e,t,n)=>{const{priority:r,...o}=t;Object.keys(o).forEach((t=>{let n=o[t];"width"!==t&&"height"!==t||(n=Sd(n)),Al(e,t,n,r)})),n(e)};const Od="setHtml",Dd="customCode",Td="setText",Ad="setAttribute",jd="setImageSource",Nd="setStyle",Rd="move",xd="resize",_d="rearrange",Md="remove",Ld="insertAfter",Vd="insertBefore",$d="replaceHtml",Ud="prependHtml",qd="appendHtml",Bd="click",Fd="collectInteractions";var Hd=()=>({[Od]:Ed(od),[Dd]:Ed(ad),[Td]:Ed(fd),[Ad]:Ed(vd),[jd]:Ed(bd),[Nd]:Ed(yd),[Rd]:Ed(Id),[xd]:Ed(Pd),[_d]:Ed(Cd),[Md]:Ed(mt),[Ld]:Ed(hd),[Vd]:Ed(gd),[$d]:Ed(md),[Ud]:Ed(ad),[qd]:Ed(nd),[Fd]:Ed(kd)}),zd=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:r,documentMayUnload:o=!1,eventType:a=nl,propositionEventTypes:i=[ul(a)],viewName:s})=>{const c=e.createEvent(),l={eventType:a};return s&&(l.web={webPageDetails:{viewName:s}}),Fe(n)&&t(c,n,i,r),c.mergeXdm(l),o&&c.documentMayUnload(),e.sendEvent(c)};const Jd="personalization:decisions";var Wd=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:r,mergeQuery:o,processPropositions:a,createProposition:i,notificationHandler:s,consent:c})=>({cacheUpdate:l,personalizationDetails:d,event:u,onResponse:p})=>{const{state:f,wasSet:g}=c.current();"out"===f&&g||(d.isRenderDecisions()?r(t):n()),o(u,d.createQueryDetails());const m=s(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());p((({response:t})=>{const r=t.getPayloadsByType(Jd);Fe(r)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});const o=r.map((e=>i(e))),{page:s=[],view:c=[],proposition:u=[]}=At(o,(e=>e.getScopeType())),p=l.update(c);let f,g,h;return d.isRenderDecisions()?(({render:f,returnedPropositions:g,returnedDecisions:h}=a([...s,...p],u)),Fe(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:To,propositions:s.map((e=>e.toJSON()))}}),Fe(p)&&e.logOnContentRendering({status:"rendering-started",message:`Rendering propositions started for view scope - ${d.getViewName()}.`,logLevel:"info",detail:{scope:d.getViewName(),propositions:p.map((e=>e.toJSON()))}}),f().then(m),n()):({returnedPropositions:g,returnedDecisions:h}=a([],[...s,...p,...u])),{propositions:g,decisions:h}}))},Gd=(e,t)=>{if(bl(e))return gt(e,t);const n=kl(e);let r=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){r=!0;break}return r};const Qd="view",Xd="page",Yd="proposition",Kd=e=>e.map((e=>{
const{trackingLabel:t,scopeType:n,...r}=e;return r})),Zd=e=>e.filter(((t,n)=>{const r=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===r))})),eu=(e,t,n)=>{const{documentElement:r}=document;let o=e,a=0;for(;o&&o!==r;){if(Gd(t,o)){const e=n(t),r={metas:e},o=e.find((e=>e.trackingLabel));o&&(r.label=o.trackingLabel,r.weight=a);const i=e.find((e=>e.scopeType===Qd));return i&&(r.viewName=i.scope,r.weight=a),r}o=o.parentNode,a+=1}return{metas:null}};var tu=(e,t,n)=>{const r=[];let o,a="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let c=0;c<t.length;c+=1){const{metas:l,label:d,weight:u,viewName:p}=eu(e,t[c],n);l&&(d&&u<=i&&(a=d,i=u),p&&u<=s&&(o=p,s=u),r.push(...Kd(l)))}return{decisionsMeta:Zd(r),propositionActionLabel:a,propositionActionToken:void 0,viewName:o}},nu=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const ru=(e,t,n,r)=>{if(0===t.length)return;const o={};n.forEach((e=>{o[e]=sl}));const a={_experience:{decisioning:{propositions:t,propositionEventType:o}}};r&&(a._experience.decisioning.propositionAction=r),e.mergeXdm(a)},ou=(e,t)=>{e.mergeQuery({personalization:{...t}})},au=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var iu=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:r,getClickMetas:o,getClickSelectors:a,autoCollectPropositionInteractions:i})=>({event:s,clickedElement:c})=>{const l=[];let d,u,p;if([t(c,r,i),n(c,a(),o)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:r})=>{Array.prototype.push.apply(l,e),!d&&t&&(d=t),!u&&n&&(u=n),!p&&r&&(p=r)})),Fe(l)){const t={eventType:rl};p&&(t.web={webPageDetails:{viewName:p}}),s.mergeXdm(t),e(s,l,[cl.INTERACT],au(d,u))}},su=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const r=(t,n)=>{const r=t[n.toLowerCase()];return r&&r.length>0?r:[e({scope:n,scopeDetails:{characteristics:{scopeType:Qd}},items:[{schema:Bc}]},!1)]};return{createCacheUpdate:e=>{const o=Oe();return t=!0,n=n.then((e=>o.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),a=At(n,(e=>e.getScope().toLowerCase()));return o.resolve(a),e?r(a,e):[]},cancel(){o.reject()}}},getView:e=>n.then((t=>r(t,e))),isInitialized:()=>t}},cu=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:r,onResponse:o})=>{let a,i;const s=r.getViewName();return o((()=>({propositions:a,decisions:i}))),t.getView(s).then((t=>{let o;return r.isRenderDecisions()?(({render:o,returnedPropositions:a,returnedDecisions:i}=e(t)),n.logOnContentRendering({status:"rendering-started",message:`Started rendering propositions for view scope - ${s}.`,logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),o()):(({returnedPropositions:a,returnedDecisions:i}=e([],t)),[])}))};const lu=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var du=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:r,scopeDetails:o,trackingLabel:a,scopeType:i}})=>{e[t]||(e[t]={}),e[t][n]={scope:r,scopeDetails:o,trackingLabel:a,scopeType:i}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?lu(e[t]):{}}},uu=()=>{const e={},t={};return{storeInteractionMeta:(n,r,o,a,i)=>{i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][n]||(t[i][n]=new Set),t[i][n].add(r),e[i][n]={...a,scopeType:o}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,r)=>(Object.keys(e[r]||{}).forEach((o=>{n[o]||(n[o]={proposition:e[r][o],items:new Set}),n[o].items=new Set([...n[o].items,...t[r][o]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const pu=(e,t)=>e===zc&&t===Fd,fu={[Fc]:()=>!0,[Hc]:()=>!0,[zc]:pu,[Gc]:()=>!0,[Bc]:()=>!0},gu=(e,t)=>"function"==typeof fu[e]&&fu[e](e,t);var mu=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:r})=>{const o=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:r}=t;return e.filter((e=>gu(e.schema,n))).map((e=>{const{schema:o}=e;return o===Hc||pu(o,n)?bt(t)?void 0:{...e,schema:pu(o,n)?Fc:o,data:{...e.data,selector:r,type:n}}:{...e}})).filter((e=>e))},a=e=>!(e.scope===To&&e.renderAttempted),i=({propositions:e,metadata:t})=>e.filter(a).map((e=>{if(Fe(e.items)){const{id:n,scope:r,scopeDetails:a}=e;return{id:n,scope:r,scopeDetails:a,items:o({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>Fe(e.items)));return({propositions:o=[],metadata:a={},viewName:s})=>{const c=Oe();n.concat(c.promise);const l=i({propositions:o,metadata:a}).map((e=>t(e)));return Promise.resolve().then((()=>s?r.getView(s):[])).then((t=>{const{render:n,returnedPropositions:r}=e([...l,...t]);return n().then(c.resolve),{propositions:r}}))}},hu=({window:e})=>()=>e.location,yu=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:nn;const vu="BODY > *:eq(0)";var bu=e=>{const{selector:t,type:n}=e;return n!==Dd||t!==vu?e:{...e,selector:"BODY"}};const Cu="SCRIPT,LINK,STYLE",wu=e=>{const t=hl(e);return Ke(Cu,t).map((e=>e.outerHTML)).join("")};var Eu=e=>{const t={...e},{content:n,selector:r}=t;if(ic(n))return t;if(null==r)return t;const o=kl(r);return Ql(o[0],Ue)?(t.type=qd,t.content=wu(n),t):t},Su=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,Iu=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:r,schema:o,data:a,characteristics:{trackingLabel:i}={}}=t,s=a?a.type:void 0,c=e(a);return{getId:()=>r,getSchema:()=>o,getSchemaType:()=>s,getData:()=>c,getProposition:()=>n,getTrackingLabel:()=>i,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,r=!0,o=!1)=>{const{id:a,scope:i,scopeDetails:s,items:c=[]}=e,{characteristics:{scopeType:l}={}}=s||{};return{getScope:()=>i,getScopeType:()=>i===To||t(i)?Xd:l===Qd?Qd:Yd,getItems(){return c.map((e=>n(e,this)))},getNotification:()=>({id:a,scope:i,scopeDetails:s}),getId:()=>a,toJSON:()=>e,shouldSuppressDisplay:()=>o,addToReturnValues(t,n,o,a){r&&(t.push({...e,items:o.map((e=>e.getOriginalItem())),renderAttempted:a}),a||n.push({...e,items:o.map((e=>e.getOriginalItem()))}))}}}},ku=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},Pu=()=>({render:nn,setRenderAttempted:!0,includeInNotification:!0});const Ou="always",Du="never",Tu="decoratedElementsOnly",Au=[Ou,Du,Tu],ju="data-aep-interact-id",Nu="data-aep-click-label",Ru="data-aep-click-token";let xu=0;const _u=(e,t)=>t?parseInt(t,10):++xu,Mu=(e,t)=>!!e&&!!e[t]&&[Ou,Tu].includes(e[t]),Lu=(e,t,n,r,o,a,i,s)=>{const{scopeDetails:c={}}=i,{decisionProvider:l}=c;return Mu(e,l)||t===Bd?e=>{if(!e.tagName)return;const t=_u(n,Dl(e,ju));s(n,r,a,i,t),Ol(e,ju,t),o&&!Dl(e,Nu)&&Ol(e,Nu,o)}:nn};var Vu=(e,t)=>e!==Qd?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>!e||!(e.dataset.adobePropositionIds??"").split(",").includes(t),markAsRendered:e=>{const n=(e.dataset.adobePropositionIds??"").split(",");n.includes(t)||n.push(t),e.dataset.adobePropositionIds=n.sort().join(",")}},$u=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:r,autoCollectPropositionInteractions:o})=>a=>{const{type:i,selector:s}=a.getData()||{};if(!i)return t.warn("Invalid DOM action data: missing type.",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(i===Bd)return s?(r({selector:s,meta:{...a.getProposition().getNotification(),trackingLabel:a.getTrackingLabel(),scopeType:a.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",a.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[i])return t.warn("Invalid DOM action data: unknown type.",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};const c=Vu(a.getProposition().getScopeType(),a.getId()),l=Lu(o,i,a.getProposition().getId(),a.getId(),a.getTrackingLabel(),a.getProposition().getScopeType(),a.getProposition().getNotification(),n);return{render:()=>e[i](a.getData(),l,c),setRenderAttempted:!0,includeInNotification:!0}},Uu=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:r})=>o=>{const{type:a,selector:i}=o.getData()||{};if(!i||!a)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[a])return t.warn("Invalid HTML content data",o.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=Lu(r,a,o.getProposition().getId(),o.getId(),o.getTrackingLabel(),o.getProposition().getScopeType(),o.getProposition().getNotification(),n),c=Vu(o.getProposition().getScopeType(),o.getId());return{render:()=>e[a](o.getData(),s,c),setRenderAttempted:!0,includeInNotification:!0}};const qu="BODY";var Bu=({logger:e,executeRedirect:t,collect:n})=>r=>{const{content:o}=r.getData()||{};return o?{render:()=>(ld(qu),n({decisionsMeta:[r.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:r.getProposition().getNotification(),redirect:o},message:`Redirect action ${r.toString()} executed.`,logLevel:"info"}),t(o)))).catch((e=>{throw dd(qu),e}))),setRenderAttempted:!0,onlyRenderThis:!0}:(e.warn("Invalid Redirect data",r.getData()),{})},Fu=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info(`Action ${n.toString()} executed.`),n.toJSON()))).catch((e=>{const{message:r,stack:o}=e,a=`Failed to execute action ${n.toString()}. ${r} ${o}`;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:a,logLevel:"warn"})})),r=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&Fe(n))return{...t,items:n}},o=t=>{const n=e[t.getSchema()];return n?n(t):{}},a=({renderers:e,returnedPropositions:t,returnedDecisions:a,items:i,proposition:s})=>{let c,l,d,u,p=[...e],f=[...t],g=[...a],m=[],h=[],y=[],v=!1,b=!1,C=0;for(;i.length>C;){if(u=i[C],({render:c,setRenderAttempted:l,includeInNotification:d,onlyRenderThis:b}=o(u)),b){f=[],g=[],l?(m=[u],h=[]):(m=[],h=[u]),p=[],y=[c],v=d;break}c&&y.push(n(c,u)),d&&(v=!0),l?m.push(u):h.push(u),C+=1}if(y.length>0){const e=v?s.getNotification():void 0;p.push((()=>r(y,e)))}else v&&p.push((()=>Promise.resolve(s.getNotification())));return m.length>0&&s.addToReturnValues(f,g,m,!0),h.length>0&&s.addToReturnValues(f,g,h,!1),{renderers:p,returnedPropositions:f,returnedDecisions:g,onlyRenderThis:b}};return(e,n=[])=>{let r,o,i,s=[],c=[],l=[],d=0;for(;e.length>d&&(o=e[d],i=o.getItems(),({renderers:s,returnedPropositions:c,returnedDecisions:l,onlyRenderThis:r}=a({renderers:s,returnedPropositions:c,returnedDecisions:l,items:i,proposition:o})),!r);)d+=1;return r&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(c,l,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),r=n.map((e=>{const{id:t,scope:n,scopeDetails:r}=e;return{id:t,scope:n,scopeDetails:r}}));if(Fe(n)){const e=At(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:`Scopes: ${JSON.stringify(e)} successfully executed.`,logLevel:"info"})}return r}))}}};const Hu=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===Gc))&&(e+=1,e>1)}};var zu=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:r,propositions:o,event:a,personalization:i={}})=>{if(!r)return Promise.resolve();const{sendDisplayEvent:s=!0}=i,c=a?a.getViewName():void 0,l=Hu(),d=o.map((e=>t(e,!0,l(e)))),{render:u,returnedPropositions:p}=e(d),f=n(r,s,c),g=d.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!g[e.id].shouldSuppressDisplay())),n=e.filter((e=>g[e.id].shouldSuppressDisplay()));f(t,n)})),Promise.resolve({propositions:p})};const Ju="text/html",Wu="application/json",Gu="defaultContent",Qu=["content","contentType"],Xu=["mobileParameters","webParameters","html"],Yu=(e,t)=>{for(let n=0;n<Qu.length;n+=1){const r=Qu[n];if(!Object.prototype.hasOwnProperty.call(e,r))return t.warn(`Invalid in-app message data: missing property '${r}'.`,e),!1}const{content:n,contentType:r}=e;if(r===Wu)for(let r=0;r<Xu.length;r+=1){const o=Xu[r];if(!Object.prototype.hasOwnProperty.call(n,o))return t.warn(`Invalid in-app message data.content: missing property '${o}'.`,e),!1}return!0};var Ku=({modules:e,logger:t})=>n=>{const r=n.getData(),o=n.getProposition(),a={...o.getNotification()},i=o.shouldSuppressDisplay();if(!r)return t.warn("Invalid in-app message data: undefined.",r),{};const{type:s=Gu}=r;return e[s]?Yu(r,t)?a?{render:()=>i?null:e[s]({...r,meta:a}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",a),{}):{}:(t.warn("Invalid in-app message data: unknown type.",r),{})};const Zu=e=>{const t=Ke(`#${e}`,document);t&&t.length>0&&mt(t[0])},ep=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const r=n.split("?"),o=r[0].split("://")[1],a=e.innerText,i=e.getAttribute("data-uuid")||"";let s,c;if(Fe(r)){const e=dn.parse(r[1]);s=e.interaction||"",c=di(e.link||"")}return{action:o,interaction:s,link:c,label:a,uuid:i}};var tp=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const np="alloy-messaging-container",rp="alloy-overlay-container",op="alloy-content-iframe",ap=()=>[np,rp].forEach(Zu),ip=(e,t=tp(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:r}=n,o="a"===r.tagName.toLowerCase()?r:r.closest("a");if(!o)return;const{action:a,interaction:i,link:s,label:c,uuid:l}=ep(o);e(a,{label:c,id:i,uuid:l,link:s}),"dismiss"===a&&ap(),tn(s)&&s.length>0&&t(s,!0)},sp=(e,t)=>{const n=(new DOMParser).parseFromString(e,Ju),r=n.querySelector("script");r&&r.setAttribute("nonce",$l());const o=Re("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:op});return o.addEventListener("load",(()=>{const{addEventListener:e}=o.contentDocument||o.contentWindow.document;e("click",t)})),o},cp=(e,t,n,r)=>{[{id:rp,element:r},{id:np,element:n},{id:op,element:e}].forEach((({id:e,element:n})=>{const{style:r={},params:o={}}=t[e];Object.assign(n.style,r);const{parentElement:a="body",insertionMethod:i="appendChild",enabled:s=!0}=o,c=document.querySelector(a);s&&c&&"function"==typeof c[i]&&c[i](n)}))},lp=e=>{const{verticalAlign:t,width:n,horizontalAlign:r,backdropColor:o,height:a,cornerRadius:i,horizontalInset:s,verticalInset:c,uiTakeover:l=!1}=e,d={width:n?`${n}%`:"100%",backgroundColor:o||"rgba(0, 0, 0, 0.5)",borderRadius:i?`${i}px`:"0px",border:"none",position:l?"fixed":"relative",overflow:"hidden"};return"left"===r?d.left=s?`${s}%`:"0":"right"===r?d.right=s?`${s}%`:"0":"center"===r&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?`${c}%`:"0":"bottom"===t?(d.position="fixed",d.bottom=c?`${c}%`:"0"):"center"===t&&(d.top="50%",d.transform=("center"===r?`${d.transform} `:"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=a?`${a}vh`:"100%",d},dp=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},up=["enabled","parentElement","insertionMethod"],pp=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(np))return!1;if(!t.includes(rp))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!jr(n[e],"style"))return!1;if(!jr(n[e],"params"))return!1;for(let t=0;t<up.length;t+=1)if(!jr(n[e].params,up[t]))return!1}return!0},fp=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[op]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[np]:{style:lp(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[rp]:{style:dp(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},gp=(e={},t)=>{ap();const{content:n,contentType:r,mobileParameters:o}=e;let{webParameters:a}=e;if(r!==Ju)return;const i=Re("div",{id:np}),s=sp(n,ip(t)),c=Re("div",{id:rp});pp(a)||(a=fp(o)),a&&cp(s,a,i,c)};var mp=(e,t)=>new Promise((n=>{const{meta:r}=e;gp(e,((e,n)=>{const o={};o[cl.INTERACT]=sl,-1!==Object.values(cl).indexOf(e)&&(o[e]=sl),t({decisionsMeta:[r],propositionAction:n,eventType:rl,propositionEventTypes:Object.keys(o)})})),n({meta:r})})),hp=e=>({defaultContent:t=>mp(t,e)}),yp=(e,t)=>(n,r,o)=>{if(!n)return()=>{};if(!r){const e=Oe();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{Fe(t)&&e({decisionsMeta:t,viewName:o}),Fe(n)&&e({decisionsMeta:n,eventType:il,propositionAction:{reason:"Conflict"},viewName:o})}},vp=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:r}=t.current();n===Wr&&r?e():t.awaitConsent().catch(e)};const bp=e=>{const{documentElement:t}=document;let n=e;const r=new Set;let o,a;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=Dl(n,ju);e&&r.add(e),o=o||Dl(n,Nu),a=a||Dl(n,Ru),n=n.parentNode}return{interactIds:[...r],clickLabel:o,clickToken:a}},Cp=e=>{const t=e.find((e=>e.scopeType===Qd));return t?t.scope:void 0},wp=(e,t,n)=>r=>{const{scopeDetails:o={}}=r,{decisionProvider:a}=o;return e[a]===Ou||e[a]===Tu&&(t||n)};var Ep=(e,t,n)=>{const{interactIds:r,clickLabel:o="",clickToken:a}=bp(e),i=wp(n,o,a);if(0===r.length)return{};const s=t(r).filter(i);return{decisionsMeta:Kd(s),propositionActionLabel:o,propositionActionToken:a,viewName:Cp(s)}};const Sp="personalization:decisions",Ip="AJO",kp="TGT",Pp=({config:e,logger:t,eventManager:n,consent:r})=>{const{targetMigrationEnabled:o,prehidingStyle:a,autoCollectPropositionInteractions:i}=e,s=zd({eventManager:n,mergeDecisionsMeta:ru}),c=pd(t),l=ud(t),{storeInteractionMeta:d,getInteractionMetas:u}=uu(),{storeClickMeta:p,getClickSelectors:f,getClickMetas:g}=du(),m=hu({window:window}),h=Hd(),y=Su([Eu,bu]),v=Iu({preprocess:y,isPageWideSurface:Uc}),b=su({createProposition:v}),C=tp(window),w={[Bc]:Pu,[Fc]:$u({modules:h,logger:t,storeInteractionMeta:d,storeClickMeta:p,autoCollectPropositionInteractions:i}),[Hc]:Uu({modules:h,logger:t,storeInteractionMeta:d,autoCollectPropositionInteractions:i}),[Wc]:Bu({logger:t,executeRedirect:C,collect:s}),[Gc]:Ku({modules:hp(s),logger:t})},E=Fu({schemaProcessors:w,logger:t}),S=ku(),I=yp(s,S),k=Wd({prehidingStyle:a,showContainers:c,hideContainers:l,mergeQuery:ou,processPropositions:E,createProposition:v,notificationHandler:I,consent:r,logger:t}),P=iu({mergeDecisionsMeta:ru,collectInteractions:Ep,collectClicks:tu,getInteractionMetas:u,getClickMetas:g,getClickSelectors:f,autoCollectPropositionInteractions:i}),O=cu({processPropositions:E,viewCache:b,logger:t}),D=mu({processPropositions:E,createProposition:v,renderedPropositions:S,viewCache:b}),T=yu({targetMigrationEnabled:o}),A=zu({processPropositions:E,createProposition:v,notificationHandler:I}),j=vp({showContainers:c,consent:r});return ml({getPageLocation:m,logger:t,fetchDataHandler:k,viewChangeHandler:O,onClickHandler:P,isAuthoringModeEnabled:nu,mergeQuery:ou,viewCache:b,showContainers:c,applyPropositions:D,setTargetMigration:T,mergeDecisionsMeta:ru,renderedPropositions:S,onDecisionHandler:A,handleConsentFlicker:j})};Pp.namespace="Personalization";const Op=Au.map((e=>Dr(e)));Pp.configValidators=jr({prehidingStyle:Nr().nonEmpty(),targetMigrationEnabled:Pr().default(!1),autoCollectPropositionInteractions:jr({[Ip]:Sr(Op).default(Ou),[kp]:Sr(Op).default(Du)}).default({[Ip]:Ou,[kp]:Du}).noUnknownFields()});const Dp=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,Tp=(e,t={},n=[])=>(Object.keys(e).forEach((r=>{Dp(e[r])||Array.isArray(e[r])?Tp(e[r],t,[...n,r]):t[[...n,r].join(".")]=e[r]})),t);var Ap=e=>Dp(e)?Tp(e):e,jp=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:r,personalization:o,decisionContext:a})=>{const i={...Ap(r.getContent()),...a};return({response:a})=>{if(t.addPayloads(a.getPayloadsByType(Sp)),!r.hasQuery())return{propositions:[]};const s=t.evaluate(i);return n({renderDecisions:e,propositions:s,event:r,personalization:o})}};const Np={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Rp={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},xp={AND:"and",OR:"or"},_p={ORDERED:"ordered",MOST_RECENT:"mostRecent"},Mp={[Rp.EQUALS]:d(),[Rp.NOT_EQUALS]:u(),[Rp.EXISTS]:p(),[Rp.NOT_EXISTS]:f(),[Rp.GREATER_THAN]:m(),[Rp.GREATER_THAN_OR_EQUAL_TO]:h(),[Rp.LESS_THAN]:y(),[Rp.LESS_THAN_OR_EQUAL_TO]:v(),[Rp.CONTAINS]:b(),[Rp.NOT_CONTAINS]:C(),[Rp.STARTS_WITH]:w(),[Rp.ENDS_WITH]:E()},Lp="eventId",Vp="eventType",$p=["iam.eventType",Vp,"type"],Up=["iam.id","id"],qp=(e,t,n)=>{switch(t){case Rp.GREATER_THAN:return e>n;case Rp.GREATER_THAN_OR_EQUAL_TO:return e>=n;case Rp.LESS_THAN:return e<n;case Rp.LESS_THAN_OR_EQUAL_TO:return e<=n;case Rp.EQUALS:return e===n;case Rp.NOT_EQUALS:return e!==n;default:return!1}},Bp=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!I(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},Fp=e=>{const t=structuredClone(e);return[[Bp(t,$p),Vp],[Bp(t,Up),Lp]].forEach((([e,n])=>{e!==n&&(t[n]=t[e],delete t[e])})),t},Hp="TGT",zp="DEFAULT",Jp="ECID",Wp="<key>",Gp="<identity>",Qp=X(K,(e=>e.join("-"))),Xp=100,Yp=X(Z);var Kp=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const r=t[n];return null==r||""===r?e:e+=`${n}:${r}`}),"");return Et(n)},Zp=e=>{const t=new Date;return t.setDate(t.getDate()-e),t};const ef=1e3,tf=30,nf="events",rf=2097152,of={TYPE:"~type",SOURCE:"~source"},af={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},sf={REQUEST:"com.adobe.eventSource.requestContent"},cf="cjmiam",lf="schema",df="insert",uf="insertIfNotExists";var pf=(e=tf,t=ef)=>n=>{let r=Object.entries(n).reduce(((e,[t,{timestamps:n=[]}])=>(n.forEach((n=>{e.push({key:t,timestamp:n})})),e)),[]);const o=Zp(e);return r=r.filter((({timestamp:e})=>e>=o)),r.sort(((e,t)=>e.timestamp-t.timestamp)),r=r.slice(-t),r.reduce(((e,{key:t,timestamp:n})=>(e[t]||(e[t]={timestamps:[]}),e[t].timestamps.push(n),e)),{})},ff=e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t};const gf=e=>e?.scopeDetails?.activity?.id,mf=e=>e?.scopeDetails?.decisionProvider,hf=(e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]},yf=(e,t)=>n=>{e.setItem(t,JSON.stringify(n))},vf=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},bf=e=>{e.clear()};var Cf=(e=[])=>Array.isArray(e)?e.flat(1/0):e,wf=(e,t,n)=>{const{html:r,mobileParameters:o}=n;return{schema:Gc,data:{mobileParameters:o,webParameters:{},content:r,contentType:Ju},id:e}},Ef=(e,t,n)=>{const{schema:r,data:o,id:a}=n;return{schema:r,data:o,id:a||e}};const Sf={[cf]:wf,[lf]:Ef};var If=()=>e=>{const{id:t,type:n,detail:r}=e;return"function"==typeof Sf[n]?Sf[n](t,n,r):r};const kf=e=>{const{schema:t,data:n}=e;if(t===Jc)return!0;if(t!==zc)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var Pf=(e,t)=>{const n=If(),r=gf(e),o=[],a=e=>{const{data:t={},schema:n}=e,r=n===Jc?t:t.content;r&&o.push(ae("string"==typeof r?JSON.parse(r):r,{generateEventHash:Kp}))},i=a=>{const i=t.getEvent(nl,r),s=i?.timestamps[0],c=Cf(o.map((e=>e.execute(a)))).map(n).map((e=>{const n=t.addEvent({eventType:cl.TRIGGER,eventId:r}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:c}};return Array.isArray(e.items)&&e.items.filter(kf).forEach(a),{rank:e?.scopeDetails?.rank||1/0,evaluate:i,isEvaluable:o.length>0}},Of=({eventRegistry:e})=>{const t={},n=n=>{const r=gf(n);if(!r)return;const o=Pf(n,e);o.isEvaluable&&(t[r]=o)};return{addPayload:n,addPayloads:e=>{e.forEach(n)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}},Df=e=>{const t=[];return e.forEach((e=>{const n=[];e.items.forEach((e=>{e.schema===Xc?t.push({operation:e.data.operation,event:{eventId:e.data.content["iam.id"],eventType:e.data.content["iam.eventType"]}}):n.push(e)})),e.items=n})),t},Tf=({lifecycle:e,eventRegistry:t})=>({renderDecisions:n=!1,propositions:r=[],event:o,personalization:a})=>{if(e){const i=Df(r);t.addEventPayloads(i),e.onDecision({renderDecisions:n,propositions:r,event:o,personalization:a})}return{propositions:r}},Af=({storage:e,logger:t})=>{let n,r,o,a=e;const i=e=>{a=e;const t=hf(a,nf);if(n=yf(a,nf),[r,o]=t({}),o>rf){const e=pf();r=e(r),n(r)}};i(e);const s=(e={eventType:null,eventId:null},o=df)=>{const{eventType:a,eventId:i}=e;if(!a||!i)return;const s=Kp(e);if(o===uf&&r[s])return;r[s]&&Array.isArray(r[s].timestamps)||(r[s]={timestamps:[]});const c=(new Date).getTime();return r[s].timestamps.push(c),r[s].timestamps.sort(),t.info("[Event History] Added event for",e,"with hash",s,"and timestamp",c),n(r),r[s]},c=(e=[])=>e.map((({operation:e,event:t})=>s(t,e)));return{addExperienceEdgeEvent:e=>{const{xdm:t}=e.getContent();if(!ff(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:r}={},propositions:o=[]}={}}}=t;Object.keys(n).filter((e=>n[e]===sl)).forEach((e=>{o.forEach((t=>{mf(t)===Ip&&s({eventId:gf(t),eventType:e,action:r})}))}))},addEvent:s,addEventPayloads:c,getEvent:(e,t)=>{const n=Kp({eventType:e,eventId:t});if(r[n])return r[n]},toJSON:()=>r,setStorage:i}},jf=({eventRegistry:e,window:t,getBrowser:n})=>{const r=(new Date).getTime(),o=()=>({title:t.title,url:t.url,...an(t.url)}),a=()=>({url:t.referrer,...an(t.referrer)}),i=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:r,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-r,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),c={browser:{name:n()},page:o(),referringPage:a()},l=()=>({...c,...i(),window:s(),"~sdkver":Da});return{getContext:(t={})=>{const n={...l(),...t};return{...Ap(n),events:e.toJSON()}}}};const Nf=(e,...t)=>t,Rf=()=>!0,xf=()=>{let e=Nf,t=Rf,n=0;const r={},o=e=>()=>{delete r[e]},a=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,r[n]={callback:e,params:t},{id:n,unsubscribe:o(n)}),i=(...n)=>{Object.values(r).forEach((({callback:r,params:o})=>{const a=e(o,...n);t(o,...a)&&r(...a)}))},s=(n,...o)=>{if(!n||!r[n])return;const{callback:a,params:i}=r[n],s=e(i,...o);t(i,...s)&&a(...s)};return{add:a,emit:i,emitOne:s,hasSubscriptions:()=>Object.keys(r).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},_f=({options:e})=>jr({surfaces:kr(Nr()).uniqueItems(),schemas:kr(Nr()).uniqueItems(),callback:Or().required()}).noUnknownFields()(e),Mf=e=>{const{id:t,scope:n,scopeDetails:r}=e;return{id:t,scope:n,scopeDetails:r}};var Lf=({collect:e})=>{let t=()=>{};const n=new Set,r=e=>[cl.INTERACT,cl.DISMISS].includes(e),o=(e,t,o)=>{const a=[e,t].join("-"),i=!o.has(a)&&(r(e)||!n.has(a));return o.add(a),n.add(a),i},a=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(cl).includes(t))return Promise.resolve();const r=[],a=new Set;return n.forEach((e=>{const n=Mf(e);o(t,n.id,a)&&r.push(n)})),r.length>0?e({decisionsMeta:r,eventType:pl(t),documentMayUnload:!0}):Promise.resolve()},i=xf(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:r}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!r||r.includes(e.schema)))}})).filter((e=>e.items.length>0))},a]};i.setEmissionPreprocessor(s);const c=({surfaces:e,schemas:n,callback:r})=>{const{id:o,unsubscribe:a}=i.add(r,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(o),Promise.resolve({unsubscribe:a})};return{refresh:e=>{t=t=>{t?i.emitOne(t,e):i.emit(e)},t()},command:{optionsValidator:e=>_f({options:e}),run:c}}};const Vf=({options:e})=>jr({renderDecisions:Pr(),personalization:jr({decisionContext:jr({})})}).noUnknownFields()(e);var $f=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Vf({options:e}),run:({renderDecisions:n,decisionContext:r,applyResponse:o})=>o({renderDecisions:n,propositions:t.evaluate(e.getContext(r))})});const Uf=({config:e,eventManager:t,createNamespacedStorage:n,consent:r,getBrowser:o,logger:a})=>{const{orgId:i,personalizationStorageEnabled:s}=e,c=zd({eventManager:t,mergeDecisionsMeta:ru}),l=n(`${Dt(i)}.decisioning.`);s||bf(l.persistent);const d=Af({storage:vf(),logger:a}),u=Of({eventRegistry:d}),p=jf({eventRegistry:d,window:window,getBrowser:o}),f=$f({contextProvider:p,decisionProvider:u}),g=Lf({collect:c});let m;return{lifecycle:{onDecision({propositions:e}){g.refresh(e)},onComponentsRegistered(e){m=Tf({lifecycle:e.lifecycle,eventRegistry:d}),s&&r.awaitConsent().then((()=>{d.setStorage(l.persistent)})).catch((()=>{l&&bf(l.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:r=nn}){const{decisionContext:o={}}=n;r(jp({renderDecisions:t,decisionProvider:u,applyResponse:m,event:e,personalization:n,decisionContext:p.getContext({[of.TYPE]:af.EDGE,[of.SOURCE]:sf.REQUEST,...o})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>d.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return f.run({renderDecisions:e,decisionContext:{[of.TYPE]:af.RULES_ENGINE,[of.SOURCE]:sf.REQUEST,...n},applyResponse:m})},optionsValidator:f.optionsValidator},subscribeRulesetItems:g.command}}};Uf.namespace="RulesEngine",Uf.configValidators=jr({personalizationStorageEnabled:Pr().default(!1)});var qf=jr({streamingMedia:jr({channel:Nr().nonEmpty().required(),playerName:Nr().nonEmpty().required(),appVersion:Nr(),mainPingInterval:Tr().minimum(10).maximum(50).default(10),adPingInterval:Tr().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Bf=({options:e})=>Sr([jr({playerId:Nr().required(),getPlayerDetails:Or().required(),xdm:jr({mediaCollection:jr({sessionDetails:jr(Ir()).required()})}),edgeConfigOverrides:_r}).required(),jr({xdm:jr({mediaCollection:jr({playhead:Tr().required(),sessionDetails:jr(Ir()).required()})}),edgeConfigOverrides:_r}).required()],"an object with playerId, getPlayerDetails and xdm.mediaCollection.sessionDetails, or an object with xdm.mediaCollection.playhead and xdm.mediaCollection.sessionDetails")(e),Ff=({options:e})=>Sr([jr({playerId:Nr().required(),xdm:jr({eventType:Rr(...Object.values(Ks)).required(),mediaCollection:jr(Ir())}).required()}).required(),jr({xdm:jr({eventType:Rr(...Object.values(Ks)).required(),mediaCollection:jr({playhead:Tr().integer().required(),sessionID:Nr().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),Hf=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:r})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=nn}){if(!e)return;const{legacy:n,playerId:o,getPlayerDetails:a}=e;n||t((({response:e})=>r({playerId:o,getPlayerDetails:a,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>Bf({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>Ff({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const zf=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:r,consent:o})=>{const a=nc(),i=ec({config:e,eventManager:n,consent:o,sendEdgeNetworkRequest:r,setTimestamp:Pa((()=>new Date))}),s=oc({mediaSessionCacheManager:a,mediaEventManager:i,config:e}),c=ac({config:e,mediaEventManager:i,mediaSessionCacheManager:a}),l=sc({mediaSessionCacheManager:a,config:e,trackMediaEvent:s});return Hf({config:e,trackMediaEvent:s,mediaResponseHandler:l,trackMediaSession:c})};zf.namespace="Streaming media",zf.configValidators=qf;var Jf=Object.freeze({__proto__:null,activityCollector:Rs,audiences:Ls,consent:Qs,eventMerge:Ys,mediaAnalyticsBridge:Ec,personalization:Pp,rulesEngine:Uf,streamingMedia:zf});const{console:Wf}=window,Gf=Gt(window),Qf=(e={})=>{const t=jr({name:Nr().default("alloy"),monitors:kr(jr({})).default([]),components:kr(Or())
}).noUnknownFields(),{name:n,monitors:r,components:o}=t(e),a=Lr({console:Wf,locationSearch:window.location.search,createLogger:Do,instanceName:n,createNamespacedStorage:Gf,getMonitors:ba.bind(null,r)}),i=Fi({instanceName:n,logController:a,components:o});return a.logger.logOnInstanceCreated({instance:i}),i};t.createCustomInstance=Qf;var Xf=e=>null==e,Yf=e=>!Xf(e)&&!Array.isArray(e)&&"object"==typeof e,Kf=se({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});Kf.get.bind(Kf),Kf.set.bind(Kf),Kf.remove.bind(Kf),Kf.withConverter.bind(Kf);const Zf=(e,t)=>{Object.keys(t).forEach((n=>{Yf(e[n])&&Yf(t[n])?Zf(e[n],t[n]):e[n]=t[n]}))};var eg=(e,...t)=>{if(Xf(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>Zf(n,Object(e)))),n};t.deepAssign=eg;const tg=[];for(let e=0;e<256;++e)tg.push((e+256).toString(16).slice(1));let ng;const rg=new Uint8Array(16);var og={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ag=()=>({eventMergeId:de()});t.createEventMergeId=ag;var ig=e=>"function"==typeof e,sg=e=>Yf(e)&&0===Object.keys(e).length,cg=e=>"boolean"==typeof e,lg=e=>"number"==typeof e&&!Number.isNaN(e),dg=e=>{const t=parseInt(e,10);return lg(t)&&e===t},ug=e=>"string"==typeof e;const pg=e=>function(t,n){return null==t?t:e.call(this,t,n)},fg=(e,t)=>function(n,r){return t.call(this,e.call(this,n,r),r)},gg=(e,t)=>function(n,r){const o=[],a=[e,t].reduce(((e,t)=>{try{return t.call(this,e,r)}catch(t){return o.push(t),e}}),n);if(o.length)throw new Error(o.join("\n"));return a},mg=(e,t,n)=>Object.assign(fg(e,t),e,n),hg=(e,t,n)=>Object.assign(fg(e,pg(t)),e,n),yg=(e,t,n)=>Object.assign(gg(pg(t),e),e,n),vg=(e,t,n,r)=>{if(!e)throw new Error(`'${n}': Expected ${r}, but got ${JSON.stringify(t)}.`)};var bg=(e,t)=>(vg(cg(e),e,t,"true or false"),e),Cg=(e,t)=>(vg(ig(e),e,t,"a function"),e),wg=(e,t)=>function(n,r){let o;const a=e.find((e=>{try{return o=e.call(this,n,r),!0}catch{return!1}}));return vg(a,n,r,t),o},Eg=e=>function(t,n){vg(Array.isArray(t),t,n,"an array");const r=[],o=t.map(((o,a)=>{try{return e.call(this,o,`${n}[${a}]`,t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return o},Sg=e=>t=>null==t?e:t,Ig=(e="This field has been deprecated")=>function(t,n){let r=e;return void 0!==t&&(n&&(r=`'${n}': ${r}`),this&&this.logger&&this.logger.warn(r)),t},kg=e=>(t,n)=>(vg(t===e,t,n,`${e}`),t),Pg=e=>function(t,n){vg(Yf(t),t,n,"an object");const r=[],o={};if(Object.keys(t).forEach((a=>{const i=t[a],s=n?`${n}.${a}`:a;try{const t=e.call(this,i,s);void 0!==t&&(o[a]=t)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return o},Og=(e,t)=>(n,r)=>(vg(n>=t,n,r,`${e} greater than or equal to ${t}`),n),Dg=(e,t)=>(n,r)=>(vg(n<=t,n,r,`${e} less than or equal to ${t}`),n),Tg=e=>(t,n)=>{const r=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;r.push(`'${e}': Unknown field.`)}})),r.length)throw new Error(r.join("\n"));return t},Ag=e=>(t,n)=>(Yf(t)?vg(!sg(t),t,n,e):vg(t.length>0,t,n,e),t),jg=e=>function(t,n){vg(Yf(t),t,n,"an object");const r=[],o={};if(Object.keys(e).forEach((a=>{const i=t[a],s=e[a],c=n?`${n}.${a}`:a;try{const e=s.call(this,i,c);void 0!==e&&(o[a]=e)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(o,e)||(o[e]=t[e])})),r.length)throw new Error(r.join("\n"));return o},Ng=(e,t,n)=>function(r,o){vg(Yf(r),r,o,"an object");const{[e]:a,[n]:i,...s}=r,c=t(a,o);if(void 0!==c){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(o&&(t=`'${o}': ${t}`),void 0!==i&&i!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:i||c,...s}},Rg=()=>{const e=[];return(t,n)=>(vg(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},xg=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const r=e[n];if(r in t)return!1;t[r]=!0}return!0},_g=()=>(e,t)=>(vg(xg(e),e,t,"array values to be unique"),e);const Mg=/^[a-z0-9.-]{1,}$/i;var Lg=(e,t)=>(vg(Mg.test(e),e,t,"a valid domain"),e),Vg=(e,t)=>(vg(dg(e),e,t,"an integer"),e),$g=(e,t)=>(vg(lg(e),e,t,"a number"),e),Ug=e=>{try{return null!==RegExp(e)}catch{return!1}},qg=(e,t)=>(vg(Ug(e),e,t,"a regular expression"),e),Bg=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},Fg=(e,t)=>(vg(ug(e),e,t,"a string"),e),Hg=e=>(t,n)=>(vg(e.test(t),t,n,`does not match the ${e.toString()}`),t);const zg=e=>e;zg.default=function(e){return mg(this,Sg(e))},zg.required=function(){return mg(this,Bg)},zg.deprecated=function(e){return mg(this,Ig(e))};const Jg=function(){return hg(this,Lg)},Wg=function(e){return hg(this,Og("an integer",e))},Gg=function(e){return hg(this,Og("a number",e))},Qg=function(e){return hg(this,Dg("a number",e))},Xg=function(){return hg(this,Vg,{minimum:Wg})},Yg=function(){return hg(this,Ag("a non-empty string"))},Kg=function(){return hg(this,Ag("a non-empty array"))},Zg=function(){return hg(this,Ag("a non-empty object"))},em=function(){return hg(this,qg)},tm=function(e){return hg(this,Hg(e))},nm=function(){return hg(this,Rg())},rm=function(){return hg(this,_g())},om=function(e,t){return mg(this,wg(e,t))},am=function(){return this},im=function(e){return hg(this,Eg(e),{nonEmpty:Kg,uniqueItems:rm})},sm=function(){return hg(this,bg)},cm=function(){return hg(this,Cg)},lm=function(e){return hg(this,kg(e))},dm=function(){return hg(this,$g,{minimum:Gg,maximum:Qg,integer:Xg,unique:nm})},um=function(e){return hg(this,Pg(e),{nonEmpty:Zg})},pm=e=>({noUnknownFields:function(){return hg(this,Tg(e))},nonEmpty:Zg,concat:function(t){const n={...e,...t.schema};return hg(this,t,pm(n))},renamed:function(e,t,n){return yg(this,Ng(e,t,n))},schema:e}),fm=function(e){return hg(this,jg(e),pm(e))},gm=function(){return hg(this,Fg,{regexp:em,domain:Jg,nonEmpty:Yg,unique:nm,matches:tm})},mm=om.bind(zg);am.bind(zg);const hm=im.bind(zg),ym=sm.bind(zg);cm.bind(zg);const vm=lm.bind(zg);dm.bind(zg);const bm=um.bind(zg),Cm=fm.bind(zg),wm=gm.bind(zg);bm(hm(Cm({authenticatedState:function(...e){return mm(e.map(vm),`one of these values: ${JSON.stringify(e)}`)}("ambiguous","authenticated","loggedOut"),id:wm(),namespace:Cm({code:wm()}).noUnknownFields(),primary:ym(),xid:wm()}).noUnknownFields()).required()),Cm({}),t.components=[Jf.activityCollector,Jf.audiences,Jf.consent,Jf.eventMerge,Jf.mediaAnalyticsBridge,Jf.personalization,Jf.rulesEngine,Jf.streamingMedia]}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";e.exports=({turbine:e,window:t,createCustomInstance:n,components:r,createEventMergeId:o,orgId:a,wrapOnBeforeEventSend:i,getConfigOverrides:s})=>{const{instances:c}=e.getExtensionSettings(),l={},d={};return t.__alloyMonitors=t.__alloyMonitors||[],t.__alloyMonitors.push({onInstanceCreated:(...e)=>{d.onInstanceCreated||=[],d.onInstanceCreated.push(e)},onInstanceConfigured:(...e)=>{d.onInstanceConfigured||=[],d.onInstanceConfigured.push(e)},onBeforeCommand(...e){const{commandName:t}=e[0];"configure"===t&&(d.onBeforeCommand||=[],d.onBeforeCommand.push(e))}}),c.forEach((({name:o,edgeConfigId:c,stagingEdgeConfigId:d,developmentEdgeConfigId:u,onBeforeEventSend:p,...f})=>{const g=n({name:o,components:r});t[o]=g,t.__alloyNS||(t.__alloyNS=[]),t.__alloyNS.push(o),l[o]=g;const m=e.environment&&e.environment.stage,h="development"===m&&u||"staging"===m&&d||c;f.edgeConfigOverrides=s(f),g("configure",{...f,datastreamId:h,debugEnabled:e.debugEnabled,orgId:f.orgId||a,onBeforeEventSend:i(p)}),e.onDebugChanged((e=>{g("setDebug",{enabled:e})}))})),{getInstance:e=>l[e],createEventMergeId:()=>o(),addMonitor(e){t.__alloyMonitors.push(e),Object.keys(d).forEach((t=>{e[t]&&d[t].forEach((n=>{e[t](...n)}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=({version:e})=>t=>n=>{if(n.xdm.implementationDetails.name=`${n.xdm.implementationDetails.name}/reactor`,n.xdm.implementationDetails.version=`${n.xdm.implementationDetails.version}+${e}`,t)return t(n)}}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{set(t,n){e[t]=n},getByCacheId:t=>e[t],clearByEventMergeId(t){Object.keys(e).forEach((n=>{e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=()=>{const e=[];return{add(t){e.push(t)},triggerEvent(t){e.forEach((e=>{e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{add({playerId:t,sessionDetails:n}){if(e[t])throw new Error(`Player Id ${t} already exists`);e[t]=n},remove({playerId:t}){e[t]=void 0},get:({playerId:t})=>e[t]}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=()=>({})}}}}},company:{orgId:"B21B678254F601E20A4C98A5@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Transfermarkt Web",settings:{domains:["transfermarkt.training","tm.127.0.0.1.nip.io","transfermarkt.at","transfermarkt.be","transfermarkt.ch","transfermarkt.co","transfermarkt.co.id","transfermarkt.co.in","transfermarkt.co.kr","transfermarkt.co.uk","transfermarkt.co.za","transfermarkt.com","transfermarkt.com.ar","transfermarkt.com.br","transfermarkt.com.tr","transfermarkt.de","transfermarkt.es","transfermarkt.fr","transfermarkt.gr","transfermarkt.it","transfermarkt.jp","transfermarkt.mx","transfermarkt.nl","transfermarkt.pe","transfermarkt.pl","transfermarkt.pt","transfermarkt.ro","transfermarkt.world","transfermarkt.us"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR8333a6acc88d409b93eefa6ff587184d"},rules:[{id:"RL0ab63b5556764d308ca87c6ac9f74e2b",name:"all pages - library load - AA (PIs, event4)",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Mapping | PageImpression%",type:"web.webpagedetails.pageViews",instanceName:"alloy"},timeout:5e3,delayNext:!0}]},{id:"RL23fa29d49dfb4e029728838247021101",name:"tmTrackingAndAds (Custom PIs, event8)",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"future",method:"specificEvent",eventKey:"tmTrackingAndAds"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Mapping | tmTrackingAndAds DataLayer%",type:"web.webinteraction.linkClicks",instanceName:"alloy",documentUnloading:!0},timeout:5e3,delayNext:!0}]},{id:"RLb77e0ab845f64dea9b1c009eb08096ef",name:"tmEvent (Eventtracking, event7)",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"future",method:"specificEvent",eventKey:"tmEvent"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM Mapping | tmEvent DataLayer%",type:"web.webinteraction.linkClicks",instanceName:"alloy",documentUnloading:!0},timeout:5e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,r;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(r=n.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}function r(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function o(e){return e.substr(0,e.indexOf("["))}function a(e,t,n){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!r(i))return a(s,t[i],n);var c=t[i=o(i)];Array.isArray(c)&&c.forEach((function(e){return a(s,e,n)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=n(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,l=window,d=l,u=function(e,t,n,r){var o,a=Boolean(t&&Array.isArray(n)),i=Boolean(a&&e),s=document.createElement("a");if(a){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=d.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=o)return o;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),o=s.protocol+"//"+e}else o="";return o},p=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},f={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return a}};return d&&r.onDebugChanged((function(e){e?d.dynamicHostResolver=f:delete d.dynamicHostResolver})),f},p=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},f="debug",g=function(e,t){var n=function(){return"true"===e.getItem(f)},r=function(t){e.setItem(f,t)},o=[],a=function(e){o.push(e)};return t.outputEnabled=n(),{onDebugChanged:a,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(r(e),t.outputEnabled=e,o.forEach((function(t){t(e)})))}}},m="Module did not export a function.",h=function(e,t,n){return function(r,o,a){a=a||[];var i=e.getModuleExports(r.modulePath);if("function"!=typeof i)throw new Error(m);var s=e.getModuleDefinition(r.modulePath),c=r.settings||{};!r.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);var l=t(c,o);return i.bind(null,l).apply(null,a)}},y=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},v={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},b="\ud83d\ude80",C=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":b,w=!1,E=function(e){if(w&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(C),e!==v.DEBUG||window.console[e]||(e=v.INFO),window.console[e].apply(window.console,t)}},S=E.bind(null,v.LOG),I=E.bind(null,v.INFO),k=E.bind(null,v.DEBUG),P=E.bind(null,v.WARN),O=E.bind(null,v.ERROR),D=function(){var e=w;w=!0,E.apply(null,Array.prototype.concat(v.WARN,Array.prototype.slice.call(arguments))),e||(w=!1)},T={log:S,info:I,debug:k,warn:P,error:O,deprecation:D,get outputEnabled(){return w},set outputEnabled(e){w=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:S.bind(null,t),info:I.bind(null,t),debug:k.bind(null,t),warn:P.bind(null,t),error:O.bind(null,t)}}},A=l,j="com.adobe.reactor.",N=function(e,t){var n=j+(t||"");return{getItem:function(t){try{return A[e].getItem(n+t)}catch(e){return null}},setItem:function(t,r){try{return A[e].setItem(n+t,r),!0}catch(e){return!1}}}},R=N,x="dataElements.",_=R("sessionStorage",x),M=R("localStorage",x),L={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},$=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},U=y,q=T,B={setValue:function(e,t,n){var r;switch(t){case L.PAGEVIEW:return void(V[e]=n);case L.SESSION:return void((r=$(n))&&_.setItem(e,r));case L.VISITOR:return void((r=$(n))&&M.setItem(e,r))}},getValue:function(e,t){var n;switch(t){case L.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case L.SESSION:return null===(n=_.getItem(e))?n:JSON.parse(n);case L.VISITOR:return null===(n=M.getItem(e))?n:JSON.parse(n)}}},F=function(e,t,n,r){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(r?"\n"+r:"")},H=function(e,t,n,r,o){return function(a,i){var s=t(a);if(!s)return r?"":void 0;var c,l,d=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void q.error(F(s,a,e.message,e.stack))}if("function"==typeof c){var u,p=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(o(p,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(n(p,i),i)}catch(e){return void q.error(F(s,a,e.message,e.stack))}return d&&(null!=u?B.setValue(a,d,u):u=B.getValue(a,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=U(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}q.error(F(s,a,"Module did not export a function."))}},z=y,J={text:function(e){return e.textContent},cleanText:function(e){return z(e.textContent)}},W=function(e,t,n){for(var r,o=e,a=0,i=t.length;a<i;a++){if(null==o)return;var s=t[a];if(n&&"@"===s.charAt(0)){var c=s.slice(1);o=J[c](o)}else if(o.getAttribute&&(r=s.match(/^getAttribute\((.+)\)$/))){var l=r[1];o=o.getAttribute(l)}else o=o[s]}return o},G=function(e,t,n){return function(r,o){var a;if(t(r))a=n(r,o);else{var i=r.split("."),s=i.shift();"this"===s?o&&(a=W(o.element,i,!0)):"event"===s?o&&(a=W(o,i)):"target"===s?o&&(a=W(o.target,i)):a=W(e[s],i)}return a}},Q=function(e,t){return function(n){var r=n.split(".")[0];return Boolean(t(n)||"this"===r||"event"===r||"target"===r||e.hasOwnProperty(r))}},X=function(e,t,n){var r={exports:{}};return e.call(r.exports,r,r.exports,t,n),r.exports},Y=X,K=T,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{r(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");K.error(t)}}))},r=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=Y(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,r,o,a){var i={definition:n,extensionName:r,require:o,turbine:a};i.require=o,e[t]=i},hydrateCache:n,getModuleExports:r,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=T,te=!1,ne=function(e){return function(t,n){var r=e._monitors;r&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),r.forEach((function(e){e[t]&&e[t](n)})))}},re=T,oe=function(e,t,n){var r,o,a,i,s=[],c=function(r,o,a){if(!e(o))return r;s.push(o);var i=t(o,a);return s.pop(),null==i&&n?"":i};return r=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},o=function(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var a=r[o],s=e[a];n[a]=i(s,t)}return n},a=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n.push(i(e[r],t));return n},i=function(e,t){return"string"==typeof e?r(e,t):Array.isArray(e)?a(e,t):"object"==typeof e&&null!==e?o(e,t):e},function(e,t){return s.length>10?(re.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},ae=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,n){return function(r,o,a,i){return i.then((function(){var i,s=r.delayNext;return new se((function(t,n){var o=e(r,a,[a]);if(!s)return t();var c=r.timeout,l=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([o,l]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(r,o,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},le=ie,de=function(e,t,n,r,o){return function(a,i,s,c){return c.then((function(){var c;return new le((function(t,n){var r=e(a,s,[s]),o=a.timeout,i=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+o/1e3+" seconds to complete. "))}),o)}));le.race([r,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),r(a,i,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!n(a,e))return o(a,i),le.reject()}))}))}},ue=ie.resolve(),pe=function(e,t,n){return function(r,o){return r.conditions&&r.conditions.forEach((function(t){ue=e(t,r,o,ue)})),r.actions&&r.actions.forEach((function(e){ue=t(e,r,o,ue)})),ue=(ue=ue.then((function(){n(r)}))).catch((function(){}))}},fe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},ge=function(e,t,n,r){return function(o,a){var i;if(o.conditions)for(var s=0;s<o.conditions.length;s++){i=o.conditions[s];try{var c=e(i,a,[a]);if(fe(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,o),!1}catch(e){return r(i,o,e),!1}}return!0}},me=function(e,t){return function(n,r){e(n,r)&&t(n,r)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},ye=function(e){return function(t){var n=t.rule,r=t.event,o=e.getModuleDefinition(r.modulePath).name;return{$type:e.getModuleExtensionName(r.modulePath)+"."+o,$rule:{id:n.id,name:n.name}}}},ve=function(e,t,n,r,o,a){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var d=o(s);t(l,null,[function(t){var r=n(d,t);i((function(){e(r,c)}))}])}catch(e){a.error(r(l,c,e))}}},be=function(e,t,n,r){return function(o,a,i){var s=t(o);n.error(e(s,a.name,i)),r("ruleActionFailed",{rule:a,action:o})}},Ce=function(e,t,n,r){return function(o,a,i){var s=t(o);n.error(e(s,a.name,i)),r("ruleConditionFailed",{rule:a,condition:o})}},we=function(e,t,n){return function(r,o){var a=e(r);t.log('Condition "'+a+'" for rule "'+o.name+'" was not met.'),n("ruleConditionFailed",{rule:o,condition:r})}},Ee=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Se=function(e,t,n){return function(r,o){var a;if(r.actions)for(var i=0;i<r.actions.length;i++){a=r.actions[i];try{e(a,o,[o])}catch(e){return void t(a,r,e)}}n(r)}},Ie=function(e,t,n,r){return function(o,a){r("ruleTriggered",{rule:a}),e?n(a,o):t(a,o)}},ke=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Pe=function(e,t){return t&&!e.negate||!t&&e.negate},Oe=[],De=!1,Te=function(e){De?e():Oe.push(e)},Ae=function(e,t,n){e(t).forEach((function(e){n(Te,e)})),De=!0,Oe.forEach((function(e){e()})),Oe=[]},je=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.isPlainObject=n;var Re,xe=T,_e=c,{isPlainObject:Me}=Ne,Le=function(e,t){return Me(t=t||{})?t=_e({},t,e):_e(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return xe.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(n,r){var o=e[n];if(o){var a=o.modules;if(a)for(var i=Object.keys(a),s=0;s<i.length;s++){var c=i[s],l=a[c];if(l.shared&&l.name===r)return t.getModuleExports(c)}}}},$e=function(e,t){return function(){return t?e(t):{}}},Ue=function(e,t,n){return function(r){if(n){var o=r.split(".");o.splice(o.length-1||1,0,"min"),r=o.join(".")}return e(t)+r}},qe=".js",Be=function(e){return e.substr(0,e.lastIndexOf("/"))},Fe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},He=function(e,t){Fe(t,qe)||(t+=qe);var n=t.split("/"),r=Be(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?r.length&&r.pop():r.push(e))})),r.join("/")},ze={exports:{}};Re=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function o(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(r.read||r)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}return n((function(){}))},ze.exports=Re();var Je=ze.exports,We={get:Je.get,set:Je.set,remove:Je.remove},Ge=ie,Qe=function(e,t){return new Ge((function(n,r){t.onload=function(){n(t)},t.onerror=function(){r(new Error("Failed to load script "+e))}}))},Xe=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),r=new URLSearchParams(n),o=r.keys();do{var a=o.next(),i=a.value;if(i){var s=r.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===a.done);return t},Ye=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(r){var o=e[r];"string"==typeof e[r]?o=o.replace(/ /g,t):["object","undefined"].includes(typeof o)&&!Array.isArray(o)&&(o=""),Array.isArray(o)?o.forEach((function(e){n.append(r,e)})):n.append(r,o)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ke="@adobe/reactor-",Ze={cookie:We,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Qe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":c,promise:ie,"query-string":{parse:function(e){return Xe(e)},stringify:function(e){return Ye(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Ke)){var n=t.substr(Ke.length),r=Ze[n];if(r)return r}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,nt=$e,rt=Ue,ot=T,at=He,it=et,st=function(e,t,n,r,o,a,i){var s=e.extensions,c=e.buildInfo,l=e.environment,d=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(p){var f=s[p],g=f.settings;Array.isArray(f.filePaths)&&(g=a(g,f.filePaths));var m=nt(r,g);if(f.modules){var h=ot.createPrefixedLogger(f.displayName),y=rt(i,f.hostedLibFilesBaseUrl,c.minified),v={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:o,getExtensionSettings:m,getHostedLibFileUrl:y,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:r,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(f.modules).forEach((function(e){var n=f.modules[e],r=it((function(n){var r=at(e,n);return t.getModuleExports(r)}));t.registerModule(e,n,p,r,v)}))}})),t.hydrateCache()}return t},ct=We,lt=T,dt=function(e,t,n,r,o){var a=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=a,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:a.info(e);break;case 4:a.warn(e);break;case 5:a.error(e);break;default:a.log(e)}},e.getVar=r,e.setVar=o,e.setCookie=function(e,t,n){var r="",o={};n&&(r=", { expires: "+n+" }",o.expires=n);var a='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+r+").";lt.deprecation(a),ct.set(e,t,o)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:ut}=Ne,pt=s,ft=c,gt=u,mt=p,ht=g,yt=h,vt=H,bt=G,Ct=Q,wt=Z,Et=ne,St=oe,It=ae,kt=ce,Pt=de,Ot=pe,Dt=ge,Tt=me,At=he,jt=ye,Nt=ve,Rt=be,xt=Ce,_t=we,Mt=Ee,Lt=Se,Vt=Ie,$t=ke,Ut=Pe,qt=Ae,Bt=je,Ft=Le,Ht=N,zt=st,Jt=dt,Wt=function(e,t){return function(n,r,o){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(r)&&r.length?(r.forEach((function(e){Boolean(null!=o&&/^core\/.*actions.*\/customCode\.js$/.test(o))&&"source"===e&&!n.isExternal||a(e.split("."),n,t)})),n):n}},Gt=T,Qt=window._satellite;if(Qt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Xt=Qt.container;delete Qt.container;var Yt=ft({},Xt.buildInfo);Object.defineProperty(Yt,"environment",{get:function(){return Gt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Xt.environment.stage}}),Xt.buildInfo=Yt;var Kt,Zt=ht(Ht("localStorage"),Gt),en="";pt.currentScript&&pt.currentScript.getAttribute("src")&&(en=pt.currentScript.getAttribute("src"));try{Kt=gt(en,Boolean(Xt.company.dynamicCdnEnabled),Xt.company.cdnAllowList,Zt)}catch(e){throw Gt.warn("Please review the following error:"),e}var tn,nn=Wt(Kt.isDynamicEnforced,Kt.decorateWithDynamicHost),rn=wt(),on=Xt.property.settings.undefinedVarsReturnEmpty,an=Xt.property.settings.ruleComponentSequencingEnabled,sn=Xt.dataElements||{},cn=function(e){return sn[e]},ln=function(){return tn.apply(null,arguments)},dn=vt(rn,cn,ln,on,nn),un={},pn=It(un),fn=Ct(un,cn),gn=bt(un,cn,dn);tn=St(fn,gn,on),Jt(Qt,Xt,Zt.setDebugEnabled,gn,pn),zt(Xt,rn,Zt,tn,dn,nn,Kt.decorateWithDynamicHost);var mn=Et(Qt),hn=yt(rn,tn,nn),yn=At(rn),vn=_t(yn,Gt,mn),bn=xt($t,yn,Gt,mn),Cn=Rt($t,yn,Gt,mn),wn=Mt(Gt,mn),En=Nt(Vt(an,Tt(Dt(hn,Ut,vn,bn),Lt(hn,Cn,wn)),Ot(Pt(hn,Bt,Ut,bn,vn),kt(hn,Bt,Cn),wn),mn),hn,Ft,$t,jt(rn),Gt);qt(mt,Xt.rules||[],En)}return e(Qt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();